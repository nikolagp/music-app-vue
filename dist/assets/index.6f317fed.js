(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function iv(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const Ax="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sx=iv(Ax);function xT(e){return!!e||e===""}function La(e){if(be(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Ot(r)?Nx(r):La(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Ot(e))return e;if(rt(e))return e}}const kx=/;(?![^(]*\))/g,Cx=/:(.+)/;function Nx(e){const t={};return e.split(kx).forEach(n=>{if(n){const r=n.split(Cx);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Yr(e){let t="";if(Ot(e))t=e;else if(be(e))for(let n=0;n<e.length;n++){const r=Yr(e[n]);r&&(t+=r+" ")}else if(rt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Rx(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Yf(e[r],t[r]);return n}function Yf(e,t){if(e===t)return!0;let n=Ub(e),r=Ub(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Ma(e),r=Ma(t),n||r)return e===t;if(n=be(e),r=be(t),n||r)return n&&r?Rx(e,t):!1;if(n=rt(e),r=rt(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const a in e){const l=e.hasOwnProperty(a),f=t.hasOwnProperty(a);if(l&&!f||!l&&f||!Yf(e[a],t[a]))return!1}}return String(e)===String(t)}function Ox(e,t){return e.findIndex(n=>Yf(n,t))}const Pi=e=>Ot(e)?e:e==null?"":be(e)||rt(e)&&(e.toString===LT||!De(e.toString))?JSON.stringify(e,PT,2):String(e),PT=(e,t)=>t&&t.__v_isRef?PT(e,t.value):qs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:Zf(t)?{[`Set(${t.size})`]:[...t.values()]}:rt(t)&&!be(t)&&!MT(t)?String(t):t,nt={},Bs=[],dr=()=>{},xx=()=>!1,Px=/^on[^a-z]/,Jf=e=>Px.test(e),ov=e=>e.startsWith("onUpdate:"),Qt=Object.assign,sv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Dx=Object.prototype.hasOwnProperty,$e=(e,t)=>Dx.call(e,t),be=Array.isArray,qs=e=>ac(e)==="[object Map]",Zf=e=>ac(e)==="[object Set]",Ub=e=>ac(e)==="[object Date]",De=e=>typeof e=="function",Ot=e=>typeof e=="string",Ma=e=>typeof e=="symbol",rt=e=>e!==null&&typeof e=="object",DT=e=>rt(e)&&De(e.then)&&De(e.catch),LT=Object.prototype.toString,ac=e=>LT.call(e),Lx=e=>ac(e).slice(8,-1),MT=e=>ac(e)==="[object Object]",uv=e=>Ot(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,tf=iv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),eh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Mx=/-(\w)/g,Ur=eh(e=>e.replace(Mx,(t,n)=>n?n.toUpperCase():"")),Fx=/\B([A-Z])/g,yu=eh(e=>e.replace(Fx,"-$1").toLowerCase()),th=eh(e=>e.charAt(0).toUpperCase()+e.slice(1)),Sm=eh(e=>e?`on${th(e)}`:""),Fa=(e,t)=>!Object.is(e,t),nf=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},pf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},av=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let jb;const Vx=()=>jb||(jb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Or;class FT{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Or,!t&&Or&&(this.index=(Or.scopes||(Or.scopes=[])).push(this)-1)}run(t){if(this.active){const n=Or;try{return Or=this,t()}finally{Or=n}}}on(){Or=this}off(){Or=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function VT(e){return new FT(e)}function Ux(e,t=Or){t&&t.active&&t.effects.push(e)}const cv=e=>{const t=new Set(e);return t.w=0,t.n=0,t},UT=e=>(e.w&Ui)>0,jT=e=>(e.n&Ui)>0,jx=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ui},Bx=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];UT(o)&&!jT(o)?o.delete(e):t[n++]=o,o.w&=~Ui,o.n&=~Ui}t.length=n}},ng=new WeakMap;let va=0,Ui=1;const rg=30;let fr;const Po=Symbol(""),ig=Symbol("");class lv{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ux(this,r)}run(){if(!this.active)return this.fn();let t=fr,n=Li;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=fr,fr=this,Li=!0,Ui=1<<++va,va<=rg?jx(this):Bb(this),this.fn()}finally{va<=rg&&Bx(this),Ui=1<<--va,fr=this.parent,Li=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){fr===this?this.deferStop=!0:this.active&&(Bb(this),this.onStop&&this.onStop(),this.active=!1)}}function Bb(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Li=!0;const BT=[];function Qo(){BT.push(Li),Li=!1}function Yo(){const e=BT.pop();Li=e===void 0?!0:e}function Kn(e,t,n){if(Li&&fr){let r=ng.get(e);r||ng.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=cv()),qT(o)}}function qT(e,t){let n=!1;va<=rg?jT(e)||(e.n|=Ui,n=!UT(e)):n=!e.has(fr),n&&(e.add(fr),fr.deps.push(e))}function ni(e,t,n,r,o,s){const a=ng.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&be(e))a.forEach((f,p)=>{(p==="length"||p>=r)&&l.push(f)});else switch(n!==void 0&&l.push(a.get(n)),t){case"add":be(e)?uv(n)&&l.push(a.get("length")):(l.push(a.get(Po)),qs(e)&&l.push(a.get(ig)));break;case"delete":be(e)||(l.push(a.get(Po)),qs(e)&&l.push(a.get(ig)));break;case"set":qs(e)&&l.push(a.get(Po));break}if(l.length===1)l[0]&&og(l[0]);else{const f=[];for(const p of l)p&&f.push(...p);og(cv(f))}}function og(e,t){const n=be(e)?e:[...e];for(const r of n)r.computed&&qb(r);for(const r of n)r.computed||qb(r)}function qb(e,t){(e!==fr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const qx=iv("__proto__,__v_isRef,__isVue"),$T=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ma)),$x=fv(),Hx=fv(!1,!0),Kx=fv(!0),$b=Gx();function Gx(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Ke(this);for(let s=0,a=this.length;s<a;s++)Kn(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(Ke)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Qo();const r=Ke(this)[t].apply(this,n);return Yo(),r}}),e}function fv(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?aP:WT:t?zT:GT).get(r))return r;const a=be(r);if(!e&&a&&$e($b,o))return Reflect.get($b,o,s);const l=Reflect.get(r,o,s);return(Ma(o)?$T.has(o):qx(o))||(e||Kn(r,"get",o),t)?l:it(l)?a&&uv(o)?l:l.value:rt(l)?e?XT(l):ii(l):l}}const zx=HT(),Wx=HT(!0);function HT(e=!1){return function(n,r,o,s){let a=n[r];if(zs(a)&&it(a)&&!it(o))return!1;if(!e&&(!mf(o)&&!zs(o)&&(a=Ke(a),o=Ke(o)),!be(n)&&it(a)&&!it(o)))return a.value=o,!0;const l=be(n)&&uv(r)?Number(r)<n.length:$e(n,r),f=Reflect.set(n,r,o,s);return n===Ke(s)&&(l?Fa(o,a)&&ni(n,"set",r,o):ni(n,"add",r,o)),f}}function Xx(e,t){const n=$e(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&ni(e,"delete",t,void 0),r}function Qx(e,t){const n=Reflect.has(e,t);return(!Ma(t)||!$T.has(t))&&Kn(e,"has",t),n}function Yx(e){return Kn(e,"iterate",be(e)?"length":Po),Reflect.ownKeys(e)}const KT={get:$x,set:zx,deleteProperty:Xx,has:Qx,ownKeys:Yx},Jx={get:Kx,set(e,t){return!0},deleteProperty(e,t){return!0}},Zx=Qt({},KT,{get:Hx,set:Wx}),hv=e=>e,nh=e=>Reflect.getPrototypeOf(e);function Ll(e,t,n=!1,r=!1){e=e.__v_raw;const o=Ke(e),s=Ke(t);n||(t!==s&&Kn(o,"get",t),Kn(o,"get",s));const{has:a}=nh(o),l=r?hv:n?mv:Va;if(a.call(o,t))return l(e.get(t));if(a.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function Ml(e,t=!1){const n=this.__v_raw,r=Ke(n),o=Ke(e);return t||(e!==o&&Kn(r,"has",e),Kn(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Fl(e,t=!1){return e=e.__v_raw,!t&&Kn(Ke(e),"iterate",Po),Reflect.get(e,"size",e)}function Hb(e){e=Ke(e);const t=Ke(this);return nh(t).has.call(t,e)||(t.add(e),ni(t,"add",e,e)),this}function Kb(e,t){t=Ke(t);const n=Ke(this),{has:r,get:o}=nh(n);let s=r.call(n,e);s||(e=Ke(e),s=r.call(n,e));const a=o.call(n,e);return n.set(e,t),s?Fa(t,a)&&ni(n,"set",e,t):ni(n,"add",e,t),this}function Gb(e){const t=Ke(this),{has:n,get:r}=nh(t);let o=n.call(t,e);o||(e=Ke(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&ni(t,"delete",e,void 0),s}function zb(){const e=Ke(this),t=e.size!==0,n=e.clear();return t&&ni(e,"clear",void 0,void 0),n}function Vl(e,t){return function(r,o){const s=this,a=s.__v_raw,l=Ke(a),f=t?hv:e?mv:Va;return!e&&Kn(l,"iterate",Po),a.forEach((p,g)=>r.call(o,f(p),f(g),s))}}function Ul(e,t,n){return function(...r){const o=this.__v_raw,s=Ke(o),a=qs(s),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,p=o[e](...r),g=n?hv:t?mv:Va;return!t&&Kn(s,"iterate",f?ig:Po),{next(){const{value:h,done:m}=p.next();return m?{value:h,done:m}:{value:l?[g(h[0]),g(h[1])]:g(h),done:m}},[Symbol.iterator](){return this}}}}function vi(e){return function(...t){return e==="delete"?!1:this}}function eP(){const e={get(s){return Ll(this,s)},get size(){return Fl(this)},has:Ml,add:Hb,set:Kb,delete:Gb,clear:zb,forEach:Vl(!1,!1)},t={get(s){return Ll(this,s,!1,!0)},get size(){return Fl(this)},has:Ml,add:Hb,set:Kb,delete:Gb,clear:zb,forEach:Vl(!1,!0)},n={get(s){return Ll(this,s,!0)},get size(){return Fl(this,!0)},has(s){return Ml.call(this,s,!0)},add:vi("add"),set:vi("set"),delete:vi("delete"),clear:vi("clear"),forEach:Vl(!0,!1)},r={get(s){return Ll(this,s,!0,!0)},get size(){return Fl(this,!0)},has(s){return Ml.call(this,s,!0)},add:vi("add"),set:vi("set"),delete:vi("delete"),clear:vi("clear"),forEach:Vl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Ul(s,!1,!1),n[s]=Ul(s,!0,!1),t[s]=Ul(s,!1,!0),r[s]=Ul(s,!0,!0)}),[e,n,t,r]}const[tP,nP,rP,iP]=eP();function dv(e,t){const n=t?e?iP:rP:e?nP:tP;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get($e(n,o)&&o in r?n:r,o,s)}const oP={get:dv(!1,!1)},sP={get:dv(!1,!0)},uP={get:dv(!0,!1)},GT=new WeakMap,zT=new WeakMap,WT=new WeakMap,aP=new WeakMap;function cP(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function lP(e){return e.__v_skip||!Object.isExtensible(e)?0:cP(Lx(e))}function ii(e){return zs(e)?e:pv(e,!1,KT,oP,GT)}function fP(e){return pv(e,!1,Zx,sP,zT)}function XT(e){return pv(e,!0,Jx,uP,WT)}function pv(e,t,n,r,o){if(!rt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=lP(e);if(a===0)return e;const l=new Proxy(e,a===2?r:n);return o.set(e,l),l}function Mi(e){return zs(e)?Mi(e.__v_raw):!!(e&&e.__v_isReactive)}function zs(e){return!!(e&&e.__v_isReadonly)}function mf(e){return!!(e&&e.__v_isShallow)}function QT(e){return Mi(e)||zs(e)}function Ke(e){const t=e&&e.__v_raw;return t?Ke(t):e}function Uo(e){return pf(e,"__v_skip",!0),e}const Va=e=>rt(e)?ii(e):e,mv=e=>rt(e)?XT(e):e;function YT(e){Li&&fr&&(e=Ke(e),qT(e.dep||(e.dep=cv())))}function JT(e,t){e=Ke(e),e.dep&&og(e.dep)}function it(e){return!!(e&&e.__v_isRef===!0)}function Nn(e){return ZT(e,!1)}function hP(e){return ZT(e,!0)}function ZT(e,t){return it(e)?e:new dP(e,t)}class dP{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ke(t),this._value=n?t:Va(t)}get value(){return YT(this),this._value}set value(t){const n=this.__v_isShallow||mf(t)||zs(t);t=n?t:Ke(t),Fa(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Va(t),JT(this))}}function fe(e){return it(e)?e.value:e}const pP={get:(e,t,n)=>fe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return it(o)&&!it(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function eA(e){return Mi(e)?e:new Proxy(e,pP)}function mP(e){const t=be(e)?new Array(e.length):{};for(const n in e)t[n]=Dr(e,n);return t}class gP{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Dr(e,t,n){const r=e[t];return it(r)?r:new gP(e,t,n)}var tA;class vP{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[tA]=!1,this._dirty=!0,this.effect=new lv(t,()=>{this._dirty||(this._dirty=!0,JT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=Ke(this);return YT(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}tA="__v_isReadonly";function yP(e,t,n=!1){let r,o;const s=De(e);return s?(r=e,o=dr):(r=e.get,o=e.set),new vP(r,o,s||!o,n)}const wa=[];function nA(e,...t){Qo();const n=wa.length?wa[wa.length-1].component:null,r=n&&n.appContext.config.warnHandler,o=_P();if(r)Jr(r,n,11,[e+t.join(""),n&&n.proxy,o.map(({vnode:s})=>`at <${RA(n,s.type)}>`).join(`
`),o]);else{const s=[`[Vue warn]: ${e}`,...t];o.length&&s.push(`
`,...wP(o)),console.warn(...s)}Yo()}function _P(){let e=wa[wa.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function wP(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...bP(n))}),t}function bP({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,o=` at <${RA(e.component,e.type,r)}`,s=">"+n;return e.props?[o,...EP(e.props),s]:[o+s]}function EP(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...rA(r,e[r]))}),n.length>3&&t.push(" ..."),t}function rA(e,t,n){return Ot(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:it(t)?(t=rA(e,Ke(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):De(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Ke(t),n?t:[`${e}=`,t])}function Jr(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){rh(s,t,n)}return o}function nr(e,t,n,r){if(De(e)){const s=Jr(e,t,n,r);return s&&DT(s)&&s.catch(a=>{rh(a,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(nr(e[s],t,n,r));return o}function rh(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=n;for(;s;){const p=s.ec;if(p){for(let g=0;g<p.length;g++)if(p[g](e,a,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){Jr(f,null,10,[e,a,l]);return}}IP(e,n,o,r)}function IP(e,t,n,r=!0){console.error(e)}let Ua=!1,sg=!1;const on=[];let Lr=0;const $s=[];let Wr=null,To=0;const iA=Promise.resolve();let gv=null;function Di(e){const t=gv||iA;return e?t.then(this?e.bind(this):e):t}function TP(e){let t=Lr+1,n=on.length;for(;t<n;){const r=t+n>>>1;ja(on[r])<e?t=r+1:n=r}return t}function vv(e){(!on.length||!on.includes(e,Ua&&e.allowRecurse?Lr+1:Lr))&&(e.id==null?on.push(e):on.splice(TP(e.id),0,e),oA())}function oA(){!Ua&&!sg&&(sg=!0,gv=iA.then(uA))}function AP(e){const t=on.indexOf(e);t>Lr&&on.splice(t,1)}function SP(e){be(e)?$s.push(...e):(!Wr||!Wr.includes(e,e.allowRecurse?To+1:To))&&$s.push(e),oA()}function Wb(e,t=Ua?Lr+1:0){for(;t<on.length;t++){const n=on[t];n&&n.pre&&(on.splice(t,1),t--,n())}}function sA(e){if($s.length){const t=[...new Set($s)];if($s.length=0,Wr){Wr.push(...t);return}for(Wr=t,Wr.sort((n,r)=>ja(n)-ja(r)),To=0;To<Wr.length;To++)Wr[To]();Wr=null,To=0}}const ja=e=>e.id==null?1/0:e.id,kP=(e,t)=>{const n=ja(e)-ja(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function uA(e){sg=!1,Ua=!0,on.sort(kP);const t=dr;try{for(Lr=0;Lr<on.length;Lr++){const n=on[Lr];n&&n.active!==!1&&Jr(n,null,14)}}finally{Lr=0,on.length=0,sA(),Ua=!1,gv=null,(on.length||$s.length)&&uA()}}function CP(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||nt;let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const g=`${a==="modelValue"?"model":a}Modifiers`,{number:h,trim:m}=r[g]||nt;m&&(o=n.map(y=>y.trim())),h&&(o=n.map(av))}let l,f=r[l=Sm(t)]||r[l=Sm(Ur(t))];!f&&s&&(f=r[l=Sm(yu(t))]),f&&nr(f,e,6,o);const p=r[l+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,nr(p,e,6,o)}}function aA(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let a={},l=!1;if(!De(e)){const f=p=>{const g=aA(p,t,!0);g&&(l=!0,Qt(a,g))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(rt(e)&&r.set(e,null),null):(be(s)?s.forEach(f=>a[f]=null):Qt(a,s),rt(e)&&r.set(e,a),a)}function ih(e,t){return!e||!Jf(t)?!1:(t=t.slice(2).replace(/Once$/,""),$e(e,t[0].toLowerCase()+t.slice(1))||$e(e,yu(t))||$e(e,t))}let Jn=null,cA=null;function gf(e){const t=Jn;return Jn=e,cA=e&&e.type.__scopeId||null,t}function Zn(e,t=Jn,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&oE(-1);const s=gf(t);let a;try{a=e(...o)}finally{gf(s),r._d&&oE(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function km(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:f,emit:p,render:g,renderCache:h,data:m,setupState:y,ctx:_,inheritAttrs:b}=e;let T,I;const N=gf(e);try{if(n.shapeFlag&4){const x=o||r;T=Pr(g.call(x,x,h,s,y,m,_)),I=f}else{const x=t;T=Pr(x.length>1?x(s,{attrs:f,slots:l,emit:p}):x(s,null)),I=t.props?f:NP(f)}}catch(x){ba.length=0,rh(x,e,1),T=Pe(mr)}let C=T;if(I&&b!==!1){const x=Object.keys(I),{shapeFlag:V}=C;x.length&&V&7&&(a&&x.some(ov)&&(I=RP(I,a)),C=ji(C,I))}return n.dirs&&(C=ji(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),T=C,gf(N),T}const NP=e=>{let t;for(const n in e)(n==="class"||n==="style"||Jf(n))&&((t||(t={}))[n]=e[n]);return t},RP=(e,t)=>{const n={};for(const r in e)(!ov(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function OP(e,t,n){const{props:r,children:o,component:s}=e,{props:a,children:l,patchFlag:f}=t,p=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?Xb(r,a,p):!!a;if(f&8){const g=t.dynamicProps;for(let h=0;h<g.length;h++){const m=g[h];if(a[m]!==r[m]&&!ih(p,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?Xb(r,a,p):!0:!!a;return!1}function Xb(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!ih(n,s))return!0}return!1}function xP({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const PP=e=>e.__isSuspense;function DP(e,t){t&&t.pendingBranch?be(e)?t.effects.push(...e):t.effects.push(e):SP(e)}function Hs(e,t){if(Ut){let n=Ut.provides;const r=Ut.parent&&Ut.parent.provides;r===n&&(n=Ut.provides=Object.create(r)),n[e]=t}}function pr(e,t,n=!1){const r=Ut||Jn;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&De(t)?t.call(r.proxy):t}}function LP(e,t){return yv(e,null,t)}const Qb={};function zt(e,t,n){return yv(e,t,n)}function yv(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:a}=nt){const l=Ut;let f,p=!1,g=!1;if(it(e)?(f=()=>e.value,p=mf(e)):Mi(e)?(f=()=>e,r=!0):be(e)?(g=!0,p=e.some(I=>Mi(I)||mf(I)),f=()=>e.map(I=>{if(it(I))return I.value;if(Mi(I))return Co(I);if(De(I))return Jr(I,l,2)})):De(e)?t?f=()=>Jr(e,l,2):f=()=>{if(!(l&&l.isUnmounted))return h&&h(),nr(e,l,3,[m])}:f=dr,t&&r){const I=f;f=()=>Co(I())}let h,m=I=>{h=T.onStop=()=>{Jr(I,l,4)}};if(qa)return m=dr,t?n&&nr(t,l,3,[f(),g?[]:void 0,m]):f(),dr;let y=g?[]:Qb;const _=()=>{if(!!T.active)if(t){const I=T.run();(r||p||(g?I.some((N,C)=>Fa(N,y[C])):Fa(I,y)))&&(h&&h(),nr(t,l,3,[I,y===Qb?void 0:y,m]),y=I)}else T.run()};_.allowRecurse=!!t;let b;o==="sync"?b=_:o==="post"?b=()=>kn(_,l&&l.suspense):(_.pre=!0,l&&(_.id=l.uid),b=()=>vv(_));const T=new lv(f,b);return t?n?_():y=T.run():o==="post"?kn(T.run.bind(T),l&&l.suspense):T.run(),()=>{T.stop(),l&&l.scope&&sv(l.scope.effects,T)}}function MP(e,t,n){const r=this.proxy,o=Ot(e)?e.includes(".")?lA(r,e):()=>r[e]:e.bind(r,r);let s;De(t)?s=t:(s=t.handler,n=t);const a=Ut;Ws(this);const l=yv(o,s.bind(r),n);return a?Ws(a):Do(),l}function lA(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function Co(e,t){if(!rt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),it(e))Co(e.value,t);else if(be(e))for(let n=0;n<e.length;n++)Co(e[n],t);else if(Zf(e)||qs(e))e.forEach(n=>{Co(n,t)});else if(MT(e))for(const n in e)Co(e[n],t);return e}function FP(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return uh(()=>{e.isMounted=!0}),ah(()=>{e.isUnmounting=!0}),e}const Yn=[Function,Array],VP={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Yn,onEnter:Yn,onAfterEnter:Yn,onEnterCancelled:Yn,onBeforeLeave:Yn,onLeave:Yn,onAfterLeave:Yn,onLeaveCancelled:Yn,onBeforeAppear:Yn,onAppear:Yn,onAfterAppear:Yn,onAppearCancelled:Yn},setup(e,{slots:t}){const n=cc(),r=FP();let o;return()=>{const s=t.default&&dA(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const b of s)if(b.type!==mr){a=b;break}}const l=Ke(e),{mode:f}=l;if(r.isLeaving)return Cm(a);const p=Yb(a);if(!p)return Cm(a);const g=ug(p,l,r,n);ag(p,g);const h=n.subTree,m=h&&Yb(h);let y=!1;const{getTransitionKey:_}=p.type;if(_){const b=_();o===void 0?o=b:b!==o&&(o=b,y=!0)}if(m&&m.type!==mr&&(!Ao(p,m)||y)){const b=ug(m,l,r,n);if(ag(m,b),f==="out-in")return r.isLeaving=!0,b.afterLeave=()=>{r.isLeaving=!1,n.update()},Cm(a);f==="in-out"&&p.type!==mr&&(b.delayLeave=(T,I,N)=>{const C=hA(r,m);C[String(m.key)]=m,T._leaveCb=()=>{I(),T._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=N})}return a}}},fA=VP;function hA(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ug(e,t,n,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:p,onEnterCancelled:g,onBeforeLeave:h,onLeave:m,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:b,onAppear:T,onAfterAppear:I,onAppearCancelled:N}=t,C=String(e.key),x=hA(n,e),V=(L,W)=>{L&&nr(L,r,9,W)},D=(L,W)=>{const k=W[1];V(L,W),be(L)?L.every(Ee=>Ee.length<=1)&&k():L.length<=1&&k()},q={mode:s,persisted:a,beforeEnter(L){let W=l;if(!n.isMounted)if(o)W=b||l;else return;L._leaveCb&&L._leaveCb(!0);const k=x[C];k&&Ao(e,k)&&k.el._leaveCb&&k.el._leaveCb(),V(W,[L])},enter(L){let W=f,k=p,Ee=g;if(!n.isMounted)if(o)W=T||f,k=I||p,Ee=N||g;else return;let re=!1;const Ae=L._enterCb=ke=>{re||(re=!0,ke?V(Ee,[L]):V(k,[L]),q.delayedLeave&&q.delayedLeave(),L._enterCb=void 0)};W?D(W,[L,Ae]):Ae()},leave(L,W){const k=String(e.key);if(L._enterCb&&L._enterCb(!0),n.isUnmounting)return W();V(h,[L]);let Ee=!1;const re=L._leaveCb=Ae=>{Ee||(Ee=!0,W(),Ae?V(_,[L]):V(y,[L]),L._leaveCb=void 0,x[k]===e&&delete x[k])};x[k]=e,m?D(m,[L,re]):re()},clone(L){return ug(L,t,n,r)}};return q}function Cm(e){if(oh(e))return e=ji(e),e.children=null,e}function Yb(e){return oh(e)?e.children?e.children[0]:void 0:e}function ag(e,t){e.shapeFlag&6&&e.component?ag(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function dA(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let a=e[s];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===yn?(a.patchFlag&128&&o++,r=r.concat(dA(a.children,t,l))):(t||a.type!==mr)&&r.push(l!=null?ji(a,{key:l}):a)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function _u(e){return De(e)?{setup:e,name:e.name}:e}const rf=e=>!!e.type.__asyncLoader,oh=e=>e.type.__isKeepAlive;function UP(e,t){pA(e,"a",t)}function jP(e,t){pA(e,"da",t)}function pA(e,t,n=Ut){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(sh(t,r,n),n){let o=n.parent;for(;o&&o.parent;)oh(o.parent.vnode)&&BP(r,t,n,o),o=o.parent}}function BP(e,t,n,r){const o=sh(t,e,r,!0);_v(()=>{sv(r[t],o)},n)}function sh(e,t,n=Ut,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Qo(),Ws(n);const l=nr(t,n,e,a);return Do(),Yo(),l});return r?o.unshift(s):o.push(s),s}}const oi=e=>(t,n=Ut)=>(!qa||e==="sp")&&sh(e,(...r)=>t(...r),n),qP=oi("bm"),uh=oi("m"),$P=oi("bu"),HP=oi("u"),ah=oi("bum"),_v=oi("um"),KP=oi("sp"),GP=oi("rtg"),zP=oi("rtc");function WP(e,t=Ut){sh("ec",e,t)}function t4(e,t){const n=Jn;if(n===null)return e;const r=fh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,l,f,p=nt]=t[s];De(a)&&(a={mounted:a,updated:a}),a.deep&&Co(l),o.push({dir:a,instance:r,value:l,oldValue:void 0,arg:f,modifiers:p})}return e}function go(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let f=l.dir[r];f&&(Qo(),nr(f,n,8,[e.el,l,e,t]),Yo())}}const wv="components",XP="directives";function Bn(e,t){return bv(wv,e,!0,t)||e}const mA=Symbol();function ch(e){return Ot(e)?bv(wv,e,!1)||e:e||mA}function n4(e){return bv(XP,e)}function bv(e,t,n=!0,r=!1){const o=Jn||Ut;if(o){const s=o.type;if(e===wv){const l=NA(s,!1);if(l&&(l===t||l===Ur(t)||l===th(Ur(t))))return s}const a=Jb(o[e]||s[e],t)||Jb(o.appContext[e],t);return!a&&r?s:a}}function Jb(e,t){return e&&(e[t]||e[Ur(t)]||e[th(Ur(t))])}function gA(e,t,n,r){let o;const s=n&&n[r];if(be(e)||Ot(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,s&&s[a])}else if(rt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const p=a[l];o[l]=t(e[p],p,l,s&&s[l])}}else o=[];return n&&(n[r]=o),o}const cg=e=>e?kA(e)?fh(e)||e.proxy:cg(e.parent):null,vf=Qt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>cg(e.parent),$root:e=>cg(e.root),$emit:e=>e.emit,$options:e=>Ev(e),$forceUpdate:e=>e.f||(e.f=()=>vv(e.update)),$nextTick:e=>e.n||(e.n=Di.bind(e.proxy)),$watch:e=>MP.bind(e)}),QP={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:a,type:l,appContext:f}=e;let p;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(r!==nt&&$e(r,t))return a[t]=1,r[t];if(o!==nt&&$e(o,t))return a[t]=2,o[t];if((p=e.propsOptions[0])&&$e(p,t))return a[t]=3,s[t];if(n!==nt&&$e(n,t))return a[t]=4,n[t];lg&&(a[t]=0)}}const g=vf[t];let h,m;if(g)return t==="$attrs"&&Kn(e,"get",t),g(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==nt&&$e(n,t))return a[t]=4,n[t];if(m=f.config.globalProperties,$e(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return o!==nt&&$e(o,t)?(o[t]=n,!0):r!==nt&&$e(r,t)?(r[t]=n,!0):$e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==nt&&$e(e,a)||t!==nt&&$e(t,a)||(l=s[0])&&$e(l,a)||$e(r,a)||$e(vf,a)||$e(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:$e(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let lg=!0;function YP(e){const t=Ev(e),n=e.proxy,r=e.ctx;lg=!1,t.beforeCreate&&Zb(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:l,provide:f,inject:p,created:g,beforeMount:h,mounted:m,beforeUpdate:y,updated:_,activated:b,deactivated:T,beforeDestroy:I,beforeUnmount:N,destroyed:C,unmounted:x,render:V,renderTracked:D,renderTriggered:q,errorCaptured:L,serverPrefetch:W,expose:k,inheritAttrs:Ee,components:re,directives:Ae,filters:ke}=t;if(p&&JP(p,r,null,e.appContext.config.unwrapInjectedRef),a)for(const Oe in a){const we=a[Oe];De(we)&&(r[Oe]=we.bind(n))}if(o){const Oe=o.call(n,n);rt(Oe)&&(e.data=ii(Oe))}if(lg=!0,s)for(const Oe in s){const we=s[Oe],bt=De(we)?we.bind(n,n):De(we.get)?we.get.bind(n,n):dr,dt=!De(we)&&De(we.set)?we.set.bind(n):dr,pt=Xe({get:bt,set:dt});Object.defineProperty(r,Oe,{enumerable:!0,configurable:!0,get:()=>pt.value,set:at=>pt.value=at})}if(l)for(const Oe in l)vA(l[Oe],r,n,Oe);if(f){const Oe=De(f)?f.call(n):f;Reflect.ownKeys(Oe).forEach(we=>{Hs(we,Oe[we])})}g&&Zb(g,e,"c");function Ce(Oe,we){be(we)?we.forEach(bt=>Oe(bt.bind(n))):we&&Oe(we.bind(n))}if(Ce(qP,h),Ce(uh,m),Ce($P,y),Ce(HP,_),Ce(UP,b),Ce(jP,T),Ce(WP,L),Ce(zP,D),Ce(GP,q),Ce(ah,N),Ce(_v,x),Ce(KP,W),be(k))if(k.length){const Oe=e.exposed||(e.exposed={});k.forEach(we=>{Object.defineProperty(Oe,we,{get:()=>n[we],set:bt=>n[we]=bt})})}else e.exposed||(e.exposed={});V&&e.render===dr&&(e.render=V),Ee!=null&&(e.inheritAttrs=Ee),re&&(e.components=re),Ae&&(e.directives=Ae)}function JP(e,t,n=dr,r=!1){be(e)&&(e=fg(e));for(const o in e){const s=e[o];let a;rt(s)?"default"in s?a=pr(s.from||o,s.default,!0):a=pr(s.from||o):a=pr(s),it(a)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function Zb(e,t,n){nr(be(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function vA(e,t,n,r){const o=r.includes(".")?lA(n,r):()=>n[r];if(Ot(e)){const s=t[e];De(s)&&zt(o,s)}else if(De(e))zt(o,e.bind(n));else if(rt(e))if(be(e))e.forEach(s=>vA(s,t,n,r));else{const s=De(e.handler)?e.handler.bind(n):t[e.handler];De(s)&&zt(o,s,e)}}function Ev(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(p=>yf(f,p,a,!0)),yf(f,t,a)),rt(t)&&s.set(t,f),f}function yf(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&yf(e,s,n,!0),o&&o.forEach(a=>yf(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=ZP[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const ZP={data:eE,props:Eo,emits:Eo,methods:Eo,computed:Eo,beforeCreate:mn,created:mn,beforeMount:mn,mounted:mn,beforeUpdate:mn,updated:mn,beforeDestroy:mn,beforeUnmount:mn,destroyed:mn,unmounted:mn,activated:mn,deactivated:mn,errorCaptured:mn,serverPrefetch:mn,components:Eo,directives:Eo,watch:tD,provide:eE,inject:eD};function eE(e,t){return t?e?function(){return Qt(De(e)?e.call(this,this):e,De(t)?t.call(this,this):t)}:t:e}function eD(e,t){return Eo(fg(e),fg(t))}function fg(e){if(be(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mn(e,t){return e?[...new Set([].concat(e,t))]:t}function Eo(e,t){return e?Qt(Qt(Object.create(null),e),t):t}function tD(e,t){if(!e)return t;if(!t)return e;const n=Qt(Object.create(null),e);for(const r in t)n[r]=mn(e[r],t[r]);return n}function nD(e,t,n,r=!1){const o={},s={};pf(s,lh,1),e.propsDefaults=Object.create(null),yA(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=r?o:fP(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function rD(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,l=Ke(o),[f]=e.propsOptions;let p=!1;if((r||a>0)&&!(a&16)){if(a&8){const g=e.vnode.dynamicProps;for(let h=0;h<g.length;h++){let m=g[h];if(ih(e.emitsOptions,m))continue;const y=t[m];if(f)if($e(s,m))y!==s[m]&&(s[m]=y,p=!0);else{const _=Ur(m);o[_]=hg(f,l,_,y,e,!1)}else y!==s[m]&&(s[m]=y,p=!0)}}}else{yA(e,t,o,s)&&(p=!0);let g;for(const h in l)(!t||!$e(t,h)&&((g=yu(h))===h||!$e(t,g)))&&(f?n&&(n[h]!==void 0||n[g]!==void 0)&&(o[h]=hg(f,l,h,void 0,e,!0)):delete o[h]);if(s!==l)for(const h in s)(!t||!$e(t,h)&&!0)&&(delete s[h],p=!0)}p&&ni(e,"set","$attrs")}function yA(e,t,n,r){const[o,s]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(tf(f))continue;const p=t[f];let g;o&&$e(o,g=Ur(f))?!s||!s.includes(g)?n[g]=p:(l||(l={}))[g]=p:ih(e.emitsOptions,f)||(!(f in r)||p!==r[f])&&(r[f]=p,a=!0)}if(s){const f=Ke(n),p=l||nt;for(let g=0;g<s.length;g++){const h=s[g];n[h]=hg(o,f,h,p[h],e,!$e(p,h))}}return a}function hg(e,t,n,r,o,s){const a=e[n];if(a!=null){const l=$e(a,"default");if(l&&r===void 0){const f=a.default;if(a.type!==Function&&De(f)){const{propsDefaults:p}=o;n in p?r=p[n]:(Ws(o),r=p[n]=f.call(null,t),Do())}else r=f}a[0]&&(s&&!l?r=!1:a[1]&&(r===""||r===yu(n))&&(r=!0))}return r}function _A(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,a={},l=[];let f=!1;if(!De(e)){const g=h=>{f=!0;const[m,y]=_A(h,t,!0);Qt(a,m),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!s&&!f)return rt(e)&&r.set(e,Bs),Bs;if(be(s))for(let g=0;g<s.length;g++){const h=Ur(s[g]);tE(h)&&(a[h]=nt)}else if(s)for(const g in s){const h=Ur(g);if(tE(h)){const m=s[g],y=a[h]=be(m)||De(m)?{type:m}:m;if(y){const _=iE(Boolean,y.type),b=iE(String,y.type);y[0]=_>-1,y[1]=b<0||_<b,(_>-1||$e(y,"default"))&&l.push(h)}}}const p=[a,l];return rt(e)&&r.set(e,p),p}function tE(e){return e[0]!=="$"}function nE(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function rE(e,t){return nE(e)===nE(t)}function iE(e,t){return be(t)?t.findIndex(n=>rE(n,e)):De(t)&&rE(t,e)?0:-1}const wA=e=>e[0]==="_"||e==="$stable",Iv=e=>be(e)?e.map(Pr):[Pr(e)],iD=(e,t,n)=>{if(t._n)return t;const r=Zn((...o)=>Iv(t(...o)),n);return r._c=!1,r},bA=(e,t,n)=>{const r=e._ctx;for(const o in e){if(wA(o))continue;const s=e[o];if(De(s))t[o]=iD(o,s,r);else if(s!=null){const a=Iv(s);t[o]=()=>a}}},EA=(e,t)=>{const n=Iv(t);e.slots.default=()=>n},oD=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ke(t),pf(t,"_",n)):bA(t,e.slots={})}else e.slots={},t&&EA(e,t);pf(e.slots,lh,1)},sD=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,a=nt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(Qt(o,t),!n&&l===1&&delete o._):(s=!t.$stable,bA(t,o)),a=t}else t&&(EA(e,t),a={default:1});if(s)for(const l in o)!wA(l)&&!(l in a)&&delete o[l]};function IA(){return{app:null,config:{isNativeTag:xx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uD=0;function aD(e,t){return function(r,o=null){De(r)||(r=Object.assign({},r)),o!=null&&!rt(o)&&(o=null);const s=IA(),a=new Set;let l=!1;const f=s.app={_uid:uD++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:SD,get config(){return s.config},set config(p){},use(p,...g){return a.has(p)||(p&&De(p.install)?(a.add(p),p.install(f,...g)):De(p)&&(a.add(p),p(f,...g))),f},mixin(p){return s.mixins.includes(p)||s.mixins.push(p),f},component(p,g){return g?(s.components[p]=g,f):s.components[p]},directive(p,g){return g?(s.directives[p]=g,f):s.directives[p]},mount(p,g,h){if(!l){const m=Pe(r,o);return m.appContext=s,g&&t?t(m,p):e(m,p,h),l=!0,f._container=p,p.__vue_app__=f,fh(m.component)||m.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(p,g){return s.provides[p]=g,f}};return f}}function dg(e,t,n,r,o=!1){if(be(e)){e.forEach((m,y)=>dg(m,t&&(be(t)?t[y]:t),n,r,o));return}if(rf(r)&&!o)return;const s=r.shapeFlag&4?fh(r.component)||r.component.proxy:r.el,a=o?null:s,{i:l,r:f}=e,p=t&&t.r,g=l.refs===nt?l.refs={}:l.refs,h=l.setupState;if(p!=null&&p!==f&&(Ot(p)?(g[p]=null,$e(h,p)&&(h[p]=null)):it(p)&&(p.value=null)),De(f))Jr(f,l,12,[a,g]);else{const m=Ot(f),y=it(f);if(m||y){const _=()=>{if(e.f){const b=m?$e(h,f)?h[f]:g[f]:f.value;o?be(b)&&sv(b,s):be(b)?b.includes(s)||b.push(s):m?(g[f]=[s],$e(h,f)&&(h[f]=g[f])):(f.value=[s],e.k&&(g[e.k]=f.value))}else m?(g[f]=a,$e(h,f)&&(h[f]=a)):y&&(f.value=a,e.k&&(g[e.k]=a))};a?(_.id=-1,kn(_,n)):_()}}}const kn=DP;function cD(e){return lD(e)}function lD(e,t){const n=Vx();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:a,createText:l,createComment:f,setText:p,setElementText:g,parentNode:h,nextSibling:m,setScopeId:y=dr,insertStaticContent:_}=e,b=(A,R,M,B=null,H=null,te=null,se=!1,ne=null,O=!!R.dynamicChildren)=>{if(A===R)return;A&&!Ao(A,R)&&(B=X(A),at(A,H,te,!0),A=null),R.patchFlag===-2&&(O=!1,R.dynamicChildren=null);const{type:P,ref:Q,shapeFlag:Y}=R;switch(P){case Tv:T(A,R,M,B);break;case mr:I(A,R,M,B);break;case of:A==null&&N(R,M,B,se);break;case yn:re(A,R,M,B,H,te,se,ne,O);break;default:Y&1?V(A,R,M,B,H,te,se,ne,O):Y&6?Ae(A,R,M,B,H,te,se,ne,O):(Y&64||Y&128)&&P.process(A,R,M,B,H,te,se,ne,O,Fe)}Q!=null&&H&&dg(Q,A&&A.ref,te,R||A,!R)},T=(A,R,M,B)=>{if(A==null)r(R.el=l(R.children),M,B);else{const H=R.el=A.el;R.children!==A.children&&p(H,R.children)}},I=(A,R,M,B)=>{A==null?r(R.el=f(R.children||""),M,B):R.el=A.el},N=(A,R,M,B)=>{[A.el,A.anchor]=_(A.children,R,M,B,A.el,A.anchor)},C=({el:A,anchor:R},M,B)=>{let H;for(;A&&A!==R;)H=m(A),r(A,M,B),A=H;r(R,M,B)},x=({el:A,anchor:R})=>{let M;for(;A&&A!==R;)M=m(A),o(A),A=M;o(R)},V=(A,R,M,B,H,te,se,ne,O)=>{se=se||R.type==="svg",A==null?D(R,M,B,H,te,se,ne,O):W(A,R,H,te,se,ne,O)},D=(A,R,M,B,H,te,se,ne)=>{let O,P;const{type:Q,props:Y,shapeFlag:oe,transition:ue,dirs:le}=A;if(O=A.el=a(A.type,te,Y&&Y.is,Y),oe&8?g(O,A.children):oe&16&&L(A.children,O,null,B,H,te&&Q!=="foreignObject",se,ne),le&&go(A,null,B,"created"),Y){for(const xe in Y)xe!=="value"&&!tf(xe)&&s(O,xe,null,Y[xe],te,A.children,B,H,U);"value"in Y&&s(O,"value",null,Y.value),(P=Y.onVnodeBeforeMount)&&Rr(P,B,A)}q(O,A,A.scopeId,se,B),le&&go(A,null,B,"beforeMount");const ae=(!H||H&&!H.pendingBranch)&&ue&&!ue.persisted;ae&&ue.beforeEnter(O),r(O,R,M),((P=Y&&Y.onVnodeMounted)||ae||le)&&kn(()=>{P&&Rr(P,B,A),ae&&ue.enter(O),le&&go(A,null,B,"mounted")},H)},q=(A,R,M,B,H)=>{if(M&&y(A,M),B)for(let te=0;te<B.length;te++)y(A,B[te]);if(H){let te=H.subTree;if(R===te){const se=H.vnode;q(A,se,se.scopeId,se.slotScopeIds,H.parent)}}},L=(A,R,M,B,H,te,se,ne,O=0)=>{for(let P=O;P<A.length;P++){const Q=A[P]=ne?Ai(A[P]):Pr(A[P]);b(null,Q,R,M,B,H,te,se,ne)}},W=(A,R,M,B,H,te,se)=>{const ne=R.el=A.el;let{patchFlag:O,dynamicChildren:P,dirs:Q}=R;O|=A.patchFlag&16;const Y=A.props||nt,oe=R.props||nt;let ue;M&&vo(M,!1),(ue=oe.onVnodeBeforeUpdate)&&Rr(ue,M,R,A),Q&&go(R,A,M,"beforeUpdate"),M&&vo(M,!0);const le=H&&R.type!=="foreignObject";if(P?k(A.dynamicChildren,P,ne,M,B,le,te):se||we(A,R,ne,null,M,B,le,te,!1),O>0){if(O&16)Ee(ne,R,Y,oe,M,B,H);else if(O&2&&Y.class!==oe.class&&s(ne,"class",null,oe.class,H),O&4&&s(ne,"style",Y.style,oe.style,H),O&8){const ae=R.dynamicProps;for(let xe=0;xe<ae.length;xe++){const Ve=ae[xe],en=Y[Ve],fn=oe[Ve];(fn!==en||Ve==="value")&&s(ne,Ve,en,fn,H,A.children,M,B,U)}}O&1&&A.children!==R.children&&g(ne,R.children)}else!se&&P==null&&Ee(ne,R,Y,oe,M,B,H);((ue=oe.onVnodeUpdated)||Q)&&kn(()=>{ue&&Rr(ue,M,R,A),Q&&go(R,A,M,"updated")},B)},k=(A,R,M,B,H,te,se)=>{for(let ne=0;ne<R.length;ne++){const O=A[ne],P=R[ne],Q=O.el&&(O.type===yn||!Ao(O,P)||O.shapeFlag&70)?h(O.el):M;b(O,P,Q,null,B,H,te,se,!0)}},Ee=(A,R,M,B,H,te,se)=>{if(M!==B){if(M!==nt)for(const ne in M)!tf(ne)&&!(ne in B)&&s(A,ne,M[ne],null,se,R.children,H,te,U);for(const ne in B){if(tf(ne))continue;const O=B[ne],P=M[ne];O!==P&&ne!=="value"&&s(A,ne,P,O,se,R.children,H,te,U)}"value"in B&&s(A,"value",M.value,B.value)}},re=(A,R,M,B,H,te,se,ne,O)=>{const P=R.el=A?A.el:l(""),Q=R.anchor=A?A.anchor:l("");let{patchFlag:Y,dynamicChildren:oe,slotScopeIds:ue}=R;ue&&(ne=ne?ne.concat(ue):ue),A==null?(r(P,M,B),r(Q,M,B),L(R.children,M,Q,H,te,se,ne,O)):Y>0&&Y&64&&oe&&A.dynamicChildren?(k(A.dynamicChildren,oe,M,H,te,se,ne),(R.key!=null||H&&R===H.subTree)&&TA(A,R,!0)):we(A,R,M,Q,H,te,se,ne,O)},Ae=(A,R,M,B,H,te,se,ne,O)=>{R.slotScopeIds=ne,A==null?R.shapeFlag&512?H.ctx.activate(R,M,B,se,O):ke(R,M,B,H,te,se,O):Me(A,R,O)},ke=(A,R,M,B,H,te,se)=>{const ne=A.component=yD(A,B,H);if(oh(A)&&(ne.ctx.renderer=Fe),_D(ne),ne.asyncDep){if(H&&H.registerDep(ne,Ce),!A.el){const O=ne.subTree=Pe(mr);I(null,O,R,M)}return}Ce(ne,A,R,M,H,te,se)},Me=(A,R,M)=>{const B=R.component=A.component;if(OP(A,R,M))if(B.asyncDep&&!B.asyncResolved){Oe(B,R,M);return}else B.next=R,AP(B.update),B.update();else R.el=A.el,B.vnode=R},Ce=(A,R,M,B,H,te,se)=>{const ne=()=>{if(A.isMounted){let{next:Q,bu:Y,u:oe,parent:ue,vnode:le}=A,ae=Q,xe;vo(A,!1),Q?(Q.el=le.el,Oe(A,Q,se)):Q=le,Y&&nf(Y),(xe=Q.props&&Q.props.onVnodeBeforeUpdate)&&Rr(xe,ue,Q,le),vo(A,!0);const Ve=km(A),en=A.subTree;A.subTree=Ve,b(en,Ve,h(en.el),X(en),A,H,te),Q.el=Ve.el,ae===null&&xP(A,Ve.el),oe&&kn(oe,H),(xe=Q.props&&Q.props.onVnodeUpdated)&&kn(()=>Rr(xe,ue,Q,le),H)}else{let Q;const{el:Y,props:oe}=R,{bm:ue,m:le,parent:ae}=A,xe=rf(R);if(vo(A,!1),ue&&nf(ue),!xe&&(Q=oe&&oe.onVnodeBeforeMount)&&Rr(Q,ae,R),vo(A,!0),Y&&Te){const Ve=()=>{A.subTree=km(A),Te(Y,A.subTree,A,H,null)};xe?R.type.__asyncLoader().then(()=>!A.isUnmounted&&Ve()):Ve()}else{const Ve=A.subTree=km(A);b(null,Ve,M,B,A,H,te),R.el=Ve.el}if(le&&kn(le,H),!xe&&(Q=oe&&oe.onVnodeMounted)){const Ve=R;kn(()=>Rr(Q,ae,Ve),H)}(R.shapeFlag&256||ae&&rf(ae.vnode)&&ae.vnode.shapeFlag&256)&&A.a&&kn(A.a,H),A.isMounted=!0,R=M=B=null}},O=A.effect=new lv(ne,()=>vv(P),A.scope),P=A.update=()=>O.run();P.id=A.uid,vo(A,!0),P()},Oe=(A,R,M)=>{R.component=A;const B=A.vnode.props;A.vnode=R,A.next=null,rD(A,R.props,B,M),sD(A,R.children,M),Qo(),Wb(),Yo()},we=(A,R,M,B,H,te,se,ne,O=!1)=>{const P=A&&A.children,Q=A?A.shapeFlag:0,Y=R.children,{patchFlag:oe,shapeFlag:ue}=R;if(oe>0){if(oe&128){dt(P,Y,M,B,H,te,se,ne,O);return}else if(oe&256){bt(P,Y,M,B,H,te,se,ne,O);return}}ue&8?(Q&16&&U(P,H,te),Y!==P&&g(M,Y)):Q&16?ue&16?dt(P,Y,M,B,H,te,se,ne,O):U(P,H,te,!0):(Q&8&&g(M,""),ue&16&&L(Y,M,B,H,te,se,ne,O))},bt=(A,R,M,B,H,te,se,ne,O)=>{A=A||Bs,R=R||Bs;const P=A.length,Q=R.length,Y=Math.min(P,Q);let oe;for(oe=0;oe<Y;oe++){const ue=R[oe]=O?Ai(R[oe]):Pr(R[oe]);b(A[oe],ue,M,null,H,te,se,ne,O)}P>Q?U(A,H,te,!0,!1,Y):L(R,M,B,H,te,se,ne,O,Y)},dt=(A,R,M,B,H,te,se,ne,O)=>{let P=0;const Q=R.length;let Y=A.length-1,oe=Q-1;for(;P<=Y&&P<=oe;){const ue=A[P],le=R[P]=O?Ai(R[P]):Pr(R[P]);if(Ao(ue,le))b(ue,le,M,null,H,te,se,ne,O);else break;P++}for(;P<=Y&&P<=oe;){const ue=A[Y],le=R[oe]=O?Ai(R[oe]):Pr(R[oe]);if(Ao(ue,le))b(ue,le,M,null,H,te,se,ne,O);else break;Y--,oe--}if(P>Y){if(P<=oe){const ue=oe+1,le=ue<Q?R[ue].el:B;for(;P<=oe;)b(null,R[P]=O?Ai(R[P]):Pr(R[P]),M,le,H,te,se,ne,O),P++}}else if(P>oe)for(;P<=Y;)at(A[P],H,te,!0),P++;else{const ue=P,le=P,ae=new Map;for(P=le;P<=oe;P++){const yt=R[P]=O?Ai(R[P]):Pr(R[P]);yt.key!=null&&ae.set(yt.key,P)}let xe,Ve=0;const en=oe-le+1;let fn=!1,vt=0;const ai=new Array(en);for(P=0;P<en;P++)ai[P]=0;for(P=ue;P<=Y;P++){const yt=A[P];if(Ve>=en){at(yt,H,te,!0);continue}let Dn;if(yt.key!=null)Dn=ae.get(yt.key);else for(xe=le;xe<=oe;xe++)if(ai[xe-le]===0&&Ao(yt,R[xe])){Dn=xe;break}Dn===void 0?at(yt,H,te,!0):(ai[Dn-le]=P+1,Dn>=vt?vt=Dn:fn=!0,b(yt,R[Dn],M,null,H,te,se,ne,O),Ve++)}const br=fn?fD(ai):Bs;for(xe=br.length-1,P=en-1;P>=0;P--){const yt=le+P,Dn=R[yt],qt=yt+1<Q?R[yt+1].el:B;ai[P]===0?b(null,Dn,M,qt,H,te,se,ne,O):fn&&(xe<0||P!==br[xe]?pt(Dn,M,qt,2):xe--)}}},pt=(A,R,M,B,H=null)=>{const{el:te,type:se,transition:ne,children:O,shapeFlag:P}=A;if(P&6){pt(A.component.subTree,R,M,B);return}if(P&128){A.suspense.move(R,M,B);return}if(P&64){se.move(A,R,M,Fe);return}if(se===yn){r(te,R,M);for(let Y=0;Y<O.length;Y++)pt(O[Y],R,M,B);r(A.anchor,R,M);return}if(se===of){C(A,R,M);return}if(B!==2&&P&1&&ne)if(B===0)ne.beforeEnter(te),r(te,R,M),kn(()=>ne.enter(te),H);else{const{leave:Y,delayLeave:oe,afterLeave:ue}=ne,le=()=>r(te,R,M),ae=()=>{Y(te,()=>{le(),ue&&ue()})};oe?oe(te,le,ae):ae()}else r(te,R,M)},at=(A,R,M,B=!1,H=!1)=>{const{type:te,props:se,ref:ne,children:O,dynamicChildren:P,shapeFlag:Q,patchFlag:Y,dirs:oe}=A;if(ne!=null&&dg(ne,null,M,A,!0),Q&256){R.ctx.deactivate(A);return}const ue=Q&1&&oe,le=!rf(A);let ae;if(le&&(ae=se&&se.onVnodeBeforeUnmount)&&Rr(ae,R,A),Q&6)G(A.component,M,B);else{if(Q&128){A.suspense.unmount(M,B);return}ue&&go(A,null,R,"beforeUnmount"),Q&64?A.type.remove(A,R,M,H,Fe,B):P&&(te!==yn||Y>0&&Y&64)?U(P,R,M,!1,!0):(te===yn&&Y&384||!H&&Q&16)&&U(O,R,M),B&&Jt(A)}(le&&(ae=se&&se.onVnodeUnmounted)||ue)&&kn(()=>{ae&&Rr(ae,R,A),ue&&go(A,null,R,"unmounted")},M)},Jt=A=>{const{type:R,el:M,anchor:B,transition:H}=A;if(R===yn){Zt(M,B);return}if(R===of){x(A);return}const te=()=>{o(M),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(A.shapeFlag&1&&H&&!H.persisted){const{leave:se,delayLeave:ne}=H,O=()=>se(M,te);ne?ne(A.el,te,O):O()}else te()},Zt=(A,R)=>{let M;for(;A!==R;)M=m(A),o(A),A=M;o(R)},G=(A,R,M)=>{const{bum:B,scope:H,update:te,subTree:se,um:ne}=A;B&&nf(B),H.stop(),te&&(te.active=!1,at(se,A,R,M)),ne&&kn(ne,R),kn(()=>{A.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},U=(A,R,M,B=!1,H=!1,te=0)=>{for(let se=te;se<A.length;se++)at(A[se],R,M,B,H)},X=A=>A.shapeFlag&6?X(A.component.subTree):A.shapeFlag&128?A.suspense.next():m(A.anchor||A.el),Z=(A,R,M)=>{A==null?R._vnode&&at(R._vnode,null,null,!0):b(R._vnode||null,A,R,null,null,null,M),Wb(),sA(),R._vnode=A},Fe={p:b,um:at,m:pt,r:Jt,mt:ke,mc:L,pc:we,pbc:k,n:X,o:e};let Ge,Te;return t&&([Ge,Te]=t(Fe)),{render:Z,hydrate:Ge,createApp:aD(Z,Ge)}}function vo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function TA(e,t,n=!1){const r=e.children,o=t.children;if(be(r)&&be(o))for(let s=0;s<r.length;s++){const a=r[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Ai(o[s]),l.el=a.el),n||TA(a,l))}}function fD(e){const t=e.slice(),n=[0];let r,o,s,a,l;const f=e.length;for(r=0;r<f;r++){const p=e[r];if(p!==0){if(o=n[n.length-1],e[o]<p){t[r]=o,n.push(r);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,e[n[l]]<p?s=l+1:a=l;p<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const hD=e=>e.__isTeleport,yn=Symbol(void 0),Tv=Symbol(void 0),mr=Symbol(void 0),of=Symbol(void 0),ba=[];let hr=null;function Rt(e=!1){ba.push(hr=e?null:[])}function dD(){ba.pop(),hr=ba[ba.length-1]||null}let Ba=1;function oE(e){Ba+=e}function AA(e){return e.dynamicChildren=Ba>0?hr||Bs:null,dD(),Ba>0&&hr&&hr.push(e),e}function sn(e,t,n,r,o,s){return AA(he(e,t,n,r,o,s,!0))}function _f(e,t,n,r,o){return AA(Pe(e,t,n,r,o,!0))}function pg(e){return e?e.__v_isVNode===!0:!1}function Ao(e,t){return e.type===t.type&&e.key===t.key}const lh="__vInternal",SA=({key:e})=>e!=null?e:null,sf=({ref:e,ref_key:t,ref_for:n})=>e!=null?Ot(e)||it(e)||De(e)?{i:Jn,r:e,k:t,f:!!n}:e:null;function he(e,t=null,n=null,r=0,o=null,s=e===yn?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&SA(t),ref:t&&sf(t),scopeId:cA,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return l?(Sv(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Ot(n)?8:16),Ba>0&&!a&&hr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&hr.push(f),f}const Pe=pD;function pD(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===mA)&&(e=mr),pg(e)){const l=ji(e,t,!0);return n&&Sv(l,n),Ba>0&&!s&&hr&&(l.shapeFlag&6?hr[hr.indexOf(e)]=l:hr.push(l)),l.patchFlag|=-2,l}if(AD(e)&&(e=e.__vccOpts),t){t=mD(t);let{class:l,style:f}=t;l&&!Ot(l)&&(t.class=Yr(l)),rt(f)&&(QT(f)&&!be(f)&&(f=Qt({},f)),t.style=La(f))}const a=Ot(e)?1:PP(e)?128:hD(e)?64:rt(e)?4:De(e)?2:0;return he(e,t,n,r,o,a,s,!0)}function mD(e){return e?QT(e)||lh in e?Qt({},e):e:null}function ji(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=e,l=t?kv(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&SA(l),ref:t&&t.ref?n&&o?be(o)?o.concat(sf(t)):[o,sf(t)]:sf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==yn?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ji(e.ssContent),ssFallback:e.ssFallback&&ji(e.ssFallback),el:e.el,anchor:e.anchor}}function Ea(e=" ",t=0){return Pe(Tv,null,e,t)}function r4(e,t){const n=Pe(of,null,e);return n.staticCount=t,n}function Av(e="",t=!1){return t?(Rt(),_f(mr,null,e)):Pe(mr,null,e)}function Pr(e){return e==null||typeof e=="boolean"?Pe(mr):be(e)?Pe(yn,null,e.slice()):typeof e=="object"?Ai(e):Pe(Tv,null,String(e))}function Ai(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ji(e)}function Sv(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(be(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Sv(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(lh in t)?t._ctx=Jn:o===3&&Jn&&(Jn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else De(t)?(t={default:t,_ctx:Jn},n=32):(t=String(t),r&64?(n=16,t=[Ea(t)]):n=8);e.children=t,e.shapeFlag|=n}function kv(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Yr([t.class,r.class]));else if(o==="style")t.style=La([t.style,r.style]);else if(Jf(o)){const s=t[o],a=r[o];a&&s!==a&&!(be(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=r[o])}return t}function Rr(e,t,n,r=null){nr(e,t,7,[n,r])}const gD=IA();let vD=0;function yD(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||gD,s={uid:vD++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new FT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_A(r,o),emitsOptions:aA(r,o),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:r.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=CP.bind(null,s),e.ce&&e.ce(s),s}let Ut=null;const cc=()=>Ut||Jn,Ws=e=>{Ut=e,e.scope.on()},Do=()=>{Ut&&Ut.scope.off(),Ut=null};function kA(e){return e.vnode.shapeFlag&4}let qa=!1;function _D(e,t=!1){qa=t;const{props:n,children:r}=e.vnode,o=kA(e);nD(e,n,o,t),oD(e,r);const s=o?wD(e,t):void 0;return qa=!1,s}function wD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Uo(new Proxy(e.ctx,QP));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?ED(e):null;Ws(e),Qo();const s=Jr(r,e,0,[e.props,o]);if(Yo(),Do(),DT(s)){if(s.then(Do,Do),t)return s.then(a=>{sE(e,a,t)}).catch(a=>{rh(a,e,0)});e.asyncDep=s}else sE(e,s,t)}else CA(e,t)}function sE(e,t,n){De(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:rt(t)&&(e.setupState=eA(t)),CA(e,n)}let uE;function CA(e,t,n){const r=e.type;if(!e.render){if(!t&&uE&&!r.render){const o=r.template||Ev(e).template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=r,p=Qt(Qt({isCustomElement:s,delimiters:l},a),f);r.render=uE(o,p)}}e.render=r.render||dr}Ws(e),Qo(),YP(e),Yo(),Do()}function bD(e){return new Proxy(e.attrs,{get(t,n){return Kn(e,"get","$attrs"),t[n]}})}function ED(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=bD(e))},slots:e.slots,emit:e.emit,expose:t}}function fh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(eA(Uo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in vf)return vf[n](e)}}))}const ID=/(?:^|[-_])(\w)/g,TD=e=>e.replace(ID,t=>t.toUpperCase()).replace(/[-_]/g,"");function NA(e,t=!0){return De(e)?e.displayName||e.name:e.name||t&&e.__name}function RA(e,t,n=!1){let r=NA(t);if(!r&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(r=o[1])}if(!r&&e&&e.parent){const o=s=>{for(const a in s)if(s[a]===t)return a};r=o(e.components||e.parent.type.components)||o(e.appContext.components)}return r?TD(r):n?"App":"Anonymous"}function AD(e){return De(e)&&"__vccOpts"in e}const Xe=(e,t)=>yP(e,t,qa);function jo(e,t,n){const r=arguments.length;return r===2?rt(t)&&!be(t)?pg(t)?Pe(e,null,[t]):Pe(e,t):Pe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&pg(n)&&(n=[n]),Pe(e,t,n))}const SD="3.2.41",kD="http://www.w3.org/2000/svg",So=typeof document<"u"?document:null,aE=So&&So.createElement("template"),CD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?So.createElementNS(kD,e):So.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>So.createTextNode(e),createComment:e=>So.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>So.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{aE.innerHTML=r?`<svg>${e}</svg>`:e;const l=aE.content;if(r){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function ND(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function RD(e,t,n){const r=e.style,o=Ot(n);if(n&&!o){for(const s in n)mg(r,s,n[s]);if(t&&!Ot(t))for(const s in t)n[s]==null&&mg(r,s,"")}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const cE=/\s*!important$/;function mg(e,t,n){if(be(n))n.forEach(r=>mg(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=OD(e,t);cE.test(n)?e.setProperty(yu(r),n.replace(cE,""),"important"):e[r]=n}}const lE=["Webkit","Moz","ms"],Nm={};function OD(e,t){const n=Nm[t];if(n)return n;let r=Ur(t);if(r!=="filter"&&r in e)return Nm[t]=r;r=th(r);for(let o=0;o<lE.length;o++){const s=lE[o]+r;if(s in e)return Nm[t]=s}return t}const fE="http://www.w3.org/1999/xlink";function xD(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(fE,t.slice(6,t.length)):e.setAttributeNS(fE,t,n);else{const s=Sx(t);n==null||s&&!xT(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function PD(e,t,n,r,o,s,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,o,s),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const f=n==null?"":n;(e.value!==f||e.tagName==="OPTION")&&(e.value=f),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=xT(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function OA(e,t,n,r){e.addEventListener(t,n,r)}function DD(e,t,n,r){e.removeEventListener(t,n,r)}function LD(e,t,n,r,o=null){const s=e._vei||(e._vei={}),a=s[t];if(r&&a)a.value=r;else{const[l,f]=MD(t);if(r){const p=s[t]=UD(r,o);OA(e,l,p,f)}else a&&(DD(e,l,a,f),s[t]=void 0)}}const hE=/(?:Once|Passive|Capture)$/;function MD(e){let t;if(hE.test(e)){t={};let r;for(;r=e.match(hE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):yu(e.slice(2)),t]}let Rm=0;const FD=Promise.resolve(),VD=()=>Rm||(FD.then(()=>Rm=0),Rm=Date.now());function UD(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;nr(jD(r,n.value),t,5,[r])};return n.value=e,n.attached=VD(),n}function jD(e,t){if(be(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const dE=/^on[a-z]/,BD=(e,t,n,r,o=!1,s,a,l,f)=>{t==="class"?ND(e,r,o):t==="style"?RD(e,n,r):Jf(t)?ov(t)||LD(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):qD(e,t,r,o))?PD(e,t,r,s,a,l,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),xD(e,t,r,o))};function qD(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&dE.test(t)&&De(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||dE.test(t)&&Ot(n)?!1:t in e}const yi="transition",ha="animation",Cv=(e,{slots:t})=>jo(fA,$D(e),t);Cv.displayName="Transition";const xA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Cv.props=Qt({},fA.props,xA);const yo=(e,t=[])=>{be(e)?e.forEach(n=>n(...t)):e&&e(...t)},pE=e=>e?be(e)?e.some(t=>t.length>1):e.length>1:!1;function $D(e){const t={};for(const re in e)re in xA||(t[re]=e[re]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:f=s,appearActiveClass:p=a,appearToClass:g=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,_=HD(o),b=_&&_[0],T=_&&_[1],{onBeforeEnter:I,onEnter:N,onEnterCancelled:C,onLeave:x,onLeaveCancelled:V,onBeforeAppear:D=I,onAppear:q=N,onAppearCancelled:L=C}=t,W=(re,Ae,ke)=>{_o(re,Ae?g:l),_o(re,Ae?p:a),ke&&ke()},k=(re,Ae)=>{re._isLeaving=!1,_o(re,h),_o(re,y),_o(re,m),Ae&&Ae()},Ee=re=>(Ae,ke)=>{const Me=re?q:N,Ce=()=>W(Ae,re,ke);yo(Me,[Ae,Ce]),mE(()=>{_o(Ae,re?f:s),_i(Ae,re?g:l),pE(Me)||gE(Ae,r,b,Ce)})};return Qt(t,{onBeforeEnter(re){yo(I,[re]),_i(re,s),_i(re,a)},onBeforeAppear(re){yo(D,[re]),_i(re,f),_i(re,p)},onEnter:Ee(!1),onAppear:Ee(!0),onLeave(re,Ae){re._isLeaving=!0;const ke=()=>k(re,Ae);_i(re,h),zD(),_i(re,m),mE(()=>{!re._isLeaving||(_o(re,h),_i(re,y),pE(x)||gE(re,r,T,ke))}),yo(x,[re,ke])},onEnterCancelled(re){W(re,!1),yo(C,[re])},onAppearCancelled(re){W(re,!0),yo(L,[re])},onLeaveCancelled(re){k(re),yo(V,[re])}})}function HD(e){if(e==null)return null;if(rt(e))return[Om(e.enter),Om(e.leave)];{const t=Om(e);return[t,t]}}function Om(e){return av(e)}function _i(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function _o(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function mE(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let KD=0;function gE(e,t,n,r){const o=e._endId=++KD,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:l,propCount:f}=GD(e,t);if(!a)return r();const p=a+"end";let g=0;const h=()=>{e.removeEventListener(p,m),s()},m=y=>{y.target===e&&++g>=f&&h()};setTimeout(()=>{g<f&&h()},l+1),e.addEventListener(p,m)}function GD(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),o=r(yi+"Delay"),s=r(yi+"Duration"),a=vE(o,s),l=r(ha+"Delay"),f=r(ha+"Duration"),p=vE(l,f);let g=null,h=0,m=0;t===yi?a>0&&(g=yi,h=a,m=s.length):t===ha?p>0&&(g=ha,h=p,m=f.length):(h=Math.max(a,p),g=h>0?a>p?yi:ha:null,m=g?g===yi?s.length:f.length:0);const y=g===yi&&/\b(transform|all)(,|$)/.test(n[yi+"Property"]);return{type:g,timeout:h,propCount:m,hasTransform:y}}function vE(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>yE(n)+yE(e[r])))}function yE(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function zD(){return document.body.offsetHeight}const _E=e=>{const t=e.props["onUpdate:modelValue"]||!1;return be(t)?n=>nf(t,n):t},i4={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=Zf(t);OA(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?av(wf(a)):wf(a));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=_E(r)},mounted(e,{value:t}){wE(e,t)},beforeUpdate(e,t,n){e._assign=_E(n)},updated(e,{value:t}){wE(e,t)}};function wE(e,t){const n=e.multiple;if(!(n&&!be(t)&&!Zf(t))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],a=wf(s);if(n)be(t)?s.selected=Ox(t,a)>-1:s.selected=t.has(a);else if(Yf(wf(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function wf(e){return"_value"in e?e._value:e.value}const WD=["ctrl","shift","alt","meta"],XD={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>WD.some(n=>e[`${n}Key`]&&!t.includes(n))},Xs=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=XD[t[o]];if(s&&s(n,t))return}return e(n,...r)},o4={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):da(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),da(e,!0),r.enter(e)):r.leave(e,()=>{da(e,!1)}):da(e,t))},beforeUnmount(e,{value:t}){da(e,t)}};function da(e,t){e.style.display=t?e._vod:"none"}const QD=Qt({patchProp:BD},CD);let bE;function YD(){return bE||(bE=cD(QD))}const JD=(...e)=>{const t=YD().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=ZD(r);if(!o)return;const s=t._component;!De(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function ZD(e){return Ot(e)?document.querySelector(e):e}var eL=!1;/*!
  * pinia v2.0.23
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let PA;const hh=e=>PA=e,DA=Symbol();function gg(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ia;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ia||(Ia={}));function tL(){const e=VT(!0),t=e.run(()=>Nn({}));let n=[],r=[];const o=Uo({install(s){hh(o),o._a=s,s.provide(DA,o),s.config.globalProperties.$pinia=o,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!eL?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const LA=()=>{};function EE(e,t,n,r=LA){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&cc()&&_v(o),o}function Ns(e,...t){e.slice().forEach(n=>{n(...t)})}function vg(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];gg(o)&&gg(r)&&e.hasOwnProperty(n)&&!it(r)&&!Mi(r)?e[n]=vg(o,r):e[n]=r}return e}const nL=Symbol();function rL(e){return!gg(e)||!e.hasOwnProperty(nL)}const{assign:Si}=Object;function iL(e){return!!(it(e)&&e.effect)}function oL(e,t,n,r){const{state:o,actions:s,getters:a}=t,l=n.state.value[e];let f;function p(){l||(n.state.value[e]=o?o():{});const g=mP(n.state.value[e]);return Si(g,s,Object.keys(a||{}).reduce((h,m)=>(h[m]=Uo(Xe(()=>{hh(n);const y=n._s.get(e);return a[m].call(y,y)})),h),{}))}return f=MA(e,p,t,n,r,!0),f.$reset=function(){const h=o?o():{};this.$patch(m=>{Si(m,h)})},f}function MA(e,t,n={},r,o,s){let a;const l=Si({actions:{}},n),f={deep:!0};let p,g,h=Uo([]),m=Uo([]),y;const _=r.state.value[e];!s&&!_&&(r.state.value[e]={}),Nn({});let b;function T(q){let L;p=g=!1,typeof q=="function"?(q(r.state.value[e]),L={type:Ia.patchFunction,storeId:e,events:y}):(vg(r.state.value[e],q),L={type:Ia.patchObject,payload:q,storeId:e,events:y});const W=b=Symbol();Di().then(()=>{b===W&&(p=!0)}),g=!0,Ns(h,L,r.state.value[e])}const I=LA;function N(){a.stop(),h=[],m=[],r._s.delete(e)}function C(q,L){return function(){hh(r);const W=Array.from(arguments),k=[],Ee=[];function re(Me){k.push(Me)}function Ae(Me){Ee.push(Me)}Ns(m,{args:W,name:q,store:V,after:re,onError:Ae});let ke;try{ke=L.apply(this&&this.$id===e?this:V,W)}catch(Me){throw Ns(Ee,Me),Me}return ke instanceof Promise?ke.then(Me=>(Ns(k,Me),Me)).catch(Me=>(Ns(Ee,Me),Promise.reject(Me))):(Ns(k,ke),ke)}}const x={_p:r,$id:e,$onAction:EE.bind(null,m),$patch:T,$reset:I,$subscribe(q,L={}){const W=EE(h,q,L.detached,()=>k()),k=a.run(()=>zt(()=>r.state.value[e],Ee=>{(L.flush==="sync"?g:p)&&q({storeId:e,type:Ia.direct,events:y},Ee)},Si({},f,L)));return W},$dispose:N},V=ii(x);r._s.set(e,V);const D=r._e.run(()=>(a=VT(),a.run(()=>t())));for(const q in D){const L=D[q];if(it(L)&&!iL(L)||Mi(L))s||(_&&rL(L)&&(it(L)?L.value=_[q]:vg(L,_[q])),r.state.value[e][q]=L);else if(typeof L=="function"){const W=C(q,L);D[q]=W,l.actions[q]=L}}return Si(V,D),Si(Ke(V),D),Object.defineProperty(V,"$state",{get:()=>r.state.value[e],set:q=>{T(L=>{Si(L,q)})}}),r._p.forEach(q=>{Si(V,a.run(()=>q({store:V,app:r._a,pinia:r,options:l})))}),_&&s&&n.hydrate&&n.hydrate(V.$state,_),p=!0,g=!0,V}function Nv(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function a(l,f){const p=cc();return l=l||p&&pr(DA),l&&hh(l),l=PA,l._s.has(r)||(s?MA(r,t,o,l):oL(r,o,l)),l._s.get(r)}return a.$id=r,a}let sL="Store";function uL(...e){return e.reduce((t,n)=>(t[n.$id+sL]=function(){return n(this.$pinia)},t),{})}function FA(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function Rv(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function VA(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(o){return e(this.$pinia)[r]=o}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(o){return e(this.$pinia)[t[r]]=o}},n),{})}var yg=function(e,t){return yg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},yg(e,t)};function _e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Qs=function(){return Qs=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Qs.apply(this,arguments)};function K(e,t,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(g){try{p(r.next(g))}catch(h){a(h)}}function f(g){try{p(r.throw(g))}catch(h){a(h)}}function p(g){g.done?s(g.value):o(g.value).then(l,f)}p((r=r.apply(e,t||[])).next())})}function $(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(p){return function(g){return f([p,g])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(s=p[0]&2?o.return:p[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,p[1])).done)return s;switch(o=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(g){p=[6,g],o=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function xm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function jl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function ft(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UA=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},aL=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},cL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,p=f?e[o+2]:0,g=s>>2,h=(s&3)<<4|l>>4,m=(l&15)<<2|p>>6,y=p&63;f||(y=64,a||(m=64)),r.push(n[g],n[h],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(UA(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):aL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,p=f?n[e.charAt(o)]:64;++o;var g=o<e.length,h=g?n[e.charAt(o)]:64;if(++o,s==null||l==null||p==null||h==null)throw Error();var m=s<<2|l>>4;if(r.push(m),p!==64){var y=l<<4&240|p>>2;if(r.push(y),h!==64){var _=p<<6&192|h;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},lL=function(e){var t=UA(e);return cL.encodeByteArray(t,!0)},IE=function(e){return lL(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(e){return $a(void 0,e)}function $a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!hL(r)||(e[r]=$a(e[r],t[r]));return e}function hL(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dL=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Qs({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[IE(JSON.stringify(n)),IE(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bo())}function BA(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mL(){return typeof self=="object"&&self.self===self}function gL(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function vL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yL(){return Bo().indexOf("Electron/")>=0}function _L(){var e=Bo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function wL(){return Bo().indexOf("MSAppHost/")>=0}function bL(){return!BA()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EL="FirebaseError",qA=function(e){_e(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=EL,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Ov.prototype.create),s}return t}(Error),Ov=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?IL(a,o):"Error",f=this.serviceName+": "+l+" ("+s+").",p=new qA(s,f,o);return p},e}();function IL(e,t){return e.replace(TL,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var TL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function AL(e,t){var n=new SL(e,t);return n.subscribe.bind(n)}var SL=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kL(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Pm),s.error===void 0&&(s.error=Pm),s.complete===void 0&&(s.complete=Pm);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function kL(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(e){return e&&e._delegate?e._delegate:e}var lc=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new dL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(RL(t))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}try{for(var o=xm(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var a=jl(s.value,2),l=a[0],f=a[1],p=this.normalizeInstanceIdentifier(l);try{var g=this.getOrInitializeService({instanceIdentifier:p});f.resolve(g)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Io),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return K(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ft(ft([],jl(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),jl(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Io),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Io),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var f=xm(this.instancesDeferred.entries()),p=f.next();!p.done;p=f.next()){var g=jl(p.value,2),h=g[0],m=g[1],y=this.normalizeInstanceIdentifier(h);a===y&&m.resolve(l)}}catch(_){n={error:_}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var a=this.instances.get(o);return a&&t(a,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(!!s)try{for(var a=xm(s),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(p){r={error:p}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NL(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Io),this.component?this.component.multipleInstances?t:Io:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function NL(e){return e===Io?void 0:e}function RL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new CL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function lr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)r[o]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wo,xv=[],We;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(We||(We={}));var $A={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},xL=We.INFO,PL=(wo={},wo[We.DEBUG]="log",wo[We.VERBOSE]="log",wo[We.INFO]="info",wo[We.WARN]="warn",wo[We.ERROR]="error",wo),DL=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=PL[t];if(s)console[s].apply(console,lr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},HA=function(){function e(t){this.name=t,this._logLevel=xL,this._logHandler=DL,this._userLogHandler=null,xv.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in We))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?$A[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,We.DEBUG],t)),this._logHandler.apply(this,lr([this,We.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,We.VERBOSE],t)),this._logHandler.apply(this,lr([this,We.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,We.INFO],t)),this._logHandler.apply(this,lr([this,We.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,We.WARN],t)),this._logHandler.apply(this,lr([this,We.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,We.ERROR],t)),this._logHandler.apply(this,lr([this,We.ERROR],t))},e}();function LL(e){xv.forEach(function(t){t.setLogLevel(e)})}function ML(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=$A[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,p){for(var g=[],h=2;h<arguments.length;h++)g[h-2]=arguments[h];var m=g.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");p>=(l!=null?l:f.logLevel)&&e({level:We[p].toLowerCase(),message:m,args:g,type:f.name})}},r=0,o=xv;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wi,FL=(wi={},wi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",wi["bad-app-name"]="Illegal App name: '{$appName}",wi["duplicate-app"]="Firebase App named '{$appName}' already exists",wi["app-deleted"]="Firebase App named '{$appName}' already deleted",wi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",wi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",wi),Ds=new Ov("app","Firebase",FL),KA="@firebase/app",VL="0.6.30",UL="@firebase/analytics",jL="@firebase/app-check",BL="@firebase/auth",qL="@firebase/database",$L="@firebase/functions",HL="@firebase/installations",KL="@firebase/messaging",GL="@firebase/performance",zL="@firebase/remote-config",WL="@firebase/storage",XL="@firebase/firestore",QL="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,bf="[DEFAULT]",YL=(tn={},tn[KA]="fire-core",tn[UL]="fire-analytics",tn[jL]="fire-app-check",tn[BL]="fire-auth",tn[qL]="fire-rtdb",tn[$L]="fire-fn",tn[HL]="fire-iid",tn[KL]="fire-fcm",tn[GL]="fire-perf",tn[zL]="fire-rc",tn[WL]="fire-gcs",tn[XL]="fire-fst",tn["fire-js"]="fire-js",tn[QL]="fire-js-all",tn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ys=new HA("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uf=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=fL(t),this.container=new OL(n.name),this._addComponent(new lc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=bf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=bf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Ys.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ds.create("app-deleted",{appName:this.name_})},e}();uf.prototype.name&&uf.prototype.options||uf.prototype.delete||console.log("dc");var JL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:p,setLogLevel:LL,onLog:g,apps:null,SDK_VERSION:JL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:l});function o(m){delete t[m]}function s(m){if(m=m||bf,!TE(t,m))throw Ds.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var b=y;b.name===void 0&&(b.name=bf);var T=b.name;if(typeof T!="string"||!T)throw Ds.create("bad-app-name",{appName:String(T)});if(TE(t,T))throw Ds.create("duplicate-app",{appName:T});var I=new e(m,b,r);return t[T]=I,I}function l(){return Object.keys(t).map(function(m){return t[m]})}function f(m){var y=m.name;if(n.has(y))return Ys.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var _=function(N){if(N===void 0&&(N=s()),typeof N[y]!="function")throw Ds.create("invalid-app-argument",{appName:y});return N[y]()};m.serviceProps!==void 0&&$a(_,m.serviceProps),r[y]=_,e.prototype[y]=function(){for(var N=[],C=0;C<arguments.length;C++)N[C]=arguments[C];var x=this._getService.bind(this,y);return x.apply(this,m.multipleInstances?N:[])}}for(var b=0,T=Object.keys(t);b<T.length;b++){var I=T[b];t[I]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function p(m,y,_){var b,T=(b=YL[m])!==null&&b!==void 0?b:m;_&&(T+="-"+_);var I=T.match(/\s|\//),N=y.match(/\s|\//);if(I||N){var C=['Unable to register library "'+T+'" with version "'+y+'":'];I&&C.push('library name "'+T+'" contains illegal characters (whitespace or "/")'),I&&N&&C.push("and"),N&&C.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),Ys.warn(C.join(" "));return}f(new lc(T+"-version",function(){return{library:T,version:y}},"VERSION"))}function g(m,y){if(m!==null&&typeof m!="function")throw Ds.create("invalid-log-argument");ML(m,y)}function h(m,y){if(y==="serverAuth")return null;var _=y;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(){var e=ZL(uf);e.INTERNAL=Qs(Qs({},e.INTERNAL),{createFirebaseNamespace:GA,extendNamespace:t,createSubscribe:AL,ErrorFactory:Ov,deepExtend:$a});function t(n){$a(e,n)}return e}var Pv=GA();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eM=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(tM(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function tM(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(e,t){e.INTERNAL.registerComponent(new lc("platform-logger",function(n){return new eM(n)},"PRIVATE")),e.registerVersion(KA,VL,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(mL()&&self.firebase!==void 0){Ys.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var AE=self.firebase.SDK_VERSION;AE&&AE.indexOf("LITE")>=0&&Ys.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var rM=Pv.initializeApp;Pv.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return BA()&&Ys.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),rM.apply(void 0,e)};var Ie=Pv;nM(Ie);var iM="firebase",zA="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ie.registerVersion(iM,zA,"app");Ie.SDK_VERSION=zA;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,u,c){i!=Array.prototype&&i!=Object.prototype&&(i[u]=c.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var u=0;u<i.length;++u){var c=i[u];if(c&&c.Math==Math)return c}return globalThis}var r=n(this);function o(i,u){if(u){var c=r;i=i.split(".");for(var d=0;d<i.length-1;d++){var v=i[d];v in c||(c[v]={}),c=c[v]}i=i[i.length-1],d=c[i],u=u(d),u!=d&&u!=null&&t(c,i,{configurable:!0,writable:!0,value:u})}}function s(i){var u=0;return function(){return u<i.length?{done:!1,value:i[u++]}:{done:!0}}}function a(i){var u=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return u?u.call(i):{next:s(i)}}o("Promise",function(i){function u(E){this.b=0,this.c=void 0,this.a=[];var S=this.f();try{E(S.resolve,S.reject)}catch(j){S.reject(j)}}function c(){this.a=null}function d(E){return E instanceof u?E:new u(function(S){S(E)})}if(i)return i;c.prototype.b=function(E){if(this.a==null){this.a=[];var S=this;this.c(function(){S.g()})}this.a.push(E)};var v=r.setTimeout;c.prototype.c=function(E){v(E,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var E=this.a;this.a=[];for(var S=0;S<E.length;++S){var j=E[S];E[S]=null;try{j()}catch(z){this.f(z)}}}this.a=null},c.prototype.f=function(E){this.c(function(){throw E})},u.prototype.f=function(){function E(z){return function(Ne){j||(j=!0,z.call(S,Ne))}}var S=this,j=!1;return{resolve:E(this.m),reject:E(this.g)}},u.prototype.m=function(E){if(E===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(E instanceof u)this.s(E);else{e:switch(typeof E){case"object":var S=E!=null;break e;case"function":S=!0;break e;default:S=!1}S?this.v(E):this.h(E)}},u.prototype.v=function(E){var S=void 0;try{S=E.then}catch(j){this.g(j);return}typeof S=="function"?this.u(S,E):this.h(E)},u.prototype.g=function(E){this.i(2,E)},u.prototype.h=function(E){this.i(1,E)},u.prototype.i=function(E,S){if(this.b!=0)throw Error("Cannot settle("+E+", "+S+"): Promise already settled in state"+this.b);this.b=E,this.c=S,this.l()},u.prototype.l=function(){if(this.a!=null){for(var E=0;E<this.a.length;++E)w.b(this.a[E]);this.a=null}};var w=new c;return u.prototype.s=function(E){var S=this.f();E.Ra(S.resolve,S.reject)},u.prototype.u=function(E,S){var j=this.f();try{E.call(S,j.resolve,j.reject)}catch(z){j.reject(z)}},u.prototype.then=function(E,S){function j(ze,Ft){return typeof ze=="function"?function(Gr){try{z(ze(Gr))}catch(Am){Ne(Am)}}:Ft}var z,Ne,Je=new u(function(ze,Ft){z=ze,Ne=Ft});return this.Ra(j(E,z),j(S,Ne)),Je},u.prototype.catch=function(E){return this.then(void 0,E)},u.prototype.Ra=function(E,S){function j(){switch(z.b){case 1:E(z.c);break;case 2:S(z.c);break;default:throw Error("Unexpected state: "+z.b)}}var z=this;this.a==null?w.b(j):this.a.push(j)},u.resolve=d,u.reject=function(E){return new u(function(S,j){j(E)})},u.race=function(E){return new u(function(S,j){for(var z=a(E),Ne=z.next();!Ne.done;Ne=z.next())d(Ne.value).Ra(S,j)})},u.all=function(E){var S=a(E),j=S.next();return j.done?d([]):new u(function(z,Ne){function Je(Gr){return function(Am){ze[Gr]=Am,Ft--,Ft==0&&z(ze)}}var ze=[],Ft=0;do ze.push(void 0),Ft++,d(j.value).Ra(Je(ze.length-1),Ne),j=S.next();while(!j.done)})},u});var l=l||{},f=this||self,p=/^[\w+/_-]+[=]{0,2}$/,g=null;function h(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&p.test(i)?i:""}function m(){}function y(i){var u=typeof i;return u!="object"?u:i?Array.isArray(i)?"array":u:"null"}function _(i){var u=y(i);return u=="array"||u=="object"&&typeof i.length=="number"}function b(i){return y(i)=="function"}function T(i){var u=typeof i;return u=="object"&&i!=null||u=="function"}function I(i){return Object.prototype.hasOwnProperty.call(i,N)&&i[N]||(i[N]=++C)}var N="closure_uid_"+(1e9*Math.random()>>>0),C=0;function x(i,u,c){return i.call.apply(i.bind,arguments)}function V(i,u,c){if(!i)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,d),i.apply(u,v)}}return function(){return i.apply(u,arguments)}}function D(i,u,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?D=x:D=V,D.apply(null,arguments)}function q(i,u){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),i.apply(this,d)}}function L(i,u){function c(){}c.prototype=u.prototype,i.bb=u.prototype,i.prototype=new c,i.prototype.constructor=i}function W(i){return i}function k(i,u,c){this.code=re+i,this.message=u||Ae[i]||"",this.a=c||null}L(k,Error),k.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},k.prototype.toJSON=function(){return this.w()};function Ee(i){var u=i&&i.code;return u?new k(u.substring(re.length),i.message,i.serverResponse):null}var re="auth/",Ae={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ke={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Me(i){for(var u in ke)if(ke[u].id===i)return i=ke[u],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var Ce;Ce=Me("__EID__")?"__EID__":void 0;function Oe(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function we(i){if(Error.captureStackTrace)Error.captureStackTrace(this,we);else{var u=Error().stack;u&&(this.stack=u)}i&&(this.message=String(i))}L(we,Error),we.prototype.name="CustomError";function bt(i,u){i=i.split("%s");for(var c="",d=i.length-1,v=0;v<d;v++)c+=i[v]+(v<u.length?u[v]:"%s");we.call(this,c+i[d])}L(bt,we),bt.prototype.name="AssertionError";function dt(i,u){throw new bt("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function pt(i,u){this.c=i,this.f=u,this.b=0,this.a=null}pt.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function at(i,u){i.f(u),100>i.b&&(i.b++,u.next=i.a,i.a=u)}function Jt(){this.b=this.a=null}var Zt=new pt(function(){return new U},function(i){i.reset()});Jt.prototype.add=function(i,u){var c=Zt.get();c.set(i,u),this.b?this.b.next=c:this.a=c,this.b=c};function G(){var i=T_,u=null;return i.a&&(u=i.a,i.a=i.a.next,i.a||(i.b=null),u.next=null),u}function U(){this.next=this.b=this.a=null}U.prototype.set=function(i,u){this.a=i,this.b=u,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var X=Array.prototype.indexOf?function(i,u){return Array.prototype.indexOf.call(i,u,void 0)}:function(i,u){if(typeof i=="string")return typeof u!="string"||u.length!=1?-1:i.indexOf(u,0);for(var c=0;c<i.length;c++)if(c in i&&i[c]===u)return c;return-1},Z=Array.prototype.forEach?function(i,u,c){Array.prototype.forEach.call(i,u,c)}:function(i,u,c){for(var d=i.length,v=typeof i=="string"?i.split(""):i,w=0;w<d;w++)w in v&&u.call(c,v[w],w,i)};function Fe(i,u){for(var c=typeof i=="string"?i.split(""):i,d=i.length-1;0<=d;--d)d in c&&u.call(void 0,c[d],d,i)}var Ge=Array.prototype.filter?function(i,u){return Array.prototype.filter.call(i,u,void 0)}:function(i,u){for(var c=i.length,d=[],v=0,w=typeof i=="string"?i.split(""):i,E=0;E<c;E++)if(E in w){var S=w[E];u.call(void 0,S,E,i)&&(d[v++]=S)}return d},Te=Array.prototype.map?function(i,u){return Array.prototype.map.call(i,u,void 0)}:function(i,u){for(var c=i.length,d=Array(c),v=typeof i=="string"?i.split(""):i,w=0;w<c;w++)w in v&&(d[w]=u.call(void 0,v[w],w,i));return d},A=Array.prototype.some?function(i,u){return Array.prototype.some.call(i,u,void 0)}:function(i,u){for(var c=i.length,d=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in d&&u.call(void 0,d[v],v,i))return!0;return!1};function R(i){e:{for(var u=iR,c=i.length,d=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in d&&u.call(void 0,d[v],v,i)){u=v;break e}u=-1}return 0>u?null:typeof i=="string"?i.charAt(u):i[u]}function M(i,u){return 0<=X(i,u)}function B(i,u){u=X(i,u);var c;return(c=0<=u)&&Array.prototype.splice.call(i,u,1),c}function H(i,u){var c=0;Fe(i,function(d,v){u.call(void 0,d,v,i)&&Array.prototype.splice.call(i,v,1).length==1&&c++})}function te(i){return Array.prototype.concat.apply([],arguments)}function se(i){var u=i.length;if(0<u){for(var c=Array(u),d=0;d<u;d++)c[d]=i[d];return c}return[]}var ne=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},O=/&/g,P=/</g,Q=/>/g,Y=/"/g,oe=/'/g,ue=/\x00/g,le=/[\x00&<>"']/;function ae(i,u){return i.indexOf(u)!=-1}function xe(i,u){return i<u?-1:i>u?1:0}var Ve;e:{var en=f.navigator;if(en){var fn=en.userAgent;if(fn){Ve=fn;break e}}Ve=""}function vt(i){return ae(Ve,i)}function ai(i,u){for(var c in i)u.call(void 0,i[c],c,i)}function br(i){for(var u in i)return!1;return!0}function yt(i){var u={},c;for(c in i)u[c]=i[c];return u}var Dn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qt(i,u){for(var c,d,v=1;v<arguments.length;v++){d=arguments[v];for(c in d)i[c]=d[c];for(var w=0;w<Dn.length;w++)c=Dn[w],Object.prototype.hasOwnProperty.call(d,c)&&(i[c]=d[c])}}function i_(i,u){e:{try{var c=i&&i.ownerDocument,d=c&&(c.defaultView||c.parentWindow);if(d=d||f,d.Element&&d.Location){var v=d;break e}}catch{}v=null}if(v&&typeof v[u]<"u"&&(!i||!(i instanceof v[u])&&(i instanceof v.Location||i instanceof v.Element))){if(T(i))try{var w=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{w="<object could not be stringified>"}else w=i===void 0?"undefined":i===null?"null":typeof i;dt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,w)}}function Er(i,u){this.a=i===Dc&&u||"",this.b=o_}Er.prototype.ta=!0,Er.prototype.sa=function(){return this.a},Er.prototype.toString=function(){return"Const{"+this.a+"}"};function Jh(i){return i instanceof Er&&i.constructor===Er&&i.b===o_?i.a:(dt("expected object of type Const, got '"+i+"'"),"type_error:Const")}var o_={},Dc={},Lc;function s_(){if(Lc===void 0){var i=null,u=f.trustedTypes;if(u&&u.createPolicy){try{i=u.createPolicy("goog#html",{createHTML:W,createScript:W,createScriptURL:W})}catch(c){f.console&&f.console.error(c.message)}Lc=i}else Lc=i}return Lc}function ss(i,u){this.a=u===a_?i:""}ss.prototype.ta=!0,ss.prototype.sa=function(){return this.a.toString()},ss.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function u_(i){return i instanceof ss&&i.constructor===ss?i.a:(dt("expected object of type TrustedResourceUrl, got '"+i+"' of type "+y(i)),"type_error:TrustedResourceUrl")}function Zh(i,u){var c=Jh(i);if(!DC.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return i=c.replace(PC,function(d,v){if(!Object.prototype.hasOwnProperty.call(u,v))throw Error('Found marker, "'+v+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[v],d instanceof Er?Jh(d):encodeURIComponent(String(d))}),LC(i)}var PC=/%{(\w+)}/g,DC=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,a_={};function LC(i){var u=s_();return i=u?u.createScriptURL(i):i,new ss(i,a_)}function In(i,u){this.a=u===Ru?i:""}In.prototype.ta=!0,In.prototype.sa=function(){return this.a.toString()},In.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Mc(i){return i instanceof In&&i.constructor===In?i.a:(dt("expected object of type SafeUrl, got '"+i+"' of type "+y(i)),"type_error:SafeUrl")}var MC=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,FC=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,c_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function l_(i){if(i instanceof In)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),c_.test(i))i=new In(i,Ru);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var u=i.match(FC);i=u&&MC.test(u[1])?new In(i,Ru):null}return i}function f_(i){return i instanceof In?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),c_.test(i)||(i="about:invalid#zClosurez"),new In(i,Ru))}var Ru={},h_=new In("about:invalid#zClosurez",Ru);function us(i,u,c){this.a=c===d_?i:""}us.prototype.ta=!0,us.prototype.sa=function(){return this.a.toString()},us.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function VC(i){return i instanceof us&&i.constructor===us?i.a:(dt("expected object of type SafeHtml, got '"+i+"' of type "+y(i)),"type_error:SafeHtml")}var d_={};function UC(i,u){i_(i,"HTMLScriptElement"),i.src=u_(u),(u=i.ownerDocument&&i.ownerDocument.defaultView)&&u!=f?u=h(u.document):(g===null&&(g=h(f.document)),u=g),u&&i.setAttribute("nonce",u)}function p_(i,u,c,d){return i=i instanceof In?i:f_(i),u=u||f,c=c instanceof Er?Jh(c):c||"",u.open(Mc(i),c,d,void 0)}function m_(i,u){for(var c=i.split("%s"),d="",v=Array.prototype.slice.call(arguments,1);v.length&&1<c.length;)d+=c.shift()+v.shift();return d+c.join("%s")}function ed(i){return le.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(O,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(P,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(Q,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(Y,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(oe,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(ue,"&#0;"))),i}function td(i){return td[" "](i),i}td[" "]=m;function jC(i,u){var c=HC;return Object.prototype.hasOwnProperty.call(c,i)?c[i]:c[i]=u(i)}var BC=vt("Opera"),rr=vt("Trident")||vt("MSIE"),g_=vt("Edge"),qC=g_||rr,v_=vt("Gecko")&&!(ae(Ve.toLowerCase(),"webkit")&&!vt("Edge"))&&!(vt("Trident")||vt("MSIE"))&&!vt("Edge"),$C=ae(Ve.toLowerCase(),"webkit")&&!vt("Edge");function y_(){var i=f.document;return i?i.documentMode:void 0}var Fc;e:{var nd="",rd=function(){var i=Ve;if(v_)return/rv:([^\);]+)(\)|;)/.exec(i);if(g_)return/Edge\/([\d\.]+)/.exec(i);if(rr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if($C)return/WebKit\/(\S+)/.exec(i);if(BC)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(rd&&(nd=rd?rd[1]:""),rr){var id=y_();if(id!=null&&id>parseFloat(nd)){Fc=String(id);break e}}Fc=nd}var HC={};function __(i){return jC(i,function(){for(var u=0,c=ne(String(Fc)).split("."),d=ne(String(i)).split("."),v=Math.max(c.length,d.length),w=0;u==0&&w<v;w++){var E=c[w]||"",S=d[w]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],E[0].length==0&&S[0].length==0)break;u=xe(E[1].length==0?0:parseInt(E[1],10),S[1].length==0?0:parseInt(S[1],10))||xe(E[2].length==0,S[2].length==0)||xe(E[2],S[2]),E=E[3],S=S[3]}while(u==0)}return 0<=u})}var od;if(f.document&&rr){var w_=y_();od=w_||parseInt(Fc,10)||void 0}else od=void 0;var ci=od;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var KC=!rr||9<=Number(ci);function Ou(i){var u=document;return typeof i=="string"?u.getElementById(i):i}function b_(i,u){ai(u,function(c,d){c&&typeof c=="object"&&c.ta&&(c=c.sa()),d=="style"?i.style.cssText=c:d=="class"?i.className=c:d=="for"?i.htmlFor=c:E_.hasOwnProperty(d)?i.setAttribute(E_[d],c):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?i.setAttribute(d,c):i[d]=c})}var E_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function GC(i,u,c){var d=arguments,v=document,w=String(d[0]),E=d[1];if(!KC&&E&&(E.name||E.type)){if(w=["<",w],E.name&&w.push(' name="',ed(E.name),'"'),E.type){w.push(' type="',ed(E.type),'"');var S={};qt(S,E),delete S.type,E=S}w.push(">"),w=w.join("")}return w=Vc(v,w),E&&(typeof E=="string"?w.className=E:Array.isArray(E)?w.className=E.join(" "):b_(w,E)),2<d.length&&zC(v,w,d),w}function zC(i,u,c){function d(S){S&&u.appendChild(typeof S=="string"?i.createTextNode(S):S)}for(var v=2;v<c.length;v++){var w=c[v];if(!_(w)||T(w)&&0<w.nodeType)d(w);else{e:{if(w&&typeof w.length=="number"){if(T(w)){var E=typeof w.item=="function"||typeof w.item=="string";break e}if(b(w)){E=typeof w.item=="function";break e}}E=!1}Z(E?se(w):w,d)}}}function Vc(i,u){return u=String(u),i.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),i.createElement(u)}function I_(i){f.setTimeout(function(){throw i},0)}var sd;function WC(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!vt("Presto")&&(i=function(){var v=Vc(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var w=v.contentWindow;v=w.document,v.open(),v.close();var E="callImmediate"+Math.random(),S=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;v=D(function(j){(S=="*"||j.origin==S)&&j.data==E&&this.port1.onmessage()},this),w.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(E,S)}}}),typeof i<"u"&&!vt("Trident")&&!vt("MSIE")){var u=new i,c={},d=c;return u.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var v=c.Hb;c.Hb=null,v()}},function(v){d.next={Hb:v},d=d.next,u.port2.postMessage(0)}}return function(v){f.setTimeout(v,0)}}function Uc(i,u){jc||XC(),ud||(jc(),ud=!0),T_.add(i,u)}var jc;function XC(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);jc=function(){i.then(A_)}}else jc=function(){var u=A_;!b(f.setImmediate)||f.Window&&f.Window.prototype&&!vt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(sd||(sd=WC()),sd(u)):f.setImmediate(u)}}var ud=!1,T_=new Jt;function A_(){for(var i;i=G();){try{i.a.call(i.b)}catch(u){I_(u)}at(Zt,i)}ud=!1}function je(i,u){if(this.a=Qi,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=m)try{var c=this;i.call(u,function(d){Yi(c,xu,d)},function(d){if(!(d instanceof as))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}Yi(c,qr,d)})}catch(d){Yi(this,qr,d)}}var Qi=0,xu=2,qr=3;function S_(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}S_.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var k_=new pt(function(){return new S_},function(i){i.reset()});function ad(i,u,c){var d=k_.get();return d.g=i,d.b=u,d.f=c,d}function ye(i){if(i instanceof je)return i;var u=new je(m);return Yi(u,xu,i),u}function ct(i){return new je(function(u,c){c(i)})}function C_(i,u,c){x_(i,u,c,null)||Uc(q(u,i))}function QC(i){return new je(function(u,c){var d=i.length,v=[];if(d)for(var w=function(z,Ne){d--,v[z]=Ne,d==0&&u(v)},E=function(z){c(z)},S=0,j;S<i.length;S++)j=i[S],C_(j,q(w,S),E);else u(v)})}function N_(i){return new je(function(u){var c=i.length,d=[];if(c)for(var v=function(S,j,z){c--,d[S]=j?{Qb:!0,value:z}:{Qb:!1,reason:z},c==0&&u(d)},w=0,E;w<i.length;w++)E=i[w],C_(E,q(v,w,!0),q(v,w,!1));else u(d)})}je.prototype.then=function(i,u,c){return O_(this,b(i)?i:null,b(u)?u:null,c)},je.prototype.$goog_Thenable=!0,e=je.prototype,e.oa=function(i,u){return i=ad(i,i,u),i.c=!0,cd(this,i),this},e.o=function(i,u){return O_(this,null,i,u)},e.cancel=function(i){if(this.a==Qi){var u=new as(i);Uc(function(){R_(this,u)},this)}};function R_(i,u){if(i.a==Qi)if(i.c){var c=i.c;if(c.b){for(var d=0,v=null,w=null,E=c.b;E&&(E.c||(d++,E.a==i&&(v=E),!(v&&1<d)));E=E.next)v||(w=E);v&&(c.a==Qi&&d==1?R_(c,u):(w?(d=w,d.next==c.f&&(c.f=d),d.next=d.next.next):D_(c),L_(c,v,qr,u)))}i.c=null}else Yi(i,qr,u)}function cd(i,u){i.b||i.a!=xu&&i.a!=qr||P_(i),i.f?i.f.next=u:i.b=u,i.f=u}function O_(i,u,c,d){var v=ad(null,null,null);return v.a=new je(function(w,E){v.g=u?function(S){try{var j=u.call(d,S);w(j)}catch(z){E(z)}}:w,v.b=c?function(S){try{var j=c.call(d,S);j===void 0&&S instanceof as?E(S):w(j)}catch(z){E(z)}}:E}),v.a.c=i,cd(i,v),v.a}e.$c=function(i){this.a=Qi,Yi(this,xu,i)},e.ad=function(i){this.a=Qi,Yi(this,qr,i)};function Yi(i,u,c){i.a==Qi&&(i===c&&(u=qr,c=new TypeError("Promise cannot resolve to itself")),i.a=1,x_(c,i.$c,i.ad,i)||(i.i=c,i.a=u,i.c=null,P_(i),u!=qr||c instanceof as||JC(i,c)))}function x_(i,u,c,d){if(i instanceof je)return cd(i,ad(u||m,c||null,d)),!0;if(Oe(i))return i.then(u,c,d),!0;if(T(i))try{var v=i.then;if(b(v))return YC(i,v,u,c,d),!0}catch(w){return c.call(d,w),!0}return!1}function YC(i,u,c,d,v){function w(j){S||(S=!0,d.call(v,j))}function E(j){S||(S=!0,c.call(v,j))}var S=!1;try{u.call(i,E,w)}catch(j){w(j)}}function P_(i){i.h||(i.h=!0,Uc(i.gc,i))}function D_(i){var u=null;return i.b&&(u=i.b,i.b=u.next,u.next=null),i.b||(i.f=null),u}e.gc=function(){for(var i;i=D_(this);)L_(this,i,this.a,this.i);this.h=!1};function L_(i,u,c,d){if(c==qr&&u.b&&!u.c)for(;i&&i.g;i=i.c)i.g=!1;if(u.a)u.a.c=null,M_(u,c,d);else try{u.c?u.g.call(u.f):M_(u,c,d)}catch(v){F_.call(null,v)}at(k_,u)}function M_(i,u,c){u==xu?i.g.call(i.f,c):i.b&&i.b.call(i.f,c)}function JC(i,u){i.g=!0,Uc(function(){i.g&&F_.call(null,u)})}var F_=I_;function as(i){we.call(this,i)}L(as,we),as.prototype.name="cancel";function Bc(){this.ya=this.ya,this.pa=this.pa}var ZC=0;Bc.prototype.ya=!1;function V_(i){!i.ya&&(i.ya=!0,i.Da(),ZC!=0)&&I(i)}Bc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var eN=Object.freeze||function(i){return i},U_=!rr||9<=Number(ci),tN=rr&&!__("9"),nN=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,u=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",m,u),f.removeEventListener("test",m,u)}catch{}return i}();function Tn(i,u){this.type=i,this.b=this.target=u,this.defaultPrevented=!1}Tn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Ji(i,u){if(Tn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var c=this.type=i.type,d=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=u,u=i.relatedTarget){if(v_){e:{try{td(u.nodeName);var v=!0;break e}catch{}v=!1}v||(u=null)}}else c=="mouseover"?u=i.fromElement:c=="mouseout"&&(u=i.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:rN[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}L(Ji,Tn);var rN=eN({2:"touch",3:"pen",4:"mouse"});Ji.prototype.preventDefault=function(){Ji.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,tN)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},Ji.prototype.g=function(){return this.a};var Pu="closure_listenable_"+(1e6*Math.random()|0),iN=0;function oN(i,u,c,d,v){this.listener=i,this.proxy=null,this.src=u,this.type=c,this.capture=!!d,this.Wa=v,this.key=++iN,this.wa=this.Qa=!1}function qc(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function $c(i){this.src=i,this.a={},this.b=0}$c.prototype.add=function(i,u,c,d,v){var w=i.toString();i=this.a[w],i||(i=this.a[w]=[],this.b++);var E=fd(i,u,d,v);return-1<E?(u=i[E],c||(u.Qa=!1)):(u=new oN(u,this.src,w,!!d,v),u.Qa=c,i.push(u)),u};function ld(i,u){var c=u.type;c in i.a&&B(i.a[c],u)&&(qc(u),i.a[c].length==0&&(delete i.a[c],i.b--))}function fd(i,u,c,d){for(var v=0;v<i.length;++v){var w=i[v];if(!w.wa&&w.listener==u&&w.capture==!!c&&w.Wa==d)return v}return-1}var hd="closure_lm_"+(1e6*Math.random()|0),dd={};function zn(i,u,c,d,v){if(d&&d.once)pd(i,u,c,d,v);else if(Array.isArray(u))for(var w=0;w<u.length;w++)zn(i,u[w],c,d,v);else c=gd(c),i&&i[Pu]?K_(i,u,c,T(d)?!!d.capture:!!d,v):j_(i,u,c,!1,d,v)}function j_(i,u,c,d,v,w){if(!u)throw Error("Invalid event type");var E=T(v)?!!v.capture:!!v,S=Hc(i);if(S||(i[hd]=S=new $c(i)),c=S.add(u,c,d,E,w),!c.proxy)if(d=sN(),c.proxy=d,d.src=i,d.listener=c,i.addEventListener)nN||(v=E),v===void 0&&(v=!1),i.addEventListener(u.toString(),d,v);else if(i.attachEvent)i.attachEvent(q_(u.toString()),d);else if(i.addListener&&i.removeListener)i.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function sN(){var i=uN,u=U_?function(c){return i.call(u.src,u.listener,c)}:function(c){if(c=i.call(u.src,u.listener,c),!c)return c};return u}function pd(i,u,c,d,v){if(Array.isArray(u))for(var w=0;w<u.length;w++)pd(i,u[w],c,d,v);else c=gd(c),i&&i[Pu]?vd(i,u,c,T(d)?!!d.capture:!!d,v):j_(i,u,c,!0,d,v)}function Ln(i,u,c,d,v){if(Array.isArray(u))for(var w=0;w<u.length;w++)Ln(i,u[w],c,d,v);else d=T(d)?!!d.capture:!!d,c=gd(c),i&&i[Pu]?(i=i.v,u=String(u).toString(),u in i.a&&(w=i.a[u],c=fd(w,c,d,v),-1<c&&(qc(w[c]),Array.prototype.splice.call(w,c,1),w.length==0&&(delete i.a[u],i.b--)))):i&&(i=Hc(i))&&(u=i.a[u.toString()],i=-1,u&&(i=fd(u,c,d,v)),(c=-1<i?u[i]:null)&&B_(c))}function B_(i){if(typeof i!="number"&&i&&!i.wa){var u=i.src;if(u&&u[Pu])ld(u.v,i);else{var c=i.type,d=i.proxy;u.removeEventListener?u.removeEventListener(c,d,i.capture):u.detachEvent?u.detachEvent(q_(c),d):u.addListener&&u.removeListener&&u.removeListener(d),(c=Hc(u))?(ld(c,i),c.b==0&&(c.src=null,u[hd]=null)):qc(i)}}}function q_(i){return i in dd?dd[i]:dd[i]="on"+i}function $_(i,u,c,d){var v=!0;if((i=Hc(i))&&(u=i.a[u.toString()]))for(u=u.concat(),i=0;i<u.length;i++){var w=u[i];w&&w.capture==c&&!w.wa&&(w=H_(w,d),v=v&&w!==!1)}return v}function H_(i,u){var c=i.listener,d=i.Wa||i.src;return i.Qa&&B_(i),c.call(d,u)}function uN(i,u){if(i.wa)return!0;if(!U_){if(!u)e:{u=["window","event"];for(var c=f,d=0;d<u.length;d++)if(c=c[u[d]],c==null){u=null;break e}u=c}if(d=u,u=new Ji(d,this),c=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var v=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{v=!0}(v||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],v=u.b;v;v=v.parentNode)d.push(v);for(i=i.type,v=d.length-1;0<=v;v--){u.b=d[v];var w=$_(d[v],i,!0,u);c=c&&w}for(v=0;v<d.length;v++)u.b=d[v],w=$_(d[v],i,!1,u),c=c&&w}return c}return H_(i,new Ji(u,this))}function Hc(i){return i=i[hd],i instanceof $c?i:null}var md="__closure_events_fn_"+(1e9*Math.random()>>>0);function gd(i){return b(i)?i:(i[md]||(i[md]=function(u){return i.handleEvent(u)}),i[md])}function hn(){Bc.call(this),this.v=new $c(this),this.bc=this,this.hb=null}L(hn,Bc),hn.prototype[Pu]=!0,hn.prototype.addEventListener=function(i,u,c,d){zn(this,i,u,c,d)},hn.prototype.removeEventListener=function(i,u,c,d){Ln(this,i,u,c,d)},hn.prototype.dispatchEvent=function(i){var u,c=this.hb;if(c)for(u=[];c;c=c.hb)u.push(c);c=this.bc;var d=i.type||i;if(typeof i=="string")i=new Tn(i,c);else if(i instanceof Tn)i.target=i.target||c;else{var v=i;i=new Tn(d,c),qt(i,v)}if(v=!0,u)for(var w=u.length-1;0<=w;w--){var E=i.b=u[w];v=Kc(E,d,!0,i)&&v}if(E=i.b=c,v=Kc(E,d,!0,i)&&v,v=Kc(E,d,!1,i)&&v,u)for(w=0;w<u.length;w++)E=i.b=u[w],v=Kc(E,d,!1,i)&&v;return v},hn.prototype.Da=function(){if(hn.bb.Da.call(this),this.v){var i=this.v,u;for(u in i.a){for(var c=i.a[u],d=0;d<c.length;d++)qc(c[d]);delete i.a[u],i.b--}}this.hb=null};function K_(i,u,c,d,v){i.v.add(String(u),c,!1,d,v)}function vd(i,u,c,d,v){i.v.add(String(u),c,!0,d,v)}function Kc(i,u,c,d){if(u=i.v.a[String(u)],!u)return!0;u=u.concat();for(var v=!0,w=0;w<u.length;++w){var E=u[w];if(E&&!E.wa&&E.capture==c){var S=E.listener,j=E.Wa||E.src;E.Qa&&ld(i.v,E),v=S.call(j,d)!==!1&&v}}return v&&!d.defaultPrevented}function yd(i,u,c){if(b(i))c&&(i=D(i,c));else if(i&&typeof i.handleEvent=="function")i=D(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:f.setTimeout(i,u||0)}function cs(i){var u=null;return new je(function(c,d){u=yd(function(){c(void 0)},i),u==-1&&d(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(u),c})}function G_(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(_(i)){for(var u=[],c=i.length,d=0;d<c;d++)u.push(i[d]);return u}u=[],c=0;for(d in i)u[c++]=i[d];return u}function z_(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(_(i)||typeof i=="string"){var u=[];i=i.length;for(var c=0;c<i;c++)u.push(c);return u}u=[],c=0;for(var d in i)u[c++]=d;return u}}function aN(i,u){if(i.forEach&&typeof i.forEach=="function")i.forEach(u,void 0);else if(_(i)||typeof i=="string")Z(i,u,void 0);else for(var c=z_(i),d=G_(i),v=d.length,w=0;w<v;w++)u.call(void 0,d[w],c&&c[w],i)}function ls(i,u){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(i)if(i instanceof ls)for(c=i.Y(),d=0;d<c.length;d++)this.set(c[d],i.get(c[d]));else for(d in i)this.set(d,i[d])}e=ls.prototype,e.X=function(){_d(this);for(var i=[],u=0;u<this.a.length;u++)i.push(this.b[this.a[u]]);return i},e.Y=function(){return _d(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function _d(i){if(i.c!=i.a.length){for(var u=0,c=0;u<i.a.length;){var d=i.a[u];Zi(i.b,d)&&(i.a[c++]=d),u++}i.a.length=c}if(i.c!=i.a.length){var v={};for(c=u=0;u<i.a.length;)d=i.a[u],Zi(v,d)||(i.a[c++]=d,v[d]=1),u++;i.a.length=c}}e.get=function(i,u){return Zi(this.b,i)?this.b[i]:u},e.set=function(i,u){Zi(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=u},e.forEach=function(i,u){for(var c=this.Y(),d=0;d<c.length;d++){var v=c[d],w=this.get(v);i.call(u,w,v,this)}};function Zi(i,u){return Object.prototype.hasOwnProperty.call(i,u)}var W_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function cN(i,u){if(i){i=i.split("&");for(var c=0;c<i.length;c++){var d=i[c].indexOf("="),v=null;if(0<=d){var w=i[c].substring(0,d);v=i[c].substring(d+1)}else w=i[c];u(w,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function li(i,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;i instanceof li?(this.i=u!==void 0?u:i.i,Du(this,i.c),this.l=i.l,this.a=i.a,Lu(this,i.g),this.f=i.f,wd(this,J_(i.b)),this.h=i.h):i&&(c=String(i).match(W_))?(this.i=!!u,Du(this,c[1]||"",!0),this.l=Mu(c[2]||""),this.a=Mu(c[3]||"",!0),Lu(this,c[4]),this.f=Mu(c[5]||"",!0),wd(this,c[6]||"",!0),this.h=Mu(c[7]||"")):(this.i=!!u,this.b=new eo(null,this.i))}li.prototype.toString=function(){var i=[],u=this.c;u&&i.push(Fu(u,X_,!0),":");var c=this.a;return(c||u=="file")&&(i.push("//"),(u=this.l)&&i.push(Fu(u,X_,!0),"@"),i.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&i.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&i.push("/"),i.push(Fu(c,c.charAt(0)=="/"?hN:fN,!0))),(c=this.b.toString())&&i.push("?",c),(c=this.h)&&i.push("#",Fu(c,pN)),i.join("")},li.prototype.resolve=function(i){var u=new li(this),c=!!i.c;c?Du(u,i.c):c=!!i.l,c?u.l=i.l:c=!!i.a,c?u.a=i.a:c=i.g!=null;var d=i.f;if(c)Lu(u,i.g);else if(c=!!i.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var v=u.f.lastIndexOf("/");v!=-1&&(d=u.f.substr(0,v+1)+d)}if(v=d,v==".."||v==".")d="";else if(ae(v,"./")||ae(v,"/.")){d=v.lastIndexOf("/",0)==0,v=v.split("/");for(var w=[],E=0;E<v.length;){var S=v[E++];S=="."?d&&E==v.length&&w.push(""):S==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),d&&E==v.length&&w.push("")):(w.push(S),d=!0)}d=w.join("/")}else d=v}return c?u.f=d:c=i.b.toString()!=="",c?wd(u,J_(i.b)):c=!!i.h,c&&(u.h=i.h),u};function Du(i,u,c){i.c=c?Mu(u,!0):u,i.c&&(i.c=i.c.replace(/:$/,""))}function Lu(i,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);i.g=u}else i.g=null}function wd(i,u,c){u instanceof eo?(i.b=u,mN(i.b,i.i)):(c||(u=Fu(u,dN)),i.b=new eo(u,i.i))}function Et(i,u,c){i.b.set(u,c)}function Wn(i,u){return i.b.get(u)}function An(i){return i instanceof li?new li(i):new li(i,void 0)}function Gc(i,u,c,d){var v=new li(null,void 0);return i&&Du(v,i),u&&(v.a=u),c&&Lu(v,c),d&&(v.f=d),v}function Mu(i,u){return i?u?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Fu(i,u,c){return typeof i=="string"?(i=encodeURI(i).replace(u,lN),c&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function lN(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var X_=/[#\/\?@]/g,fN=/[#\?:]/g,hN=/[#\?]/g,dN=/[#\?@]/g,pN=/#/g;function eo(i,u){this.b=this.a=null,this.c=i||null,this.f=!!u}function fi(i){i.a||(i.a=new ls,i.b=0,i.c&&cN(i.c,function(u,c){i.add(decodeURIComponent(u.replace(/\+/g," ")),c)}))}function Q_(i){var u=z_(i);if(typeof u>"u")throw Error("Keys are undefined");var c=new eo(null,void 0);i=G_(i);for(var d=0;d<u.length;d++){var v=u[d],w=i[d];Array.isArray(w)?Y_(c,v,w):c.add(v,w)}return c}e=eo.prototype,e.add=function(i,u){fi(this),this.c=null,i=fs(this,i);var c=this.a.get(i);return c||this.a.set(i,c=[]),c.push(u),this.b+=1,this};function Ir(i,u){fi(i),u=fs(i,u),Zi(i.a.b,u)&&(i.c=null,i.b-=i.a.get(u).length,i=i.a,Zi(i.b,u)&&(delete i.b[u],i.c--,i.a.length>2*i.c&&_d(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function bd(i,u){return fi(i),u=fs(i,u),Zi(i.a.b,u)}e.forEach=function(i,u){fi(this),this.a.forEach(function(c,d){Z(c,function(v){i.call(u,v,d,this)},this)},this)},e.Y=function(){fi(this);for(var i=this.a.X(),u=this.a.Y(),c=[],d=0;d<u.length;d++)for(var v=i[d],w=0;w<v.length;w++)c.push(u[d]);return c},e.X=function(i){fi(this);var u=[];if(typeof i=="string")bd(this,i)&&(u=te(u,this.a.get(fs(this,i))));else{i=this.a.X();for(var c=0;c<i.length;c++)u=te(u,i[c])}return u},e.set=function(i,u){return fi(this),this.c=null,i=fs(this,i),bd(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[u]),this.b+=1,this},e.get=function(i,u){return i?(i=this.X(i),0<i.length?String(i[0]):u):u};function Y_(i,u,c){Ir(i,u),0<c.length&&(i.c=null,i.a.set(fs(i,u),se(c)),i.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],u=this.a.Y(),c=0;c<u.length;c++){var d=u[c],v=encodeURIComponent(String(d));d=this.X(d);for(var w=0;w<d.length;w++){var E=v;d[w]!==""&&(E+="="+encodeURIComponent(String(d[w]))),i.push(E)}}return this.c=i.join("&")};function J_(i){var u=new eo;return u.c=i.c,i.a&&(u.a=new ls(i.a),u.b=i.b),u}function fs(i,u){return u=String(u),i.f&&(u=u.toLowerCase()),u}function mN(i,u){u&&!i.f&&(fi(i),i.c=null,i.a.forEach(function(c,d){var v=d.toLowerCase();d!=v&&(Ir(this,d),Y_(this,v,c))},i)),i.f=u}function Z_(i){var u=[];return Ed(new gN,i,u),u.join("")}function gN(){}function Ed(i,u,c){if(u==null)c.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,c.push("[");for(var v="",w=0;w<u;w++)c.push(v),Ed(i,d[w],c),v=",";c.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{c.push("{"),v="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(w=u[d],typeof w!="function"&&(c.push(v),t0(d,c),c.push(":"),Ed(i,w,c),v=","));c.push("}");return}}switch(typeof u){case"string":t0(u,c);break;case"number":c.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":c.push(String(u));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var e0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},vN=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function t0(i,u){u.push('"',i.replace(vN,function(c){var d=e0[c];return d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),e0[c]=d),d}),'"')}function Id(){var i=$t();return rr&&!!ci&&ci==11||/Edge\/\d+/.test(i)}function Vu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function n0(i,u){u=u||f.window;var c="about:blank";i&&(c=Mc(l_(i)||h_)),u.location.href=c}function r0(i,u){var c=[],d;for(d in i)d in u?typeof i[d]!=typeof u[d]?c.push(d):typeof i[d]=="object"&&i[d]!=null&&u[d]!=null?0<r0(i[d],u[d]).length&&c.push(d):i[d]!==u[d]&&c.push(d):c.push(d);for(d in u)d in i||c.push(d);return c}function yN(){var i=$t();return i=hs(i)!=u0?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!rr||!ci||9<ci}function i0(i){return i=(i||$t()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function to(i){i=i||f.window;try{i.close()}catch{}}function o0(i,u,c){var d=Math.floor(1e9*Math.random()).toString();u=u||500,c=c||600;var v=(window.screen.availHeight-c)/2,w=(window.screen.availWidth-u)/2;u={width:u,height:c,top:0<v?v:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=$t().toLowerCase(),d&&(u.target=d,ae(c,"crios/")&&(u.target="_blank")),hs($t())==Sd&&(i=i||"http://localhost",u.scrollbars=!0),c=i||"",(i=u)||(i={}),d=window,u=c instanceof In?c:l_(typeof c.href<"u"?c.href:String(c))||h_,c=i.target||c.target,v=[];for(E in i)switch(E){case"width":case"height":case"top":case"left":v.push(E+"="+i[E]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(E+"="+(i[E]?1:0))}var E=v.join(",");if((vt("iPhone")&&!vt("iPod")&&!vt("iPad")||vt("iPad")||vt("iPod"))&&d.navigator&&d.navigator.standalone&&c&&c!="_self"?(E=Vc(document,"A"),i_(E,"HTMLAnchorElement"),u=u instanceof In?u:f_(u),E.href=Mc(u),E.setAttribute("target",c),i.noreferrer&&E.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,d,1),E.dispatchEvent(i),E={}):i.noreferrer?(E=p_("",d,c,E),i=Mc(u),E&&(qC&&ae(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),E.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ed(i)+'">',i=(d=s_())?d.createHTML(i):i,i=new us(i,null,d_),d=E.document)&&(d.write(VC(i)),d.close())):(E=p_(u,d,c,E))&&i.noopener&&(E.opener=null),E)try{E.focus()}catch{}return E}function _N(i){return new je(function(u){function c(){cs(2e3).then(function(){if(!i||i.closed)u();else return c()})}return c()})}var wN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bN=/^[^@]+@[^@]+$/;function zc(){var i=null;return new je(function(u){f.document.readyState=="complete"?u():(i=function(){u()},pd(window,"load",i))}).o(function(u){throw Ln(window,"load",i),u})}function EN(){return Td(void 0)?zc().then(function(){return new je(function(i,u){var c=f.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(d),i()},!1)})}):ct(Error("Cordova must run in an Android or iOS file scheme."))}function Td(i){return i=i||$t(),!(ps()!=="file:"&&ps()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ad(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function ir(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Tr(){return Ie.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ie.INTERNAL.hasOwnProperty("node")?"Node":ir()?"Worker":"Browser"}function s0(){var i=Tr();return i==="ReactNative"||i==="Node"}function IN(){for(var i=50,u=[];0<i;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return u.join("")}var Sd="Firefox",u0="Chrome";function hs(i){var u=i.toLowerCase();if(ae(u,"opera/")||ae(u,"opr/")||ae(u,"opios/"))return"Opera";if(ae(u,"iemobile"))return"IEMobile";if(ae(u,"msie")||ae(u,"trident/"))return"IE";if(ae(u,"edge/"))return"Edge";if(ae(u,"firefox/"))return Sd;if(ae(u,"silk/"))return"Silk";if(ae(u,"blackberry"))return"Blackberry";if(ae(u,"webos"))return"Webos";if(!ae(u,"safari/")||ae(u,"chrome/")||ae(u,"crios/")||ae(u,"android"))if(!ae(u,"chrome/")&&!ae(u,"crios/")||ae(u,"edge/")){if(ae(u,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return u0;else return"Safari";return"Other"}var a0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ds(i,u){u=u||[];var c=[],d={},v;for(v in a0)d[a0[v]]=!0;for(v=0;v<u.length;v++)typeof d[u[v]]<"u"&&(delete d[u[v]],c.push(u[v]));return c.sort(),u=c,u.length||(u=["FirebaseCore-web"]),c=Tr(),c==="Browser"?(d=$t(),c=hs(d)):c==="Worker"&&(d=$t(),c=hs(d)+"-"+c),c+"/JsCore/"+i+"/"+u.join(",")}function $t(){return f.navigator&&f.navigator.userAgent||""}function lt(i,u){i=i.split("."),u=u||f;for(var c=0;c<i.length&&typeof u=="object"&&u!=null;c++)u=u[i[c]];return c!=i.length&&(u=void 0),u}function kd(){try{var i=f.localStorage,u=ro();if(i)return i.setItem(u,"1"),i.removeItem(u),Id()?!!f.indexedDB:!0}catch{return ir()&&!!f.indexedDB}return!1}function no(){return(Wc()||ps()==="chrome-extension:"||Td())&&!s0()&&kd()&&!ir()}function Wc(){return ps()==="http:"||ps()==="https:"}function ps(){return f.location&&f.location.protocol||null}function Uu(i){return i=i||$t(),!(i0(i)||hs(i)==Sd)}function ju(i){return typeof i>"u"?null:Z_(i)}function c0(i){var u={},c;for(c in i)i.hasOwnProperty(c)&&i[c]!==null&&i[c]!==void 0&&(u[c]=i[c]);return u}function ms(i){if(i!==null)return JSON.parse(i)}function ro(i){return i||Math.floor(1e9*Math.random()).toString()}function l0(i){return i=i||$t(),!(hs(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function f0(){var i=f.___jsl;if(i&&i.H){for(var u in i.H)if(i.H[u].r=i.H[u].r||[],i.H[u].L=i.H[u].L||[],i.H[u].r=i.H[u].L.concat(),i.CP)for(var c=0;c<i.CP.length;c++)i.CP[c]=null}}function hi(i,u){if(i>u)throw Error("Short delay should be less than long delay!");this.a=i,this.c=u,i=$t(),u=Tr(),this.b=i0(i)||u==="ReactNative"}hi.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(Wc()||ps()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Cd(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function TN(){var i=f.document,u=null;return Cd()||!i?ye():new je(function(c){u=function(){Cd()&&(i.removeEventListener("visibilitychange",u,!1),c())},i.addEventListener("visibilitychange",u,!1)}).o(function(c){throw i.removeEventListener("visibilitychange",u,!1),c})}function Bu(i){try{var u=new Date(parseInt(i,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(i))return u.toUTCString()}catch{}return null}function h0(){return!(!lt("fireauth.oauthhelper",f)&&!lt("fireauth.iframe",f))}function AN(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function SN(){var i=f.navigator;return i&&i.serviceWorker?ye().then(function(){return i.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ye(null)}var d0={};function Nd(i){d0[i]||(d0[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var Rd;try{var Od={};Object.defineProperty(Od,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Od,"abcd",{configurable:!0,enumerable:!0,value:2}),Rd=Od.abcd==2}catch{Rd=!1}function me(i,u,c){Rd?Object.defineProperty(i,u,{configurable:!0,enumerable:!0,value:c}):i[u]=c}function dn(i,u){if(u)for(var c in u)u.hasOwnProperty(c)&&me(i,c,u[c])}function Ar(i){var u={};return dn(u,i),u}function kN(i){var u={},c;for(c in i)i.hasOwnProperty(c)&&(u[c]=i[c]);return u}function CN(i,u){if(!u||!u.length)return!0;if(!i)return!1;for(var c=0;c<u.length;c++){var d=i[u[c]];if(d==null||d==="")return!1}return!0}function xd(i){var u=i;if(typeof i=="object"&&i!=null){u="length"in i?[]:{};for(var c in i)me(u,c,xd(i[c]))}return u}function Pd(i){var u=i&&(i[Fd]?"phone":null);if(u&&i&&i[Md]){me(this,"uid",i[Md]),me(this,"displayName",i[p0]||null);var c=null;i[Ld]&&(c=new Date(i[Ld]).toUTCString()),me(this,"enrollmentTime",c),me(this,"factorId",u)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}Pd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Dd(i){try{var u=new qu(i)}catch{u=null}return u}var p0="displayName",Ld="enrolledAt",Md="mfaEnrollmentId",Fd="phoneInfo";function qu(i){Pd.call(this,i),me(this,"phoneNumber",i[Fd])}L(qu,Pd),qu.prototype.w=function(){var i=qu.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function NN(i){var u={},c=i[RN],d=i[xN],v=i[PN];if(i=Dd(i[ON]),!v||v!=Xc&&v!=$u&&!c||v==$u&&!d||v==Vd&&!i)throw Error("Invalid checkActionCode response!");v==$u?(u[g0]=c||null,u[v0]=c||null,u[m0]=d):(u[g0]=d||null,u[v0]=d||null,u[m0]=c||null),u[DN]=i||null,me(this,MN,v),me(this,LN,xd(u))}var Vd="REVERT_SECOND_FACTOR_ADDITION",Xc="EMAIL_SIGNIN",$u="VERIFY_AND_CHANGE_EMAIL",RN="email",ON="mfaInfo",xN="newEmail",PN="requestType",m0="email",g0="fromEmail",DN="multiFactorInfo",v0="previousEmail",LN="data",MN="operation";function Ud(i){i=An(i);var u=Wn(i,y0)||null,c=Wn(i,_0)||null,d=Wn(i,w0)||null;if(d=d&&jN[d]||null,!u||!c||!d)throw new k("argument-error",y0+", "+_0+"and "+w0+" are required in a valid action code URL.");dn(this,{apiKey:u,operation:d,code:c,continueUrl:Wn(i,FN)||null,languageCode:Wn(i,VN)||null,tenantId:Wn(i,UN)||null})}var y0="apiKey",_0="oobCode",FN="continueUrl",VN="languageCode",w0="mode",UN="tenantId",jN={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Vd,signIn:Xc,verifyAndChangeEmail:$u,verifyEmail:"VERIFY_EMAIL"};function b0(i){try{return new Ud(i)}catch{return null}}function Qc(i){var u=i[BN];if(typeof u>"u")throw new k("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new k("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var c=i[E0];if(c&&typeof c=="object"){u=c[k0];var d=c[A0];if(c=c[S0],typeof u=="string"&&u.length){if(this.a=u,typeof d<"u"&&typeof d!="boolean")throw new k("argument-error",A0+" property must be a boolean when specified.");if(this.g=!!d,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new k("argument-error",S0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof u<"u")throw new k("argument-error",k0+" property must be a non empty string when specified.");if(typeof d<"u"||typeof c<"u")throw new k("missing-android-pkg-name")}}else if(typeof c<"u")throw new k("argument-error",E0+" property must be a non null object when specified.");if(this.f=null,(u=i[T0])&&typeof u=="object"){if(u=u[C0],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new k("argument-error",C0+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new k("argument-error",T0+" property must be a non null object when specified.");if(u=i[jd],typeof u<"u"&&typeof u!="boolean")throw new k("argument-error",jd+" property must be a boolean when specified.");if(this.c=!!u,i=i[I0],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new k("argument-error",I0+" property must be a non empty string when specified.");this.i=i||null}var E0="android",I0="dynamicLinkDomain",jd="handleCodeInApp",T0="iOS",BN="url",A0="installApp",S0="minimumVersion",k0="packageName",C0="bundleId";function Yc(i){var u={};u.continueUrl=i.h,u.canHandleCodeInApp=i.c,(u.androidPackageName=i.a)&&(u.androidMinimumVersion=i.b,u.androidInstallApp=i.g),u.iOSBundleId=i.f,u.dynamicLinkDomain=i.i;for(var c in u)u[c]===null&&delete u[c];return u}function qN(i){return Te(i,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Hu=null;function $N(i){var u=[];return HN(i,function(c){u.push(c)}),u}function HN(i,u){function c(j){for(;d<i.length;){var z=i.charAt(d++),Ne=Hu[z];if(Ne!=null)return Ne;if(!/^[\s\xa0]*$/.test(z))throw Error("Unknown base64 encoding at char: "+z)}return j}KN();for(var d=0;;){var v=c(-1),w=c(0),E=c(64),S=c(64);if(S===64&&v===-1)break;u(v<<2|w>>4),E!=64&&(u(w<<4&240|E>>2),S!=64&&u(E<<6&192|S))}}function KN(){if(!Hu){Hu={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var d=i.concat(u[c].split("")),v=0;v<d.length;v++){var w=d[v];Hu[w]===void 0&&(Hu[w]=v)}}}function Jc(i){var u=N0(i);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=i,this.a=u.exp,this.i=u.sub,i=Date.now()/1e3,this.g=u.iat||(i>this.a?this.a:i),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Jc.prototype.T=function(){return this.f},Jc.prototype.l=function(){return this.c},Jc.prototype.toString=function(){return this.h};function Zc(i){try{return new Jc(i)}catch{return null}}function N0(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var u=(4-i.length%4)%4,c=0;c<u;c++)i+=".";try{var d=$N(i);for(i=[],c=u=0;u<d.length;){var v=d[u++];if(128>v)i[c++]=String.fromCharCode(v);else if(191<v&&224>v){var w=d[u++];i[c++]=String.fromCharCode((v&31)<<6|w&63)}else if(239<v&&365>v){w=d[u++];var E=d[u++],S=d[u++],j=((v&7)<<18|(w&63)<<12|(E&63)<<6|S&63)-65536;i[c++]=String.fromCharCode(55296+(j>>10)),i[c++]=String.fromCharCode(56320+(j&1023))}else w=d[u++],E=d[u++],i[c++]=String.fromCharCode((v&15)<<12|(w&63)<<6|E&63)}return JSON.parse(i.join(""))}catch{}return null}var R0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),el=["client_id","response_type","scope","redirect_uri","state"],Bd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:el},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:el},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:el},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:R0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function qd(i){for(var u in Bd)if(Bd[u].fa==i)return Bd[u];return null}function O0(i){var u={};u["facebook.com"]=P0,u["google.com"]=L0,u["github.com"]=D0,u["twitter.com"]=M0;var c=i&&i[x0];try{if(c)return u[c]?new u[c](i):new Sr(i);if(typeof i[$d]<"u")return new Hd(i)}catch{}return null}var $d="idToken",x0="providerId";function Hd(i){var u=i[x0];if(!u&&i[$d]){var c=Zc(i[$d]);c&&c.b&&(u=c.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),c=!1,typeof i.isNewUser<"u"?c=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),me(this,"providerId",u),me(this,"isNewUser",c)}function Sr(i){Hd.call(this,i),i=ms(i.rawUserInfo||"{}"),me(this,"profile",xd(i||{}))}L(Sr,Hd);function P0(i){if(Sr.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}L(P0,Sr);function D0(i){if(Sr.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");me(this,"username",this.profile&&this.profile.login||null)}L(D0,Sr);function L0(i){if(Sr.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}L(L0,Sr);function M0(i){if(Sr.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");me(this,"username",i.screenName||null)}L(M0,Sr);function F0(i){var u=An(i),c=Wn(u,"link"),d=Wn(An(c),"link");return u=Wn(u,"deep_link_id"),Wn(An(u),"link")||u||d||c||i}function tl(i,u){if(!i&&!u)throw new k("internal-error","Internal assert: no raw session string available");if(i&&u)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=u||null,this.type=this.a?Ku:nl}var Ku="enroll",nl="signin";tl.prototype.Ha=function(){return this.a?ye(this.a):ye(this.b)},tl.prototype.w=function(){return this.type==Ku?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function gs(){}gs.prototype.ka=function(){},gs.prototype.b=function(){},gs.prototype.c=function(){},gs.prototype.w=function(){};function vs(i,u){return i.then(function(c){if(c[ur]){var d=Zc(c[ur]);if(!d||u!=d.i)throw new k("user-mismatch");return c}throw new k("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==re+"user-not-found"?new k("user-mismatch"):c})}function io(i,u){if(u)this.a=u;else throw new k("internal-error","failed to construct a credential");me(this,"providerId",i),me(this,"signInMethod",i)}io.prototype.ka=function(i){return pp(i,Kd(this))},io.prototype.b=function(i,u){var c=Kd(this);return c.idToken=u,mp(i,c)},io.prototype.c=function(i,u){return vs(gp(i,Kd(this)),u)};function Kd(i){return{pendingToken:i.a,requestUri:"http://localhost"}}io.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function GN(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new io(i.providerId,i.pendingToken)}catch{}return null}function $r(i,u,c){if(this.a=null,u.idToken||u.accessToken)u.idToken&&me(this,"idToken",u.idToken),u.accessToken&&me(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&me(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)me(this,"accessToken",u.oauthToken),me(this,"secret",u.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");me(this,"providerId",i),me(this,"signInMethod",c)}$r.prototype.ka=function(i){return pp(i,Gd(this))},$r.prototype.b=function(i,u){var c=Gd(this);return c.idToken=u,mp(i,c)},$r.prototype.c=function(i,u){var c=Gd(this);return vs(gp(i,c),u)};function Gd(i){var u={};return i.idToken&&(u.id_token=i.idToken),i.accessToken&&(u.access_token=i.accessToken),i.secret&&(u.oauth_token_secret=i.secret),u.providerId=i.providerId,i.nonce&&!i.a&&(u.nonce=i.nonce),u={postBody:Q_(u).toString(),requestUri:"http://localhost"},i.a&&(delete u.postBody,u.pendingToken=i.a),u}$r.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function zN(i){if(i&&i.providerId&&i.signInMethod){var u={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new $r(i.providerId,u,i.signInMethod)}catch{}}return null}function oo(i,u){this.Qc=u||[],dn(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(qd(i)||{}).Ja||null,this.pb=null}oo.prototype.Ka=function(i){return this.Jb=yt(i),this};function V0(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');oo.call(this,i,[])}L(V0,oo);function Mn(i){oo.call(this,i,el),this.a=[]}L(Mn,oo),Mn.prototype.Ca=function(i){return M(this.a,i)||this.a.push(i),this},Mn.prototype.Rb=function(){return se(this.a)},Mn.prototype.credential=function(i,u){var c;if(T(i)?c={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:c={idToken:i||null,accessToken:u||null},!c.idToken&&!c.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new $r(this.providerId,c,this.providerId)};function so(){Mn.call(this,"facebook.com")}L(so,Mn),me(so,"PROVIDER_ID","facebook.com"),me(so,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function U0(i){if(!i)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=i;return T(i)&&(u=i.accessToken),new so().credential({accessToken:u})}function uo(){Mn.call(this,"github.com")}L(uo,Mn),me(uo,"PROVIDER_ID","github.com"),me(uo,"GITHUB_SIGN_IN_METHOD","github.com");function j0(i){if(!i)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=i;return T(i)&&(u=i.accessToken),new uo().credential({accessToken:u})}function ao(){Mn.call(this,"google.com"),this.Ca("profile")}L(ao,Mn),me(ao,"PROVIDER_ID","google.com"),me(ao,"GOOGLE_SIGN_IN_METHOD","google.com");function B0(i,u){var c=i;return T(i)&&(c=i.idToken,u=i.accessToken),new ao().credential({idToken:c,accessToken:u})}function ys(){oo.call(this,"twitter.com",R0)}L(ys,oo),me(ys,"PROVIDER_ID","twitter.com"),me(ys,"TWITTER_SIGN_IN_METHOD","twitter.com");function q0(i,u){var c=i;if(T(c)||(c={oauthToken:i,oauthTokenSecret:u}),!c.oauthToken||!c.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new $r("twitter.com",c,"twitter.com")}function di(i,u,c){this.a=i,this.f=u,me(this,"providerId","password"),me(this,"signInMethod",c===Xn.EMAIL_LINK_SIGN_IN_METHOD?Xn.EMAIL_LINK_SIGN_IN_METHOD:Xn.EMAIL_PASSWORD_SIGN_IN_METHOD)}di.prototype.ka=function(i){return this.signInMethod==Xn.EMAIL_LINK_SIGN_IN_METHOD?Be(i,OR,{email:this.a,oobCode:this.f}):Be(i,gw,{email:this.a,password:this.f})},di.prototype.b=function(i,u){return this.signInMethod==Xn.EMAIL_LINK_SIGN_IN_METHOD?Be(i,xR,{idToken:u,email:this.a,oobCode:this.f}):Be(i,mw,{idToken:u,email:this.a,password:this.f})},di.prototype.c=function(i,u){return vs(this.ka(i),u)},di.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function WN(i){return i&&i.email&&i.password?new di(i.email,i.password,i.signInMethod):null}function Xn(){dn(this,{providerId:"password",isOAuthProvider:!1})}function $0(i,u){if(u=zd(u),!u)throw new k("argument-error","Invalid email link!");return new di(i,u.code,Xn.EMAIL_LINK_SIGN_IN_METHOD)}function zd(i){return i=F0(i),(i=b0(i))&&i.operation===Xc?i:null}dn(Xn,{PROVIDER_ID:"password"}),dn(Xn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),dn(Xn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function pi(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new k("internal-error");this.a=i,me(this,"providerId","phone"),this.fa="phone",me(this,"signInMethod","phone")}pi.prototype.ka=function(i){return i.gb(Gu(this))},pi.prototype.b=function(i,u){var c=Gu(this);return c.idToken=u,Be(i,JR,c)},pi.prototype.c=function(i,u){var c=Gu(this);return c.operation="REAUTH",i=Be(i,ZR,c),vs(i,u)},pi.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function XN(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var u={};return Z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){i[c]&&(u[c]=i[c])}),new pi(u)}return null}function Gu(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function Hr(i){try{this.a=i||Ie.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}dn(this,{providerId:"phone",isOAuthProvider:!1})}Hr.prototype.gb=function(i,u){var c=this.a.a;return ye(u.verify()).then(function(d){if(typeof d!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var v=T(i)?i.session:null,w=T(i)?i.phoneNumber:i,E;return v&&v.type==Ku?E=v.Ha().then(function(S){return ER(c,{idToken:S,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:d}})}):v&&v.type==nl?E=v.Ha().then(function(S){return IR(c,{mfaPendingCredential:S,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):E=bR(c,{phoneNumber:w,recaptchaToken:d}),E.then(function(S){return typeof u.reset=="function"&&u.reset(),S},function(S){throw typeof u.reset=="function"&&u.reset(),S});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function H0(i,u){if(!i)throw new k("missing-verification-id");if(!u)throw new k("missing-verification-code");return new pi({fb:i,eb:u})}dn(Hr,{PROVIDER_ID:"phone"}),dn(Hr,{PHONE_SIGN_IN_METHOD:"phone"});function Wd(i){if(i.temporaryProof&&i.phoneNumber)return new pi({La:i.temporaryProof,ea:i.phoneNumber});var u=i&&i.providerId;if(!u||u==="password")return null;var c=i&&i.oauthAccessToken,d=i&&i.oauthTokenSecret,v=i&&i.nonce,w=i&&i.oauthIdToken,E=i&&i.pendingToken;try{switch(u){case"google.com":return B0(w,c);case"facebook.com":return U0(c);case"github.com":return j0(c);case"twitter.com":return q0(c,d);default:return c||d||w||E?E?u.indexOf("saml.")==0?new io(u,E):new $r(u,{pendingToken:E,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},u):new Mn(u).credential({idToken:w,accessToken:c,rawNonce:v}):null}}catch{return null}}function Xd(i){if(!i.isOAuthProvider)throw new k("invalid-oauth-provider")}function or(i,u,c,d,v,w,E){if(this.c=i,this.b=u||null,this.g=c||null,this.f=d||null,this.i=w||null,this.h=E||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}or.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},or.prototype.T=function(){return this.h},or.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function K0(i){return i=i||{},i.type?new or(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&Ee(i.error),i.postBody,i.tenantId):null}function QN(){this.b=null,this.a=[]}var Qd=null;function YN(i){var u=Qd;u.a.push(i),u.b||(u.b=function(c){for(var d=0;d<u.a.length;d++)u.a[d](c)},i=lt("universalLinks.subscribe",f),typeof i=="function"&&i(null,u.b))}function Yd(i){var u="unauthorized-domain",c=void 0,d=An(i);i=d.a,d=d.c,d=="chrome-extension"?c=m_("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):d=="http"||d=="https"?c=m_("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):u="operation-not-supported-in-this-environment",k.call(this,u,c)}L(Yd,k);function zu(i,u,c){k.call(this,i,c),i=u||{},i.Kb&&me(this,"email",i.Kb),i.ea&&me(this,"phoneNumber",i.ea),i.credential&&me(this,"credential",i.credential),i.$b&&me(this,"tenantId",i.$b)}L(zu,k),zu.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&qt(i,u),i},zu.prototype.toJSON=function(){return this.w()};function rl(i){if(i.code){var u=i.code||"";u.indexOf(re)==0&&(u=u.substring(re.length));var c={credential:Wd(i),$b:i.tenantId};if(i.email)c.Kb=i.email;else if(i.phoneNumber)c.ea=i.phoneNumber;else if(!c.credential)return new k(u,i.message||void 0);return new zu(u,c,i.message)}return null}function Wu(){}Wu.prototype.c=null;function G0(i){return i.c||(i.c=i.b())}var Jd;function il(){}L(il,Wu),il.prototype.a=function(){var i=z0(this);return i?new ActiveXObject(i):new XMLHttpRequest},il.prototype.b=function(){var i={};return z0(this)&&(i[0]=!0,i[1]=!0),i};function z0(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<u.length;c++){var d=u[c];try{return new ActiveXObject(d),i.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}Jd=new il;function ol(){}L(ol,Wu),ol.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new W0;throw Error("Unsupported browser")},ol.prototype.b=function(){return{}};function W0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=D(this.qc,this),this.a.onerror=D(this.Tb,this),this.a.onprogress=D(this.rc,this),this.a.ontimeout=D(this.vc,this)}e=W0.prototype,e.open=function(i,u,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(i,u)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zd(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Zd(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Zd(this,1)};function Zd(i,u){i.readyState=u,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function ep(i,u,c){this.reset(i,u,c,void 0,void 0)}ep.prototype.a=null,ep.prototype.reset=function(i,u,c,d,v){delete this.a};function tp(i){this.f=i,this.b=this.c=this.a=null}function Xu(i,u){this.name=i,this.value=u}Xu.prototype.toString=function(){return this.name};var X0=new Xu("SEVERE",1e3),np=new Xu("WARNING",900),JN=new Xu("CONFIG",700),ZN=new Xu("FINE",500);function Q0(i){return i.c?i.c:i.a?Q0(i.a):(dt("Root logger has no level set."),null)}tp.prototype.log=function(i,u,c){if(i.value>=Q0(this).value)for(b(u)&&(u=u()),i=new ep(i,String(u),this.f),c&&(i.a=c),c=this;c;)c=c.a};var rp={},sl=null;function ip(i){sl||(sl=new tp(""),rp[""]=sl,sl.c=JN);var u;if(!(u=rp[i])){u=new tp(i);var c=i.lastIndexOf("."),d=i.substr(c+1);c=ip(i.substr(0,c)),c.b||(c.b={}),c.b[d]=u,u.a=c,rp[i]=u}return u}function Qn(i,u){i&&i.log(ZN,u,void 0)}function ul(i){this.f=i}L(ul,Wu),ul.prototype.a=function(){return new al(this.f)},ul.prototype.b=function(i){return function(){return i}}({});function al(i){hn.call(this),this.u=i,this.h=void 0,this.readyState=op,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ip("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}L(al,hn);var op=0;e=al.prototype,e.open=function(i,u){if(this.readyState!=op)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=u,this.readyState=1,Yu(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(u.body=i),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Qu(this)),this.readyState=op},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,Yu(this)),this.a&&(this.readyState=3,Yu(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,Y0(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Y0(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var u=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});u&&(this.response=this.responseText+=u),i.done?Qu(this):Yu(this),this.readyState==3&&Y0(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,Qu(this))},e.sc=function(i){this.a&&(this.response=i,Qu(this))},e.Va=function(i){var u=this.i;u&&u.log(np,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&Qu(this)};function Qu(i){i.readyState=4,i.g=null,i.c=null,i.m=null,Yu(i)}e.setRequestHeader=function(i,u){this.l.append(i,u)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(np,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(np,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var u=this.b.entries(),c=u.next();!c.done;)c=c.value,i.push(c[0]+": "+c[1]),c=u.next();return i.join(`\r
`)};function Yu(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(al.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function Ju(i){hn.call(this),this.headers=new ls,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=J0,this.u=this.S=!1}L(Ju,hn);var J0="";Ju.prototype.b=ip("goog.net.XhrIo");var eR=/^https?$/i,tR=["POST","PUT"];function nR(i,u,c,d,v){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+u);c=c?c.toUpperCase():"GET",i.l=u,i.h="",i.P=c,i.J=!1,i.c=!0,i.a=i.D?i.D.a():Jd.a(),i.C=i.D?G0(i.D):G0(Jd),i.a.onreadystatechange=D(i.Wb,i);try{Qn(i.b,Kr(i,"Opening Xhr")),i.N=!0,i.a.open(c,String(u),!0),i.N=!1}catch(E){Qn(i.b,Kr(i,"Error opening Xhr: "+E.message)),Z0(i,E);return}u=d||"";var w=new ls(i.headers);v&&aN(v,function(E,S){w.set(S,E)}),v=R(w.Y()),d=f.FormData&&u instanceof f.FormData,!M(tR,c)||v||d||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(E,S){this.a.setRequestHeader(S,E)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{nw(i),0<i.g&&(i.u=rR(i.a),Qn(i.b,Kr(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=D(i.Ma,i)):i.s=yd(i.Ma,i.g,i)),Qn(i.b,Kr(i,"Sending request")),i.i=!0,i.a.send(u),i.i=!1}catch(E){Qn(i.b,Kr(i,"Send error: "+E.message)),Z0(i,E)}}function rR(i){return rr&&__(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function iR(i){return i.toLowerCase()=="content-type"}e=Ju.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Qn(this.b,Kr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Z0(i,u){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=u,ew(i),cl(i)}function ew(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Qn(this.b,Kr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),cl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),cl(this,!0)),Ju.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?tw(this):this.Jc())},e.Jc=function(){tw(this)};function tw(i){if(i.c&&typeof l<"u"){if(i.C[1]&&Zu(i)==4&&ll(i)==2)Qn(i.b,Kr(i,"Local request error detected and ignored"));else if(i.i&&Zu(i)==4)yd(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),Zu(i)==4){Qn(i.b,Kr(i,"Request complete")),i.c=!1;try{var u=ll(i);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var v;if(v=u===0){var w=String(i.l).match(W_)[1]||null;if(!w&&f.self&&f.self.location){var E=f.self.location.protocol;w=E.substr(0,E.length-1)}v=!eR.test(w?w.toLowerCase():"")}d=v}if(d)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var S=2<Zu(i)?i.a.statusText:""}catch(j){Qn(i.b,"Can not get status: "+j.message),S=""}i.h=S+" ["+ll(i)+"]",ew(i)}}finally{cl(i)}}}}function cl(i,u){if(i.a){nw(i);var c=i.a,d=i.C[0]?m:null;i.a=null,i.C=null,u||i.dispatchEvent("ready");try{c.onreadystatechange=d}catch(v){(i=i.b)&&i.log(X0,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function nw(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function Zu(i){return i.a?i.a.readyState:0}function ll(i){try{return 2<Zu(i)?i.a.status:-1}catch{return-1}}function oR(i){try{return i.a?i.a.responseText:""}catch(u){return Qn(i.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case J0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(X0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Qn(this.b,"Can not get response: "+u.message),null}};function Kr(i,u){return u+" ["+i.P+" "+i.l+" "+ll(i)+"]"}function co(i){var u=aR;this.g=[],this.u=u,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}co.prototype.cancel=function(i){if(this.a)this.c instanceof co&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,i?u.cancel(i):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new ta,fl(this),ea(this,!1,i))}},co.prototype.m=function(i,u){this.i=!1,ea(this,i,u)};function ea(i,u,c){i.a=!0,i.c=c,i.f=!u,iw(i)}function fl(i){if(i.a){if(!i.v)throw new hl;i.v=!1}}function sR(i,u){sp(i,null,u,void 0)}function sp(i,u,c,d){i.g.push([u,c,d]),i.a&&iw(i)}co.prototype.then=function(i,u,c){var d,v,w=new je(function(E,S){d=E,v=S});return sp(this,d,function(E){E instanceof ta?w.cancel():v(E)}),w.then(i,u,c)},co.prototype.$goog_Thenable=!0;function rw(i){return A(i.g,function(u){return b(u[1])})}function iw(i){if(i.h&&i.a&&rw(i)){var u=i.h,c=dl[u];c&&(f.clearTimeout(c.a),delete dl[u]),i.h=0}i.b&&(i.b.l--,delete i.b),u=i.c;for(var d=c=!1;i.g.length&&!i.i;){var v=i.g.shift(),w=v[0],E=v[1];if(v=v[2],w=i.f?E:w)try{var S=w.call(v||i.s,u);S!==void 0&&(i.f=i.f&&(S==u||S instanceof Error),i.c=u=S),(Oe(u)||typeof f.Promise=="function"&&u instanceof f.Promise)&&(d=!0,i.i=!0)}catch(j){u=j,i.f=!0,rw(i)||(c=!0)}}i.c=u,d&&(S=D(i.m,i,!0),d=D(i.m,i,!1),u instanceof co?(sp(u,S,d),u.C=!0):u.then(S,d)),c&&(u=new ow(u),dl[u.a]=u,i.h=u.a)}function hl(){we.call(this)}L(hl,we),hl.prototype.message="Deferred has already fired",hl.prototype.name="AlreadyCalledError";function ta(){we.call(this)}L(ta,we),ta.prototype.message="Deferred was canceled",ta.prototype.name="CanceledError";function ow(i){this.a=f.setTimeout(D(this.c,this),0),this.b=i}ow.prototype.c=function(){throw delete dl[this.a],this.b};var dl={};function up(i){var u={},c=u.document||document,d=u_(i).toString(),v=Vc(document,"SCRIPT"),w={Xb:v,Ma:void 0},E=new co(w),S=null,j=u.timeout!=null?u.timeout:5e3;return 0<j&&(S=window.setTimeout(function(){pl(v,!0);var z=new ap(lR,"Timeout reached for loading script "+d);fl(E),ea(E,!1,z)},j),w.Ma=S),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(pl(v,u.xd||!1,S),fl(E),ea(E,!0,null))},v.onerror=function(){pl(v,!0,S);var z=new ap(cR,"Error while loading script "+d);fl(E),ea(E,!1,z)},w=u.attributes||{},qt(w,{type:"text/javascript",charset:"UTF-8"}),b_(v,w),UC(v,i),uR(c).appendChild(v),E}function uR(i){var u;return(u=(i||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:i.documentElement}function aR(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&pl(i,!0,this.Ma)}}function pl(i,u,c){c!=null&&f.clearTimeout(c),i.onload=m,i.onerror=m,i.onreadystatechange=m,u&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var cR=0,lR=1;function ap(i,u){var c="Jsloader error (code #"+i+")";u&&(c+=": "+u),we.call(this,c),this.code=i}L(ap,we);function ml(i){this.f=i}L(ml,Wu),ml.prototype.a=function(){return new this.f},ml.prototype.b=function(){return{}};function sr(i,u,c){if(this.c=i,i=u||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||fR,this.g=yt(i.secureTokenHeaders||hR),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||dR,this.a=yt(i.firebaseHeaders||pR),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Tr()=="Node",c=f.XMLHttpRequest||c&&Ie.INTERNAL.node&&Ie.INTERNAL.node.XMLHttpRequest,!c&&!ir())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ir()?this.f=new ul(self):s0()?this.f=new ml(c):this.f=new ol,this.b=null}var cp,ur="idToken",fR=new hi(3e4,6e4),hR={"Content-Type":"application/x-www-form-urlencoded"},dR=new hi(3e4,6e4),pR={"Content-Type":"application/json"};function sw(i,u){u?i.a["X-Firebase-Locale"]=u:delete i.a["X-Firebase-Locale"]}function gl(i,u){u&&(i.l=lp("https://securetoken.googleapis.com/v1/token",u),i.h=lp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),i.i=lp("https://identitytoolkit.googleapis.com/v2/",u))}function lp(i,u){return i=An(i),u=An(u.url),i.f=i.a+i.f,Du(i,u.c),i.a=u.a,Lu(i,u.g),i.toString()}function uw(i,u){u?(i.a["X-Client-Version"]=u,i.g["X-Client-Version"]=u):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}sr.prototype.T=function(){return this.b};function aw(i,u,c,d,v,w,E){yN()||ir()?i=D(i.u,i):(cp||(cp=new je(function(S,j){gR(S,j)})),i=D(i.s,i)),i(u,c,d,v,w,E)}sr.prototype.u=function(i,u,c,d,v,w){if(ir()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var E=new Ju(this.f);if(w){E.g=Math.max(0,w);var S=setTimeout(function(){E.dispatchEvent("timeout")},w)}K_(E,"complete",function(){S&&clearTimeout(S);var j=null;try{j=JSON.parse(oR(this))||null}catch{j=null}u&&u(j)}),vd(E,"ready",function(){S&&clearTimeout(S),V_(this)}),vd(E,"timeout",function(){S&&clearTimeout(S),V_(this),u&&u(null)}),nR(E,i,c,d,v)};var mR=new Er(Dc,"https://apis.google.com/js/client.js?onload=%{onload}"),cw="__fcb"+Math.floor(1e6*Math.random()).toString();function gR(i,u){if(((window.gapi||{}).client||{}).request)i();else{f[cw]=function(){((window.gapi||{}).client||{}).request?i():u(Error("CORS_UNSUPPORTED"))};var c=Zh(mR,{onload:cw});sR(up(c),function(){u(Error("CORS_UNSUPPORTED"))})}}sr.prototype.s=function(i,u,c,d,v){var w=this;cp.then(function(){window.gapi.client.setApiKey(w.c);var E=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:c,body:d,headers:v,authType:"none",callback:function(S){window.gapi.auth.setToken(E),u&&u(S)}})}).o(function(E){u&&u({error:{message:E&&E.message||"CORS_UNSUPPORTED"}})})};function vR(i,u){return new je(function(c,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?aw(i,i.l+"?key="+encodeURIComponent(i.c),function(v){v?v.error?d(yp(v)):v.access_token&&v.refresh_token?c(v):d(new k("internal-error")):d(new k("network-request-failed"))},"POST",Q_(u).toString(),i.g,i.m.get()):d(new k("internal-error"))})}function lw(i,u,c,d,v,w,E){var S=An(u+c);Et(S,"key",i.c),E&&Et(S,"cb",Date.now().toString());var j=d=="GET";if(j)for(var z in v)v.hasOwnProperty(z)&&Et(S,z,v[z]);return new je(function(Ne,Je){aw(i,S.toString(),function(ze){ze?ze.error?Je(yp(ze,w||{})):Ne(ze):Je(new k("network-request-failed"))},d,j?void 0:Z_(c0(v)),i.a,i.v.get())})}function lo(i){if(i=i.email,typeof i!="string"||!bN.test(i))throw new k("invalid-email")}function fw(i){"email"in i&&lo(i)}function yR(i,u){return Be(i,CR,{identifier:u,continueUri:Wc()?Vu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function _R(i){return Be(i,jR,{}).then(function(u){return u.authorizedDomains||[]})}function Sn(i){if(!i[ur])throw i.mfaPendingCredential?new k("multi-factor-auth-required",null,yt(i)):new k("internal-error")}function fp(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new k("internal-error")}else{if(!i.sessionInfo)throw new k("missing-verification-id");if(!i.code)throw new k("missing-verification-code")}}sr.prototype.Ab=function(){return Be(this,HR,{})},sr.prototype.Cb=function(i,u){return Be(this,pw,{idToken:i,email:u})},sr.prototype.Db=function(i,u){return Be(this,mw,{idToken:i,password:u})};var wR={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=sr.prototype,e.Eb=function(i,u){var c={idToken:i},d=[];return ai(wR,function(v,w){var E=u[w];E===null?d.push(v):w in u&&(c[w]=E)}),d.length&&(c.deleteAttribute=d),Be(this,pw,c)},e.wb=function(i,u){return i={requestType:"PASSWORD_RESET",email:i},qt(i,u),Be(this,UR,i)},e.xb=function(i,u){return i={requestType:"EMAIL_SIGNIN",email:i},qt(i,u),Be(this,MR,i)},e.vb=function(i,u){return i={requestType:"VERIFY_EMAIL",idToken:i},qt(i,u),Be(this,FR,i)},e.Fb=function(i,u,c){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:u},qt(i,c),Be(this,VR,i)};function bR(i,u){return Be(i,$R,u)}e.gb=function(i){return Be(this,YR,i)};function ER(i,u){return Be(i,KR,u).then(function(c){return c.phoneSessionInfo.sessionInfo})}function hw(i){if(!i.phoneVerificationInfo)throw new k("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new k("missing-verification-code")}function IR(i,u){return Be(i,GR,u).then(function(c){return c.phoneResponseInfo.sessionInfo})}function TR(i,u,c){return Be(i,RR,{idToken:u,deleteProvider:c})}function hp(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new k("internal-error")}function dp(i,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(i.sessionId?u.nonce=i.sessionId:i.postBody&&(i=new eo(i.postBody),bd(i,"nonce")&&(u.nonce=i.get("nonce")))),u}function dw(i){var u=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",u=rl(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",u=rl(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",u=rl(i)):i.errorMessage&&(u=vw(i.errorMessage)),u)throw u;Sn(i)}function pp(i,u){return u.returnIdpCredential=!0,Be(i,zR,u)}function mp(i,u){return u.returnIdpCredential=!0,Be(i,XR,u)}function gp(i,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Be(i,WR,u)}function vp(i){if(!i.oobCode)throw new k("invalid-action-code")}e.ob=function(i,u){return Be(this,qR,{oobCode:i,newPassword:u})},e.Sa=function(i){return Be(this,SR,{oobCode:i})},e.kb=function(i){return Be(this,AR,{oobCode:i})};var AR={endpoint:"setAccountInfo",A:vp,Z:"email",B:!0},SR={endpoint:"resetPassword",A:vp,G:function(i){var u=i.requestType;if(!u||!i.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},kR={endpoint:"signupNewUser",A:function(i){if(lo(i),!i.password)throw new k("weak-password")},G:Sn,V:!0,B:!0},CR={endpoint:"createAuthUri",B:!0},NR={endpoint:"deleteAccount",O:["idToken"]},RR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new k("internal-error")}},OR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:lo,G:Sn,V:!0,B:!0},xR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:lo,G:Sn,V:!0},PR={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:hw,G:Sn,B:!0,Na:!0},DR={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:hw,G:Sn,B:!0,Na:!0},LR={endpoint:"getAccountInfo"},MR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new k("internal-error");lo(i)},Z:"email",B:!0},FR={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},VR={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},UR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new k("internal-error");lo(i)},Z:"email",B:!0},jR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},BR={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new k("internal-error")}},qR={endpoint:"resetPassword",A:vp,Z:"email",B:!0},$R={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},pw={endpoint:"setAccountInfo",O:["idToken"],A:fw,V:!0},mw={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(fw(i),!i.password)throw new k("weak-password")},G:Sn,V:!0},HR={endpoint:"signupNewUser",G:Sn,V:!0,B:!0},KR={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new k("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},GR={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},zR={endpoint:"verifyAssertion",A:hp,Za:dp,G:dw,V:!0,B:!0},WR={endpoint:"verifyAssertion",A:hp,Za:dp,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(i.errorMessage)throw vw(i.errorMessage);Sn(i)},V:!0,B:!0},XR={endpoint:"verifyAssertion",A:function(i){if(hp(i),!i.idToken)throw new k("internal-error")},Za:dp,G:dw,V:!0},QR={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new k("invalid-custom-token")},G:Sn,V:!0,B:!0},gw={endpoint:"verifyPassword",A:function(i){if(lo(i),!i.password)throw new k("wrong-password")},G:Sn,V:!0,B:!0},YR={endpoint:"verifyPhoneNumber",A:fp,G:Sn,B:!0},JR={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new k("internal-error");fp(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",rl(i);Sn(i)}},ZR={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:fp,G:Sn,B:!0},eO={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[ur]^!!i.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function Be(i,u,c){if(!CN(c,u.O))return ct(new k("internal-error"));var d=!!u.Na,v=u.Vb||"POST",w;return ye(c).then(u.A).then(function(){return u.V&&(c.returnSecureToken=!0),u.B&&i.b&&typeof c.tenantId>"u"&&(c.tenantId=i.b),d?lw(i,i.i,u.endpoint,v,c,u.Ib,u.mb||!1):lw(i,i.h,u.endpoint,v,c,u.Ib,u.mb||!1)}).then(function(E){return w=E,u.Za?u.Za(c,w):w}).then(u.G).then(function(){if(!u.Z)return w;if(!(u.Z in w))throw new k("internal-error");return w[u.Z]})}function vw(i){return yp({error:{errors:[{message:i}],code:400,message:i}})}function yp(i,u){var c=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?new k(d[c]):null)return c;c=i.error&&i.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},qt(d,u||{}),u=(u=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var v in d)if(c.indexOf(v)===0)return new k(d[v],u);return!u&&i&&(u=ju(i)),new k("internal-error",u)}function tO(i){this.b=i,this.a=null,this.sb=nO(this)}function nO(i){return aO().then(function(){return new je(function(u,c){lt("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:lt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function v(){clearTimeout(w),u()}i.a=d,i.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){c(Error("Network Error"))},uO.get());d.ping(v).then(v,function(){c(Error("Network Error"))})})})})}function rO(i,u){return i.sb.then(function(){return new je(function(c){i.a.send(u.type,u,c,lt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function iO(i,u){i.sb.then(function(){i.a.register("authEvent",u,lt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var oO=new Er(Dc,"https://apis.google.com/js/api.js?onload=%{onload}"),sO=new hi(3e4,6e4),uO=new hi(5e3,15e3),vl=null;function aO(){return vl||(vl=new je(function(i,u){function c(){f0(),lt("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){f0(),u(Error("Network Error"))},timeout:sO.get()})}if(lt("gapi.iframes.Iframe"))i();else if(lt("gapi.load"))c();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[d]=function(){lt("gapi.load")?c():u(Error("Network Error"))},d=Zh(oO,{onload:d}),ye(up(d)).o(function(){u(Error("Network Error"))})}}).o(function(i){throw vl=null,i}))}function yw(i,u,c,d){this.l=i,this.h=u,this.i=c,this.g=d,this.f=null,this.g?(i=An(this.g.url),i=Gc(i.c,i.a,i.g,"/emulator/auth/iframe")):i=Gc("https",this.l,null,"/__/auth/iframe"),this.a=i,Et(this.a,"apiKey",this.h),Et(this.a,"appName",this.i),this.b=null,this.c=[]}yw.prototype.toString=function(){return this.f?Et(this.a,"v",this.f):Ir(this.a.b,"v"),this.b?Et(this.a,"eid",this.b):Ir(this.a.b,"eid"),this.c.length?Et(this.a,"fw",this.c.join(",")):Ir(this.a.b,"fw"),this.a.toString()};function _p(i,u,c,d,v,w){this.u=i,this.s=u,this.c=c,this.m=d,this.v=w,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}_p.prototype.zb=function(i){return this.h=i,this},_p.prototype.toString=function(){if(this.v){var i=An(this.v.url);i=Gc(i.c,i.a,i.g,"/emulator/auth/handler")}else i=Gc("https",this.u,null,"/__/auth/handler");if(Et(i,"apiKey",this.s),Et(i,"appName",this.c),Et(i,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var c=Ie.app(this.c).auth().la()}catch{c=null}u.pb=c,Et(i,"providerId",this.a.providerId),c=this.a,u=c0(c.Jb);for(var d in u)u[d]=u[d].toString();d=c.Qc,u=yt(u);for(var v=0;v<d.length;v++){var w=d[v];w in u&&delete u[w]}c.qb&&c.pb&&!u[c.qb]&&(u[c.qb]=c.pb),br(u)||Et(i,"customParameters",ju(u))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Et(i,"scopes",c.join(","))),this.l?Et(i,"redirectUrl",this.l):Ir(i.b,"redirectUrl"),this.g?Et(i,"eventId",this.g):Ir(i.b,"eventId"),this.i?Et(i,"v",this.i):Ir(i.b,"v"),this.b)for(var E in this.b)this.b.hasOwnProperty(E)&&!Wn(i,E)&&Et(i,E,this.b[E]);return this.h?Et(i,"tid",this.h):Ir(i.b,"tid"),this.f?Et(i,"eid",this.f):Ir(i.b,"eid"),E=wp(this.c),E.length&&Et(i,"fw",E.join(",")),i.toString()};function wp(i){try{return Ie.app(i).auth().Ga()}catch{return[]}}function _w(i,u,c,d,v,w){this.s=i,this.g=u,this.b=c,this.f=w,this.c=d||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function ww(i){var u=Vu();return _R(i).then(function(c){e:{var d=An(u),v=d.c;d=d.a;for(var w=0;w<c.length;w++){var E=c[w],S=d,j=v;if(E.indexOf("chrome-extension://")==0?S=An(E).a==S&&j=="chrome-extension":j!="http"&&j!="https"?S=!1:wN.test(E)?S=S==E:(E=E.split(".").join("\\."),S=new RegExp("^(.+\\."+E+"|"+E+")$","i").test(S)),S){c=!0;break e}}c=!1}if(!c)throw new Yd(Vu())})}function bw(i){return i.m||(i.m=zc().then(function(){if(!i.u){var u=i.c,c=i.i,d=wp(i.b),v=new yw(i.s,i.g,i.b,i.f);v.f=u,v.b=c,v.c=se(d||[]),i.u=v.toString()}i.v=new tO(i.u),cO(i)})),i.m}e=_w.prototype,e.Pb=function(i,u,c){var d=new k("popup-closed-by-user"),v=new k("web-storage-unsupported"),w=this,E=!1;return this.ma().then(function(){lO(w).then(function(S){S||(i&&to(i),u(v),E=!0)})}).o(function(){}).then(function(){if(!E)return _N(i)}).then(function(){if(!E)return cs(c).then(function(){u(d)})})},e.Yb=function(){var i=$t();return!Uu(i)&&!l0(i)},e.Ub=function(){return!1},e.Nb=function(i,u,c,d,v,w,E,S){if(!i)return ct(new k("popup-blocked"));if(E&&!Uu())return this.ma().o(function(z){to(i),v(z)}),d(),ye();this.a||(this.a=ww(Ew(this)));var j=this;return this.a.then(function(){var z=j.ma().o(function(Ne){throw to(i),v(Ne),Ne});return d(),z}).then(function(){if(Xd(c),!E){var z=na(j.s,j.g,j.b,u,c,null,w,j.c,void 0,j.i,S,j.f);n0(z,i)}}).o(function(z){throw z.code=="auth/network-request-failed"&&(j.a=null),z})};function Ew(i){return i.l||(i.C=i.c?ds(i.c,wp(i.b)):null,i.l=new sr(i.g,Me(i.i),i.C),i.f&&gl(i.l,i.f)),i.l}e.Ob=function(i,u,c,d){this.a||(this.a=ww(Ew(this)));var v=this;return this.a.then(function(){Xd(u);var w=na(v.s,v.g,v.b,i,u,Vu(),c,v.c,void 0,v.i,d,v.f);n0(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(v.a=null),w})},e.ma=function(){var i=this;return bw(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new k("network-request-failed")})},e.ac=function(){return!0};function na(i,u,c,d,v,w,E,S,j,z,Ne,Je){return i=new _p(i,u,c,d,v,Je),i.l=w,i.g=E,i.i=S,i.b=yt(j||null),i.f=z,i.zb(Ne).toString()}function cO(i){if(!i.v)throw Error("IfcHandler must be initialized!");iO(i.v,function(u){var c={};if(u&&u.authEvent){var d=!1;for(u=K0(u.authEvent),c=0;c<i.h.length;c++)d=i.h[c](u)||d;return c={},c.status=d?"ACK":"ERROR",ye(c)}return c.status="ERROR",ye(c)})}function lO(i){var u={type:"webStorageSupport"};return bw(i).then(function(){return rO(i.v,u)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){H(this.h,function(u){return u==i})};function Iw(i){if(this.a=i||Ie.INTERNAL.reactNative&&Ie.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Iw.prototype,e.get=function(i){return ye(this.a.getItem(i)).then(function(u){return u&&ms(u)})},e.set=function(i,u){return ye(this.a.setItem(i,ju(u)))},e.U=function(i){return ye(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function Tw(i){this.b=i,this.a={},this.f=D(this.c,this)}var Aw=[];function fO(){var i=ir()?self:null;if(Z(Aw,function(c){c.b==i&&(u=c)}),!u){var u=new Tw(i);Aw.push(u)}return u}Tw.prototype.c=function(i){var u=i.data.eventType,c=i.data.eventId,d=this.a[u];if(d&&0<d.length){i.ports[0].postMessage({status:"ack",eventId:c,eventType:u,response:null});var v=[];Z(d,function(w){v.push(ye().then(function(){return w(i.origin,i.data.data)}))}),N_(v).then(function(w){var E=[];Z(w,function(S){E.push({fulfilled:S.Qb,value:S.value,reason:S.reason?S.reason.message:void 0})}),Z(E,function(S){for(var j in S)typeof S[j]>"u"&&delete S[j]}),i.ports[0].postMessage({status:"done",eventId:c,eventType:u,response:E})})}};function Sw(i,u,c){br(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[u]>"u"&&(i.a[u]=[]),i.a[u].push(c)}function kw(i){this.a=i}kw.prototype.postMessage=function(i,u){this.a.postMessage(i,u)};function Cw(i){this.c=i,this.b=!1,this.a=[]}function Nw(i,u,c,d){var v,w=c||{},E,S,j,z=null;if(i.b)return ct(Error("connection_unavailable"));var Ne=d?800:50,Je=typeof MessageChannel<"u"?new MessageChannel:null;return new je(function(ze,Ft){Je?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),Je.port1.start(),S=setTimeout(function(){Ft(Error("unsupported_event"))},Ne),E=function(Gr){Gr.data.eventId===v&&(Gr.data.status==="ack"?(clearTimeout(S),j=setTimeout(function(){Ft(Error("timeout"))},3e3)):Gr.data.status==="done"?(clearTimeout(j),typeof Gr.data.response<"u"?ze(Gr.data.response):Ft(Error("unknown_error"))):(clearTimeout(S),clearTimeout(j),Ft(Error("invalid_response"))))},z={messageChannel:Je,onMessage:E},i.a.push(z),Je.port1.addEventListener("message",E),i.c.postMessage({eventType:u,eventId:v,data:w},[Je.port2])):Ft(Error("connection_unavailable"))}).then(function(ze){return bp(i,z),ze}).o(function(ze){throw bp(i,z),ze})}function bp(i,u){if(u){var c=u.messageChannel,d=u.onMessage;c&&(c.port1.removeEventListener("message",d),c.port1.close()),H(i.a,function(v){return v==u})}}Cw.prototype.close=function(){for(;0<this.a.length;)bp(this,this.a[0]);this.b=!0};function Rw(){if(!Tp())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;ir()&&self?(this.v=fO(),Sw(this.v,"keyChanged",function(u,c){return Pw(i).then(function(d){return 0<d.length&&Z(i.a,function(v){v(d)}),{keyProcessed:M(d,c.key)}})}),Sw(this.v,"ping",function(){return ye(["keyChanged"])})):SN().then(function(u){(i.h=u)&&(i.g=new Cw(new kw(u)),Nw(i.g,"ping",null,!0).then(function(c){c[0].fulfilled&&M(c[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var Ep;function hO(i){return new je(function(u,c){var d=i.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(v){c(Error(v.target.error))}})}function Ow(i){return new je(function(u,c){var d=i.m.open("firebaseLocalStorageDb",1);d.onerror=function(v){try{v.preventDefault()}catch{}c(Error(v.target.error))},d.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){c(w)}},d.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?u(v):hO(i).then(function(){return Ow(i)}).then(function(w){u(w)}).o(function(w){c(w)})}})}function Ip(i){return i.i||(i.i=Ow(i)),i.i}function yl(i,u){function c(v,w){Ip(i).then(u).then(v).o(function(E){if(3<++d)w(E);else return Ip(i).then(function(S){return S.close(),i.i=void 0,c(v,w)}).o(function(S){w(S)})})}var d=0;return new je(c)}function Tp(){try{return!!f.indexedDB}catch{return!1}}function ra(i){return i.objectStore("firebaseLocalStorage")}function ia(i,u){return i.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function _s(i){return new je(function(u,c){i.onsuccess=function(d){d&&d.target?u(d.target.result):u()},i.onerror=function(d){c(d.target.error)}})}e=Rw.prototype,e.set=function(i,u){var c=this,d=!1;return yl(this,function(v){return v=ra(ia(v,!0)),_s(v.get(i))}).then(function(v){return yl(c,function(w){if(w=ra(ia(w,!0)),v)return v.value=u,_s(w.put(v));c.b++,d=!0;var E={};return E.fbase_key=i,E.value=u,_s(w.add(E))})}).then(function(){return c.c[i]=u,xw(c,i)}).oa(function(){d&&c.b--})};function xw(i,u){return i.g&&i.h&&AN()===i.h?Nw(i.g,"keyChanged",{key:u},i.s).then(function(){}).o(function(){}):ye()}e.get=function(i){return yl(this,function(u){return _s(ra(ia(u,!1)).get(i))}).then(function(u){return u&&u.value})},e.U=function(i){var u=this,c=!1;return yl(this,function(d){return c=!0,u.b++,_s(ra(ia(d,!0)).delete(i))}).then(function(){return delete u.c[i],xw(u,i)}).oa(function(){c&&u.b--})};function Pw(i){return Ip(i).then(function(u){var c=ra(ia(u,!1));return c.getAll?_s(c.getAll()):new je(function(d,v){var w=[],E=c.openCursor();E.onsuccess=function(S){(S=S.target.result)?(w.push(S.value),S.continue()):d(w)},E.onerror=function(S){v(S.target.error)}})}).then(function(u){var c={},d=[];if(i.b==0){for(d=0;d<u.length;d++)c[u[d].fbase_key]=u[d].value;d=r0(i.c,c),i.c=c}return d})}e.ca=function(i){this.a.length==0&&dO(this),this.a.push(i)},e.ia=function(i){H(this.a,function(u){return u==i}),this.a.length==0&&Dw(this)};function dO(i){function u(){i.f=setTimeout(function(){i.l=Pw(i).then(function(c){0<c.length&&Z(i.a,function(d){d(c)})}).then(function(){u()}).o(function(c){c.message!="STOP_EVENT"&&u()})},800)}Dw(i),u()}function Dw(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function Lw(i){var u=this,c=null;this.a=[],this.type="indexedDB",this.c=i,this.b=ye().then(function(){if(Tp()){var d=ro(),v="__sak"+d;return Ep||(Ep=new Rw),c=Ep,c.set(v,d).then(function(){return c.get(v)}).then(function(w){if(w!==d)throw Error("indexedDB not supported!");return c.U(v)}).then(function(){return c}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(v){Z(u.a,function(w){w(v)})}),d})}e=Lw.prototype,e.get=function(i){return this.b.then(function(u){return u.get(i)})},e.set=function(i,u){return this.b.then(function(c){return c.set(i,u)})},e.U=function(i){return this.b.then(function(u){return u.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){H(this.a,function(u){return u==i})};function oa(){this.a={},this.type="inMemory"}e=oa.prototype,e.get=function(i){return ye(this.a[i])},e.set=function(i,u){return this.a[i]=u,ye()},e.U=function(i){return delete this.a[i],ye()},e.ca=function(){},e.ia=function(){};function _l(){if(!pO())throw Tr()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=Mw()||Ie.INTERNAL.node.localStorage,this.type="localStorage"}function Mw(){try{var i=f.localStorage,u=ro();return i&&(i.setItem(u,"1"),i.removeItem(u)),i}catch{return null}}function pO(){var i=Tr()=="Node";if(i=Mw()||i&&Ie.INTERNAL.node&&Ie.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=_l.prototype,e.get=function(i){var u=this;return ye().then(function(){var c=u.a.getItem(i);return ms(c)})},e.set=function(i,u){var c=this;return ye().then(function(){var d=ju(u);d===null?c.U(i):c.a.setItem(i,d)})},e.U=function(i){var u=this;return ye().then(function(){u.a.removeItem(i)})},e.ca=function(i){f.window&&zn(f.window,"storage",i)},e.ia=function(i){f.window&&Ln(f.window,"storage",i)};function Ap(){this.type="nullStorage"}e=Ap.prototype,e.get=function(){return ye(null)},e.set=function(){return ye()},e.U=function(){return ye()},e.ca=function(){},e.ia=function(){};function Sp(){if(!mO())throw Tr()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=Fw()||Ie.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Fw(){try{var i=f.sessionStorage,u=ro();return i&&(i.setItem(u,"1"),i.removeItem(u)),i}catch{return null}}function mO(){var i=Tr()=="Node";if(i=Fw()||i&&Ie.INTERNAL.node&&Ie.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Sp.prototype,e.get=function(i){var u=this;return ye().then(function(){var c=u.a.getItem(i);return ms(c)})},e.set=function(i,u){var c=this;return ye().then(function(){var d=ju(u);d===null?c.U(i):c.a.setItem(i,d)})},e.U=function(i){var u=this;return ye().then(function(){u.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function gO(){var i={};i.Browser=vO,i.Node=yO,i.ReactNative=_O,i.Worker=wO,this.a=i[Tr()]}var kp,vO={F:_l,cb:Sp},yO={F:_l,cb:Sp},_O={F:Iw,cb:Ap},wO={F:_l,cb:Ap},ws={rd:"local",NONE:"none",td:"session"};function bO(i){var u=new k("invalid-persistence-type"),c=new k("unsupported-persistence-type");e:{for(d in ws)if(ws[d]==i){var d=!0;break e}d=!1}if(!d||typeof i!="string")throw u;switch(Tr()){case"ReactNative":if(i==="session")throw c;break;case"Node":if(i!=="none")throw c;break;case"Worker":if(i==="session"||!Tp()&&i!=="none")throw c;break;default:if(!kd()&&i!=="none")throw c}}function Vw(){var i=!!(!l0($t())&&Ad()),u=Uu(),c=kd();this.m=i,this.h=u,this.l=c,this.a={},kp||(kp=new gO),i=kp;try{this.g=!Id()&&h0()||!f.indexedDB?new i.a.F:new Lw(ir()?new oa:new i.a.F)}catch{this.g=new oa,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new oa}this.v=new oa,this.f=D(this.Zb,this),this.b={}}var Cp;function sa(){return Cp||(Cp=new Vw),Cp}function fo(i,u){switch(u){case"session":return i.i;case"none":return i.v;default:return i.g}}function bs(i,u){return"firebase:"+i.name+(u?":"+u:"")}function EO(i,u,c){var d=bs(u,c),v=fo(i,u.F);return i.get(u,c).then(function(w){var E=null;try{E=ms(f.localStorage.getItem(d))}catch{}if(E&&!w)return f.localStorage.removeItem(d),i.set(u,E,c);E&&w&&v.type!="localStorage"&&f.localStorage.removeItem(d)})}e=Vw.prototype,e.get=function(i,u){return fo(this,i.F).get(bs(i,u))};function Es(i,u,c){return c=bs(u,c),u.F=="local"&&(i.b[c]=null),fo(i,u.F).U(c)}e.set=function(i,u,c){var d=bs(i,c),v=this,w=fo(this,i.F);return w.set(d,u).then(function(){return w.get(d)}).then(function(E){i.F=="local"&&(v.b[d]=E)})},e.addListener=function(i,u,c){i=bs(i,u),this.l&&(this.b[i]=f.localStorage.getItem(i)),br(this.a)&&(fo(this,"local").ca(this.f),this.h||(Id()||!h0())&&f.indexedDB||!this.l||IO(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(c)},e.removeListener=function(i,u,c){i=bs(i,u),this.a[i]&&(H(this.a[i],function(d){return d==c}),this.a[i].length==0&&delete this.a[i]),br(this.a)&&(fo(this,"local").ia(this.f),Np(this))};function IO(i){Np(i),i.c=setInterval(function(){for(var u in i.a){var c=f.localStorage.getItem(u),d=i.b[u];c!=d&&(i.b[u]=c,c=new Ji({type:"storage",key:u,target:window,oldValue:d,newValue:c,a:!0}),i.Zb(c))}},1e3)}function Np(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var u=i.a.key;if(u==null)for(var c in this.a){var d=this.b[c];typeof d>"u"&&(d=null);var v=f.localStorage.getItem(c);v!==d&&(this.b[c]=v,this.nb(c))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof i.a.a<"u"?fo(this,"local").ia(this.f):Np(this),this.m){if(c=f.localStorage.getItem(u),d=i.a.newValue,d!==c)d!==null?f.localStorage.setItem(u,d):f.localStorage.removeItem(u);else if(this.b[u]===d&&typeof i.a.a>"u")return}var w=this;c=function(){(typeof i.a.a<"u"||w.b[u]!==f.localStorage.getItem(u))&&(w.b[u]=f.localStorage.getItem(u),w.nb(u))},rr&&ci&&ci==10&&f.localStorage.getItem(u)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(c,10):c()}}else Z(i,D(this.nb,this))},e.nb=function(i){this.a[i]&&Z(this.a[i],function(u){u()})};function TO(i){this.a=i,this.b=sa()}var Rp={name:"authEvent",F:"local"};function AO(i){return i.b.get(Rp,i.a).then(function(u){return K0(u)})}function SO(){this.a=sa()}function kO(){this.b=-1}function wl(i,u){this.b=Uw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=u,this.l=f.Int32Array?new Int32Array(64):Array(64),bl===void 0&&(f.Int32Array?bl=new Int32Array(qw):bl=qw),this.reset()}var bl;L(wl,kO);for(var Uw=64,CO=Uw-1,jw=[],Op=0;Op<CO;Op++)jw[Op]=0;var Bw=te(128,jw);wl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):se(this.h)};function xp(i){for(var u=i.f,c=i.l,d=0,v=0;v<u.length;)c[d++]=u[v]<<24|u[v+1]<<16|u[v+2]<<8|u[v+3],v=4*d;for(u=16;64>u;u++){v=c[u-15]|0,d=c[u-2]|0;var w=(c[u-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,E=(c[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[u]=w+E|0}d=i.a[0]|0,v=i.a[1]|0;var S=i.a[2]|0,j=i.a[3]|0,z=i.a[4]|0,Ne=i.a[5]|0,Je=i.a[6]|0;for(w=i.a[7]|0,u=0;64>u;u++){var ze=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&v^d&S^v&S)|0;E=z&Ne^~z&Je,w=w+((z>>>6|z<<26)^(z>>>11|z<<21)^(z>>>25|z<<7))|0,E=E+(bl[u]|0)|0,E=w+(E+(c[u]|0)|0)|0,w=Je,Je=Ne,Ne=z,z=j+E|0,j=S,S=v,v=d,d=E+ze|0}i.a[0]=i.a[0]+d|0,i.a[1]=i.a[1]+v|0,i.a[2]=i.a[2]+S|0,i.a[3]=i.a[3]+j|0,i.a[4]=i.a[4]+z|0,i.a[5]=i.a[5]+Ne|0,i.a[6]=i.a[6]+Je|0,i.a[7]=i.a[7]+w|0}function Pp(i,u,c){c===void 0&&(c=u.length);var d=0,v=i.c;if(typeof u=="string")for(;d<c;)i.f[v++]=u.charCodeAt(d++),v==i.b&&(xp(i),v=0);else if(_(u))for(;d<c;){var w=u[d++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");i.f[v++]=w,v==i.b&&(xp(i),v=0)}else throw Error("message must be string or array");i.c=v,i.g+=c}var qw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function $w(){wl.call(this,8,NO)}L($w,wl);var NO=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Hw(i,u,c,d,v,w){this.v=i,this.i=u,this.l=c,this.m=d||null,this.u=v||null,this.s=w,this.h=u+":"+c,this.C=new SO,this.g=new TO(this.h),this.f=null,this.b=[],this.a=this.c=null}function El(i){return new k("invalid-cordova-configuration",i)}e=Hw.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=EN().then(function(){if(typeof lt("universalLinks.subscribe",f)!="function")throw El("cordova-universal-links-plugin-fix is not installed");if(typeof lt("BuildInfo.packageName",f)>"u")throw El("cordova-plugin-buildinfo is not installed");if(typeof lt("cordova.plugins.browsertab.openUrl",f)!="function")throw El("cordova-plugin-browsertab is not installed");if(typeof lt("cordova.InAppBrowser.open",f)!="function")throw El("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function RO(){for(var i=20,u=[];0<i;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return u.join("")}function OO(i){var u=new $w;Pp(u,i),i=[];var c=8*u.g;56>u.c?Pp(u,Bw,56-u.c):Pp(u,Bw,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=c&255,c/=256;for(xp(u),d=c=0;d<u.i;d++)for(var v=24;0<=v;v-=8)i[c++]=u.a[d]>>v&255;return qN(i)}e.Pb=function(i,u){return u(new k("operation-not-supported-in-this-environment")),ye()},e.Nb=function(){return ct(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,u,c,d){if(this.c)return ct(new k("redirect-operation-pending"));var v=this,w=f.document,E=null,S=null,j=null,z=null;return this.c=ye().then(function(){return Xd(u),Gw(v)}).then(function(){return xO(v,i,u,c,d)}).then(function(){return new je(function(Ne,Je){S=function(){var ze=lt("cordova.plugins.browsertab.close",f);return Ne(),typeof ze=="function"&&ze(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(S),j=function(){E||(E=cs(2e3).then(function(){Je(new k("redirect-cancelled-by-user"))}))},z=function(){Cd()&&j()},w.addEventListener("resume",j,!1),$t().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",z,!1)}).o(function(Ne){return Dp(v).then(function(){throw Ne})})}).oa(function(){j&&w.removeEventListener("resume",j,!1),z&&w.removeEventListener("visibilitychange",z,!1),E&&E.cancel(),S&&v.Ta(S),v.c=null})};function xO(i,u,c,d,v){var w=RO(),E=new or(u,d,null,w,new k("no-auth-event"),null,v),S=lt("BuildInfo.packageName",f);if(typeof S!="string")throw new k("invalid-cordova-configuration");var j=lt("BuildInfo.displayName",f),z={};if($t().toLowerCase().match(/iphone|ipad|ipod/))z.ibi=S;else if($t().toLowerCase().match(/android/))z.apn=S;else return ct(new k("operation-not-supported-in-this-environment"));j&&(z.appDisplayName=j),w=OO(w),z.sessionId=w;var Ne=na(i.v,i.i,i.l,u,c,null,d,i.m,z,i.u,v,i.s);return i.ma().then(function(){var Je=i.h;return i.C.a.set(Rp,E.w(),Je)}).then(function(){var Je=lt("cordova.plugins.browsertab.isAvailable",f);if(typeof Je!="function")throw new k("invalid-cordova-configuration");var ze=null;Je(function(Ft){if(Ft){if(ze=lt("cordova.plugins.browsertab.openUrl",f),typeof ze!="function")throw new k("invalid-cordova-configuration");ze(Ne)}else{if(ze=lt("cordova.InAppBrowser.open",f),typeof ze!="function")throw new k("invalid-cordova-configuration");Ft=$t(),i.a=ze(Ne,Ft.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Ft.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Kw(i,u){for(var c=0;c<i.b.length;c++)try{i.b[c](u)}catch{}}function Gw(i){return i.f||(i.f=i.ma().then(function(){return new je(function(u){function c(d){return u(d),i.Ta(c),!1}i.Ea(c),PO(i)})})),i.f}function Dp(i){var u=null;return AO(i.g).then(function(c){return u=c,c=i.g,Es(c.b,Rp,c.a)}).then(function(){return u})}function PO(i){function u(E){d=!0,v&&v.cancel(),Dp(i).then(function(S){var j=c;if(S&&E&&E.url){var z=null;j=F0(E.url),j.indexOf("/__/auth/callback")!=-1&&(z=An(j),z=ms(Wn(z,"firebaseError")||null),z=(z=typeof z=="object"?Ee(z):null)?new or(S.c,S.b,null,null,z,null,S.T()):new or(S.c,S.b,j,S.f,null,null,S.T())),j=z||c}Kw(i,j)})}var c=new or("unknown",null,null,null,new k("no-auth-event")),d=!1,v=cs(500).then(function(){return Dp(i).then(function(){d||Kw(i,c)})}),w=f.handleOpenURL;f.handleOpenURL=function(E){if(E.toLowerCase().indexOf(lt("BuildInfo.packageName",f).toLowerCase()+"://")==0&&u({url:E}),typeof w=="function")try{w(E)}catch(S){console.error(S)}},Qd||(Qd=new QN),YN(u)}e.Ea=function(i){this.b.push(i),Gw(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new or("unknown",null,null,null,new k("no-auth-event")),i(u))})},e.Ta=function(i){H(this.b,function(u){return u==i})};function DO(i){this.a=i,this.b=sa()}var Lp={name:"pendingRedirect",F:"session"};function LO(i){return i.b.set(Lp,"pending",i.a)}function Mp(i){return Es(i.b,Lp,i.a)}function MO(i){return i.b.get(Lp,i.a).then(function(u){return u=="pending"})}function Il(i,u,c,d){this.i={},this.u=0,this.D=i,this.v=u,this.m=c,this.J=d,this.h=[],this.f=!1,this.l=D(this.s,this),this.b=new Al,this.C=new nb,this.g=new DO(Zw(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=zw(this.D,this.v,this.m,Ce,this.J)}function zw(i,u,c,d,v){var w=Ie.SDK_VERSION||null;return Td()?new Hw(i,u,c,w,d,v):new _w(i,u,c,w,d,v)}Il.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=zw(this.D,this.v,this.m,null,this.J),this.i={}};function Ww(i){i.f||(i.f=!0,i.a.Ea(i.l));var u=i.a;return i.a.ma().o(function(c){throw i.a==u&&i.reset(),c})}function Xw(i){i.a.Yb()&&Ww(i).o(function(u){var c=new or("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Vp(u)&&i.s(c)}),i.a.Ub()||eb(i.b)}function Tl(i,u){M(i.h,u)||i.h.push(u),i.f||MO(i.g).then(function(c){c?Mp(i.g).then(function(){Ww(i).o(function(d){var v=new or("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Vp(d)&&i.s(v)})}):Xw(i)}).o(function(){Xw(i)})}function Fp(i,u){H(i.h,function(c){return c==u})}Il.prototype.s=function(i){if(!i)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var u=!1,c=0;c<this.h.length;c++){var d=this.h[c];if(d.Gb(i.c,i.b)){(u=this.c[i.c])&&(u.h(i,d),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),u=!0;break}}return eb(this.b),u};var FO=new hi(2e3,1e4),VO=new hi(3e4,6e4);Il.prototype.ra=function(){return this.b.ra()};function Qw(i,u,c,d,v,w,E){return i.a.Nb(u,c,d,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},v,w,E)}function Vp(i){return!!(i&&i.code=="auth/cordova-not-ready")}function Yw(i,u,c,d,v){var w;return LO(i.g).then(function(){return i.a.Ob(u,c,d,v).o(function(E){if(Vp(E))throw new k("operation-not-supported-in-this-environment");return w=E,Mp(i.g).then(function(){throw w})}).then(function(){return i.a.ac()?new je(function(){}):Mp(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function Jw(i,u,c,d,v){return i.a.Pb(d,function(w){u.na(c,null,w,v)},FO.get())}var Up={};function Zw(i,u,c){return i=i+":"+u,c&&(i=i+":"+c.url),i}function jp(i,u,c,d){var v=Zw(u,c,d);return Up[v]||(Up[v]=new Il(i,u,c,d)),Up[v]}function Al(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Al.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Al.prototype.h=function(i,u){if(i){this.reset(),this.g=!0;var c=i.c,d=i.b,v=i.a&&i.a.code=="auth/web-storage-unsupported",w=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!w),c!="unknown"||v||w?i.a?(ho(this,!0,null,i.a),ye()):u.Fa(c,d)?UO(this,i,u):ct(new k("invalid-auth-event")):(ho(this,!1,null,null),ye())}else ct(new k("invalid-auth-event"))};function eb(i){i.g||(i.g=!0,ho(i,!1,null,null))}function Sl(i){i.g&&!i.i&&ho(i,!1,null,null)}function UO(i,u,c){c=c.Fa(u.c,u.b);var d=u.g,v=u.f,w=u.i,E=u.T(),S=!!u.c.match(/Redirect$/);c(d,v,E,w).then(function(j){ho(i,S,j,null)}).o(function(j){ho(i,S,null,j)})}function jO(i,u){if(i.b=function(){return ct(u)},i.c.length)for(var c=0;c<i.c.length;c++)i.c[c](u)}function tb(i,u){if(i.b=function(){return ye(u)},i.f.length)for(var c=0;c<i.f.length;c++)i.f[c](u)}function ho(i,u,c,d){u?d?jO(i,d):tb(i,c):tb(i,{user:null}),i.f=[],i.c=[]}Al.prototype.ra=function(){var i=this;return new je(function(u,c){i.b?i.b().then(u,c):(i.f.push(u),i.c.push(c),BO(i))})};function BO(i){var u=new k("timeout");i.a&&i.a.cancel(),i.a=cs(VO.get()).then(function(){i.b||(i.g=!0,ho(i,!0,null,u))})}function nb(){}nb.prototype.h=function(i,u){if(i){var c=i.c,d=i.b;i.a?(u.na(i.c,null,i.a,i.b),ye()):u.Fa(c,d)?qO(i,u):ct(new k("invalid-auth-event"))}else ct(new k("invalid-auth-event"))};function qO(i,u){var c=i.b,d=i.c;u.Fa(d,c)(i.g,i.f,i.T(),i.i).then(function(v){u.na(d,v,null,c)}).o(function(v){u.na(d,null,v,c)})}function rb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function Bp(i,u){this.a=u,me(this,"verificationId",i)}Bp.prototype.confirm=function(i){return i=H0(this.verificationId,i),this.a(i)};function qp(i,u,c,d){return new Hr(i).gb(u,c).then(function(v){return new Bp(v,d)})}function $O(i){var u=N0(i);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");dn(this,{token:i,expirationTime:Bu(1e3*u.exp),authTime:Bu(1e3*u.auth_time),issuedAtTime:Bu(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function $p(i,u,c){var d=u&&u[ob];if(!d)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=yt(u),this.g=c,this.c=new tl(null,d),this.b=[];var v=this;Z(u[ib]||[],function(w){(w=Dd(w))&&v.b.push(w)}),me(this,"auth",this.a),me(this,"session",this.c),me(this,"hints",this.b)}var ib="mfaInfo",ob="mfaPendingCredential";$p.prototype.Rc=function(i){var u=this;return i.tb(this.a.a,this.c).then(function(c){var d=yt(u.f);return delete d[ib],delete d[ob],qt(d,c),u.g(d)})};function Hp(i,u,c,d){k.call(this,"multi-factor-auth-required",d,u),this.b=new $p(i,u,c),me(this,"resolver",this.b)}L(Hp,k);function sb(i,u,c){if(i&&T(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new Hp(u,i.serverResponse,c,i.message)}catch{}return null}function ub(){}ub.prototype.tb=function(i,u,c){return u.type==Ku?HO(this,i,u,c):KO(this,i,u)};function HO(i,u,c,d){return c.Ha().then(function(v){return v={idToken:v},typeof d<"u"&&(v.displayName=d),qt(v,{phoneVerificationInfo:Gu(i.a)}),Be(u,PR,v)})}function KO(i,u,c){return c.Ha().then(function(d){return d={mfaPendingCredential:d},qt(d,{phoneVerificationInfo:Gu(i.a)}),Be(u,DR,d)})}function Kp(i){me(this,"factorId",i.fa),this.a=i}L(Kp,ub);function ab(i){if(Kp.call(this,i),this.a.fa!=Hr.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}L(ab,Kp);function Is(i,u){Tn.call(this,i);for(var c in u)this[c]=u[c]}L(Is,Tn);function Gp(i,u){this.a=i,this.b=[],this.c=D(this.yc,this),zn(this.a,"userReloaded",this.c);var c=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Z(u.multiFactor.enrolledFactors,function(d){var v=null,w={};if(d){d.uid&&(w[Md]=d.uid),d.displayName&&(w[p0]=d.displayName),d.enrollmentTime&&(w[Ld]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(w[Fd]=d.phoneNumber);try{v=new qu(w)}catch{}d=v}else d=null;d&&c.push(d)}),kl(this,c)}function GO(i){var u=[];return Z(i.mfaInfo||[],function(c){(c=Dd(c))&&u.push(c)}),u}e=Gp.prototype,e.yc=function(i){kl(this,GO(i.hd))};function kl(i,u){i.b=u,me(i,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(i){return new tl(i,null)})},e.fc=function(i,u){var c=this,d=this.a.a;return this.Sb().then(function(v){return i.tb(d,v,u)}).then(function(v){return kr(c.a,v),c.a.reload()})},e.bd=function(i){var u=this,c=typeof i=="string"?i:i.uid,d=this.a.a;return this.a.I().then(function(v){return Be(d,eO,{idToken:v,mfaEnrollmentId:c})}).then(function(v){var w=Ge(u.b,function(E){return E.uid!=c});return kl(u,w),kr(u.a,v),u.a.reload().o(function(E){if(E.code!="auth/user-token-expired")throw E})})},e.w=function(){return{multiFactor:{enrolledFactors:Te(this.b,function(i){return i.w()})}}};function zp(i,u,c){if(this.h=i,this.i=u,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}zp.prototype.start=function(){this.a=this.c,Wp(this,!0)};function zO(i,u){return u?(i.a=i.c,i.g()):(u=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),u)}function Wp(i,u){i.stop(),i.b=cs(zO(i,u)).then(function(){return TN()}).then(function(){return i.h()}).then(function(){Wp(i,!0)}).o(function(c){i.i(c)&&Wp(i,!1)})}zp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Xp(i){this.f=i,this.b=this.a=null,this.c=Date.now()}Xp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function cb(i,u){typeof u>"u"&&(i.b?(u=i.b,u=u.a-u.g):u=0),i.c=Date.now()+1e3*u}function lb(i,u){i.b=Zc(u[ur]||""),i.a=u.refreshToken,u=u.expiresIn,cb(i,typeof u<"u"?Number(u):void 0)}function WO(i,u){i.b=u.b,i.a=u.a,i.c=u.c}function XO(i,u){return vR(i.f,u).then(function(c){return i.b=Zc(c.access_token),i.a=c.refresh_token,cb(i,c.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(i.a=null),c})}Xp.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?ct(new k("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?XO(this,{grant_type:"refresh_token",refresh_token:this.a}):ye(null):ye({accessToken:this.b.toString(),refreshToken:this.a})};function Cl(i,u){this.a=i||null,this.b=u||null,dn(this,{lastSignInTime:Bu(u||null),creationTime:Bu(i||null)})}function QO(i){return new Cl(i.a,i.b)}Cl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function YO(i,u,c,d,v,w){dn(this,{uid:i,displayName:d||null,photoURL:v||null,email:c||null,phoneNumber:w||null,providerId:u})}function Fn(i,u,c){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var d=Ie.SDK_VERSION?ds(Ie.SDK_VERSION):null;this.a=new sr(this.l,Me(Ce),d),(this.u=i.emulatorConfig||null)&&gl(this.a,this.u),this.h=new Xp(this.a),nm(this,u[ur]),lb(this.h,u),me(this,"refreshToken",this.h.a),hb(this,c||{}),hn.call(this),this.P=!1,this.s&&no()&&(this.b=jp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=JO(this),this.ba=D(this.ib,this);var v=this;this.za=null,this.Pa=function(w){v.xa(w.h)},this.qa=null,this.Ba=function(w){Qp(v,w.c)},this.$=null,this.aa=[],this.Oa=function(w){ua(v,w.f)},this.ja=null,this.S=new Gp(this,c),me(this,"multiFactor",this.S)}L(Fn,hn),Fn.prototype.xa=function(i){this.za=i,sw(this.a,i)};function Qp(i,u){i.u=u,gl(i.a,u),i.b&&(u=i.b,i.b=jp(i.s,i.l,i.m,i.u),i.P&&(Fp(u,i),Tl(i.b,i)))}Fn.prototype.la=function(){return this.za};function Yp(i,u){i.qa&&Ln(i.qa,"languageCodeChanged",i.Pa),(i.qa=u)&&zn(u,"languageCodeChanged",i.Pa)}function Jp(i,u){i.$&&Ln(i.$,"emulatorConfigChanged",i.Ba),(i.$=u)&&zn(u,"emulatorConfigChanged",i.Ba)}function ua(i,u){i.aa=u,uw(i.a,Ie.SDK_VERSION?ds(Ie.SDK_VERSION,i.aa):null)}Fn.prototype.Ga=function(){return se(this.aa)};function Zp(i,u){i.ja&&Ln(i.ja,"frameworkChanged",i.Oa),(i.ja=u)&&zn(u,"frameworkChanged",i.Oa)}Fn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function em(i){try{return Ie.app(i.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function JO(i){return new zp(function(){return i.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=i.h.c-Date.now()-3e5;return 0<u?u:0})}function fb(i){i.J||i.D.b||(i.D.start(),Ln(i,"tokenChanged",i.ba),zn(i,"tokenChanged",i.ba))}function tm(i){Ln(i,"tokenChanged",i.ba),i.D.stop()}function nm(i,u){i.Aa=u,me(i,"_lat",u)}function ZO(i,u){H(i.W,function(c){return c==u})}function po(i){for(var u=[],c=0;c<i.W.length;c++)u.push(i.W[c](i));return N_(u).then(function(){return i})}function aa(i){i.b&&!i.P&&(i.P=!0,Tl(i.b,i))}function hb(i,u){dn(i,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Cl(u.createdAt,u.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}me(Fn.prototype,"providerId","firebase");function db(){}function rm(i){return ye().then(function(){if(i.J)throw new k("app-deleted")})}function im(i){return Te(i.providerData,function(u){return u.providerId})}function om(i,u){u&&(pb(i,u.providerId),i.providerData.push(u))}function pb(i,u){H(i.providerData,function(c){return c.providerId==u})}function mi(i,u,c){(u!="uid"||c)&&i.hasOwnProperty(u)&&me(i,u,c)}function Nl(i,u){i!=u&&(dn(i,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?me(i,"metadata",QO(u.metadata)):me(i,"metadata",new Cl),Z(u.providerData,function(c){om(i,c)}),WO(i.h,u.h),me(i,"refreshToken",i.h.a),kl(i.S,u.S.b))}e=Fn.prototype,e.reload=function(){var i=this;return Dt(this,rm(this).then(function(){return sm(i).then(function(){return po(i)}).then(db)}))};function sm(i){return i.I().then(function(u){var c=i.isAnonymous;return ex(i,u).then(function(){return c||mi(i,"isAnonymous",!1),u})})}e.oc=function(i){return this.I(i).then(function(u){return new $O(u)})},e.I=function(i){var u=this;return Dt(this,rm(this).then(function(){return u.h.getToken(i)}).then(function(c){if(!c)throw new k("internal-error");return c.accessToken!=u.Aa&&(nm(u,c.accessToken),u.dispatchEvent(new Is("tokenChanged"))),mi(u,"refreshToken",c.refreshToken),c.accessToken}))};function kr(i,u){u[ur]&&i.Aa!=u[ur]&&(lb(i.h,u),i.dispatchEvent(new Is("tokenChanged")),nm(i,u[ur]),mi(i,"refreshToken",i.h.a))}function ex(i,u){return Be(i.a,LR,{idToken:u}).then(D(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new k("internal-error");i=i[0],hb(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var u=tx(i),c=0;c<u.length;c++)om(this,u[c]);mi(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Is("userReloaded",{hd:i}))};function tx(i){return(i=i.providerUserInfo)&&i.length?Te(i,function(u){return new YO(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(i){return Nd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var u=this,c=null;return Dt(this,i.c(this.a,this.uid).then(function(d){return kr(u,d),c=ca(u,d,"reauthenticate"),u.i=null,u.reload()}).then(function(){return c}),!0)};function Rl(i,u){return sm(i).then(function(){if(M(im(i),u))return po(i).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(i){return Nd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var u=this,c=null;return Dt(this,Rl(this,i.providerId).then(function(){return u.I()}).then(function(d){return i.b(u.a,d)}).then(function(d){return c=ca(u,d,"link"),mb(u,d)}).then(function(){return c}))},e.Dc=function(i,u){var c=this;return Dt(this,Rl(this,"phone").then(function(){return qp(em(c),i,u,D(c.rb,c))}))},e.Mc=function(i,u){var c=this;return Dt(this,ye().then(function(){return qp(em(c),i,u,D(c.ub,c))}),!0)};function ca(i,u,c){var d=Wd(u);return u=O0(u),Ar({user:i,credential:d,additionalUserInfo:u,operationType:c})}function mb(i,u){return kr(i,u),i.reload().then(function(){return i})}e.Cb=function(i){var u=this;return Dt(this,this.I().then(function(c){return u.a.Cb(c,i)}).then(function(c){return kr(u,c),u.reload()}))},e.ed=function(i){var u=this;return Dt(this,this.I().then(function(c){return i.b(u.a,c)}).then(function(c){return kr(u,c),u.reload()}))},e.Db=function(i){var u=this;return Dt(this,this.I().then(function(c){return u.a.Db(c,i)}).then(function(c){return kr(u,c),u.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return rm(this);var u=this;return Dt(this,this.I().then(function(c){return u.a.Eb(c,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(c){return kr(u,c),mi(u,"displayName",c.displayName||null),mi(u,"photoURL",c.photoUrl||null),Z(u.providerData,function(d){d.providerId==="password"&&(me(d,"displayName",u.displayName),me(d,"photoURL",u.photoURL))}),po(u)}).then(db))},e.cd=function(i){var u=this;return Dt(this,sm(this).then(function(c){return M(im(u),i)?TR(u.a,c,[i]).then(function(d){var v={};return Z(d.providerUserInfo||[],function(w){v[w.providerId]=!0}),Z(im(u),function(w){v[w]||pb(u,w)}),v[Hr.PROVIDER_ID]||me(u,"phoneNumber",null),po(u)}):po(u).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var i=this;return Dt(this,this.I().then(function(u){return Be(i.a,NR,{idToken:u})}).then(function(){i.dispatchEvent(new Is("userDeleted"))})).then(function(){for(var u=0;u<i.N.length;u++)i.N[u].cancel("app-deleted");Yp(i,null),Jp(i,null),Zp(i,null),i.N=[],i.J=!0,tm(i),me(i,"refreshToken",null),i.b&&Fp(i.b,i)})},e.Gb=function(i,u){return!!(i=="linkViaPopup"&&(this.g||null)==u&&this.f||i=="reauthViaPopup"&&(this.g||null)==u&&this.f||i=="linkViaRedirect"&&(this.ga||null)==u||i=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(i,u,c,d){i!="linkViaPopup"&&i!="reauthViaPopup"||d!=(this.g||null)||(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,u){return i=="linkViaPopup"&&u==(this.g||null)?D(this.Lb,this):i=="reauthViaPopup"&&u==(this.g||null)?D(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==u?D(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==u?D(this.Mb,this):null},e.Ec=function(i){var u=this;return gb(this,"linkViaPopup",i,function(){return Rl(u,i.providerId).then(function(){return po(u)})},!1)},e.Nc=function(i){return gb(this,"reauthViaPopup",i,function(){return ye()},!0)};function gb(i,u,c,d,v){if(!no())return ct(new k("operation-not-supported-in-this-environment"));if(i.i&&!v)return ct(i.i);var w=qd(c.providerId),E=ro(i.uid+":::"),S=null;(!Uu()||Ad())&&i.s&&c.isOAuthProvider&&(S=na(i.s,i.l,i.m,u,c,null,E,Ie.SDK_VERSION||null,null,null,i.tenantId,i.u));var j=o0(S,w&&w.va,w&&w.ua);return d=d().then(function(){if(yb(i),!v)return i.I().then(function(){})}).then(function(){return Qw(i.b,j,u,c,E,!!S,i.tenantId)}).then(function(){return new je(function(z,Ne){i.na(u,null,new k("cancelled-popup-request"),i.g||null),i.f=z,i.C=Ne,i.g=E,i.c=Jw(i.b,i,u,j,E)})}).then(function(z){return j&&to(j),z?Ar(z):null}).o(function(z){throw j&&to(j),z}),Dt(i,d,v)}e.Fc=function(i){var u=this;return vb(this,"linkViaRedirect",i,function(){return Rl(u,i.providerId)},!1)},e.Oc=function(i){return vb(this,"reauthViaRedirect",i,function(){return ye()},!0)};function vb(i,u,c,d,v){if(!no())return ct(new k("operation-not-supported-in-this-environment"));if(i.i&&!v)return ct(i.i);var w=null,E=ro(i.uid+":::");return d=d().then(function(){if(yb(i),!v)return i.I().then(function(){})}).then(function(){return i.ga=E,po(i)}).then(function(S){return i.ha&&(S=i.ha,S=S.b.set(um,i.w(),S.a)),S}).then(function(){return Yw(i.b,u,c,E,i.tenantId)}).o(function(S){if(w=S,i.ha)return wb(i.ha);throw w}).then(function(){if(w)throw w}),Dt(i,d,v)}function yb(i){if(!i.b||!i.P)throw i.b&&!i.P?new k("internal-error"):new k("auth-domain-config-required")}e.Lb=function(i,u,c,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return c=this.I().then(function(E){return mp(v.a,{requestUri:i,postBody:d,sessionId:u,idToken:E})}).then(function(E){return w=ca(v,E,"link"),mb(v,E)}).then(function(){return w}),Dt(this,c)},e.Mb=function(i,u,c,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var w=null,E=ye().then(function(){return vs(gp(v.a,{requestUri:i,sessionId:u,postBody:d,tenantId:c}),v.uid)}).then(function(S){return w=ca(v,S,"reauthenticate"),kr(v,S),v.i=null,v.reload()}).then(function(){return w});return Dt(this,E,!0)},e.vb=function(i){var u=this,c=null;return Dt(this,this.I().then(function(d){return c=d,typeof i>"u"||br(i)?{}:Yc(new Qc(i))}).then(function(d){return u.a.vb(c,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},e.Fb=function(i,u){var c=this,d=null;return Dt(this,this.I().then(function(v){return d=v,typeof u>"u"||br(u)?{}:Yc(new Qc(u))}).then(function(v){return c.a.Fb(d,i,v)}).then(function(v){if(c.email!=v)return c.reload()}).then(function(){}))};function Dt(i,u,c){var d=nx(i,u,c);return i.N.push(d),d.oa(function(){B(i.N,d)}),d.o(function(v){var w=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(w=sb(v.w(),em(i),D(i.jc,i))),w||v})}e.jc=function(i){var u=null,c=this;return i=vs(ye(i),c.uid).then(function(d){return u=ca(c,d,"reauthenticate"),kr(c,d),c.i=null,c.reload()}).then(function(){return u}),Dt(this,i,!0)};function nx(i,u,c){return i.i&&!c?(u.cancel(),ct(i.i)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new Is("userInvalidated")),i.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&qt(i,this.metadata.w()),Z(this.providerData,function(u){i.providerData.push(kN(u))}),qt(i,this.S.w()),i};function _b(i){if(!i.apiKey)return null;var u={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},c={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){c[ur]=i.stsTokenManager.accessToken,c.refreshToken=i.stsTokenManager.refreshToken||null;var d=i.stsTokenManager.expirationTime;d&&(c.expiresIn=(d-Date.now())/1e3)}else return null;var v=new Fn(u,c,i);return i.providerData&&Z(i.providerData,function(w){w&&om(v,Ar(w))}),i.redirectEventId&&(v.ga=i.redirectEventId),v}function rx(i,u,c,d){var v=new Fn(i,u);return c&&(v.ha=c),d&&ua(v,d),v.reload().then(function(){return v})}function ix(i,u,c,d){var v=i.h,w={};return w[ur]=v.b&&v.b.toString(),w.refreshToken=v.a,u=new Fn(u||{apiKey:i.l,authDomain:i.s,appName:i.m},w),c&&(u.ha=c),d&&ua(u,d),Nl(u,i),u}function ox(i){this.a=i,this.b=sa()}var um={name:"redirectUser",F:"session"};function wb(i){return Es(i.b,um,i.a)}function sx(i,u){return i.b.get(um,i.a).then(function(c){return c&&u&&(c.authDomain=u),_b(c||{})})}function am(i){this.a=i,this.b=sa(),this.c=null,this.f=ux(this),this.b.addListener(Cr("local"),this.a,D(this.g,this))}am.prototype.g=function(){var i=this,u=Cr("local");Ts(this,function(){return ye().then(function(){return i.c&&i.c.F!="local"?i.b.get(u,i.a):null}).then(function(c){if(c)return cm(i,"local").then(function(){i.c=u})})})};function cm(i,u){var c=[],d;for(d in ws)ws[d]!==u&&c.push(Es(i.b,Cr(ws[d]),i.a));return c.push(Es(i.b,lm,i.a)),QC(c)}function ux(i){var u=Cr("local"),c=Cr("session"),d=Cr("none");return EO(i.b,u,i.a).then(function(){return i.b.get(c,i.a)}).then(function(v){return v?c:i.b.get(d,i.a).then(function(w){return w?d:i.b.get(u,i.a).then(function(E){return E?u:i.b.get(lm,i.a).then(function(S){return S?Cr(S):u})})})}).then(function(v){return i.c=v,cm(i,v.F)}).o(function(){i.c||(i.c=u)})}var lm={name:"persistence",F:"session"};function Cr(i){return{name:"authUser",F:i}}am.prototype.yb=function(i){var u=null,c=this;return bO(i),Ts(this,function(){return i!=c.c.F?c.b.get(c.c,c.a).then(function(d){return u=d,cm(c,i)}).then(function(){if(c.c=Cr(i),u)return c.b.set(c.c,u,c.a)}):ye()})};function ax(i){return Ts(i,function(){return i.b.set(lm,i.c.F,i.a)})}function bb(i,u){return Ts(i,function(){return i.b.set(i.c,u.w(),i.a)})}function Eb(i){return Ts(i,function(){return Es(i.b,i.c,i.a)})}function Ib(i,u,c){return Ts(i,function(){return i.b.get(i.c,i.a).then(function(d){return d&&u&&(d.authDomain=u),d&&c&&(d.emulatorConfig=c),_b(d||{})})})}function Ts(i,u){return i.f=i.f.then(u,u),i.f}function ar(i){if(this.l=!1,me(this,"settings",new rb),me(this,"app",i),et(this).options&&et(this).options.apiKey)i=Ie.SDK_VERSION?ds(Ie.SDK_VERSION):null,this.a=new sr(et(this).options&&et(this).options.apiKey,Me(Ce),i);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Ie.INTERNAL.createSubscribe(D(this.zc,this)),this.W=void 0,this.ib=Ie.INTERNAL.createSubscribe(D(this.Ac,this)),As(this,null),this.i=new am(et(this).options.apiKey+":"+et(this).name),this.D=new ox(et(this).options.apiKey+":"+et(this).name),this.$=_t(this,px(this)),this.h=_t(this,mx(this)),this.ba=!1,this.ja=D(this.Zc,this),this.Ba=D(this.da,this),this.qa=D(this.mc,this),this.za=D(this.wc,this),this.Aa=D(this.xc,this),this.b=null,fx(this),this.INTERNAL={},this.INTERNAL.delete=D(this.delete,this),this.INTERNAL.logFramework=D(this.Gc,this),this.u=0,hn.call(this),lx(this),this.J=[],this.R=null}L(ar,hn);function Tb(i){Tn.call(this,"languageCodeChanged"),this.h=i}L(Tb,Tn);function Ab(i){Tn.call(this,"emulatorConfigChanged"),this.c=i}L(Ab,Tn);function Sb(i){Tn.call(this,"frameworkChanged"),this.f=i}L(Sb,Tn),e=ar.prototype,e.yb=function(i){return i=this.i.yb(i),_t(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,sw(this.a,this.aa),this.dispatchEvent(new Tb(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,u){if(!this.R){if(!/^https?:\/\//.test(i))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,cx(u),this.R={url:i,ec:u},this.settings.jb=!0,gl(this.a,this.R),this.dispatchEvent(new Ab(this.R))}};function cx(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&zc().then(function(){var u=f.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),f.document.body.appendChild(u)})}e.Gc=function(i){this.J.push(i),uw(this.a,Ie.SDK_VERSION?ds(Ie.SDK_VERSION,this.J):null),this.dispatchEvent(new Sb(this.J))},e.Ga=function(){return se(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function lx(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var u=An(this.R.url);u=Ar({protocol:u.c,host:u.a,port:u.g,options:Ar({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:et(this).options.apiKey,authDomain:et(this).options.authDomain,appName:et(this).name,currentUser:Le(this)&&Le(this).w()}};function fm(i){return i.Oa||ct(new k("auth-domain-config-required"))}function fx(i){var u=et(i).options.authDomain,c=et(i).options.apiKey;u&&no()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=jp(u,c,et(i).name,i.R),Tl(i.b,i),Le(i)&&aa(Le(i)),i.m){aa(i.m);var d=i.m;d.xa(i.la()),Yp(d,i),d=i.m,ua(d,i.J),Zp(d,i),d=i.m,Qp(d,i.R),Jp(d,i),i.m=null}return i.b}}))}e.Gb=function(i,u){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(i,u,c,d){i=="signInViaPopup"&&this.g==d&&(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,u){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==u&&this.f?D(this.ic,this):null},e.ic=function(i,u,c,d){var v=this,w={requestUri:i,postBody:d,sessionId:u,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return mo(v,pp(v.a,w))})},e.Xc=function(i){if(!no())return ct(new k("operation-not-supported-in-this-environment"));var u=this,c=qd(i.providerId),d=ro(),v=null;(!Uu()||Ad())&&et(this).options.authDomain&&i.isOAuthProvider&&(v=na(et(this).options.authDomain,et(this).options.apiKey,et(this).name,"signInViaPopup",i,null,d,Ie.SDK_VERSION||null,null,null,this.T(),this.R));var w=o0(v,c&&c.va,c&&c.ua);return c=fm(this).then(function(E){return Qw(E,w,"signInViaPopup",i,d,!!v,u.T())}).then(function(){return new je(function(E,S){u.na("signInViaPopup",null,new k("cancelled-popup-request"),u.g),u.f=E,u.C=S,u.g=d,u.c=Jw(u.b,u,"signInViaPopup",w,d)})}).then(function(E){return w&&to(w),E?Ar(E):null}).o(function(E){throw w&&to(w),E}),_t(this,c)},e.Yc=function(i){if(!no())return ct(new k("operation-not-supported-in-this-environment"));var u=this,c=fm(this).then(function(){return ax(u.i)}).then(function(){return Yw(u.b,"signInViaRedirect",i,void 0,u.T())});return _t(this,c)};function kb(i){if(!no())return ct(new k("operation-not-supported-in-this-environment"));var u=fm(i).then(function(){return i.b.ra()}).then(function(c){return c?Ar(c):null});return _t(i,u)}e.ra=function(){var i=this;return kb(this).then(function(u){return i.b&&Sl(i.b.b),u}).o(function(u){throw i.b&&Sl(i.b.b),u})},e.dd=function(i){if(!i)return ct(new k("null-user"));if(this.S!=i.tenantId)return ct(new k("tenant-id-mismatch"));var u=this,c={};c.apiKey=et(this).options.apiKey,c.authDomain=et(this).options.authDomain,c.appName=et(this).name;var d=ix(i,c,u.D,u.Ga());return _t(this,this.h.then(function(){if(et(u).options.apiKey!=i.l)return d.reload()}).then(function(){return Le(u)&&i.uid==Le(u).uid?(Nl(Le(u),i),u.da(i)):(As(u,d),aa(d),u.da(d))}).then(function(){la(u)}))};function hx(i,u){var c={};return c.apiKey=et(i).options.apiKey,c.authDomain=et(i).options.authDomain,c.appName=et(i).name,i.R&&(c.emulatorConfig=i.R),i.$.then(function(){return rx(c,u,i.D,i.Ga())}).then(function(d){return Le(i)&&d.uid==Le(i).uid?(Nl(Le(i),d),i.da(d)):(As(i,d),aa(d),i.da(d))}).then(function(){la(i)})}function As(i,u){Le(i)&&(ZO(Le(i),i.Ba),Ln(Le(i),"tokenChanged",i.qa),Ln(Le(i),"userDeleted",i.za),Ln(Le(i),"userInvalidated",i.Aa),tm(Le(i))),u&&(u.W.push(i.Ba),zn(u,"tokenChanged",i.qa),zn(u,"userDeleted",i.za),zn(u,"userInvalidated",i.Aa),0<i.u&&fb(u)),me(i,"currentUser",u),u&&(u.xa(i.la()),Yp(u,i),ua(u,i.J),Zp(u,i),Qp(u,i.R),Jp(u,i))}e.Bb=function(){var i=this,u=this.h.then(function(){return i.b&&Sl(i.b.b),Le(i)?(As(i,null),Eb(i.i).then(function(){la(i)})):ye()});return _t(this,u)};function dx(i){var u=sx(i.D,et(i).options.authDomain).then(function(c){return(i.m=c)&&(c.ha=i.D),wb(i.D)});return _t(i,u)}function px(i){var u=et(i).options.authDomain,c=dx(i).then(function(){return Ib(i.i,u,i.R)}).then(function(d){return d?(d.ha=i.D,i.m&&(i.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return bb(i.i,d).then(function(){return d})}).o(function(v){return v.code=="auth/network-request-failed"?d:Eb(i.i)})):null}).then(function(d){As(i,d||null)});return _t(i,c)}function mx(i){return i.$.then(function(){return kb(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var u=i.i;u.b.addListener(Cr("local"),u.a,i.ja)}})}e.Zc=function(){var i=this;return Ib(this.i,et(this).options.authDomain).then(function(u){if(!i.l){var c;if(c=Le(i)&&u){c=Le(i).uid;var d=u.uid;c=c==null||c===""||d===void 0||d===null||d===""?!1:c==d}if(c)return Nl(Le(i),u),Le(i).I();(Le(i)||u)&&(As(i,u),u&&(aa(u),u.ha=i.D),i.b&&Tl(i.b,i),la(i))}})},e.da=function(i){return bb(this.i,i)},e.mc=function(){la(this),this.da(Le(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function mo(i,u){var c=null,d=null;return _t(i,u.then(function(v){return c=Wd(v),d=O0(v),hx(i,v)},function(v){var w=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(w=sb(v.w(),i,D(i.kc,i))),w||v}).then(function(){return Ar({user:Le(i),credential:c,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(i){var u=this;return this.h.then(function(){return mo(u,ye(i))})},e.zc=function(i){var u=this;this.addAuthTokenListener(function(){i.next(Le(u))})},e.Ac=function(i){var u=this;gx(this,function(){i.next(Le(u))})},e.Ic=function(i,u,c){var d=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(Le(d)):typeof i.next=="function"&&i.next(Le(d))}),this.Pa(i,u,c)},e.Hc=function(i,u,c){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof i=="function"?i(Le(d)):typeof i.next=="function"&&i.next(Le(d))}),this.ib(i,u,c)},e.nc=function(i){var u=this,c=this.h.then(function(){return Le(u)?Le(u).I(i).then(function(d){return{accessToken:d}}):null});return _t(this,c)},e.Tc=function(i){var u=this;return this.h.then(function(){return mo(u,Be(u.a,QR,{token:i}))}).then(function(c){var d=c.user;return mi(d,"isAnonymous",!1),u.da(d),c})},e.Uc=function(i,u){var c=this;return this.h.then(function(){return mo(c,Be(c.a,gw,{email:i,password:u}))})},e.dc=function(i,u){var c=this;return this.h.then(function(){return mo(c,Be(c.a,kR,{email:i,password:u}))})},e.ab=function(i){var u=this;return this.h.then(function(){return mo(u,i.ka(u.a))})},e.Sc=function(i){return Nd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var u=Le(i);if(u&&u.isAnonymous){var c=Ar({providerId:null,isNewUser:!1});return Ar({user:u,credential:null,additionalUserInfo:c,operationType:"signIn"})}return mo(i,i.a.Ab()).then(function(d){var v=d.user;return mi(v,"isAnonymous",!0),i.da(v),d})})};function et(i){return i.app}function Le(i){return i.currentUser}e.getUid=function(){return Le(this)&&Le(this).uid||null};function Ol(i){return Le(i)&&Le(i)._lat||null}function la(i){if(i.ba){for(var u=0;u<i.s.length;u++)i.s[u]&&i.s[u](Ol(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),u=0;u<i.N.length;u++)i.N[u]&&i.N[u](Ol(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&Le(this)&&fb(Le(this))},e.Pc=function(i){var u=this;Z(this.s,function(c){c==i&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Le(this)&&tm(Le(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var u=this;this.s.push(i),_t(this,this.h.then(function(){u.l||M(u.s,i)&&i(Ol(u))}))},e.removeAuthTokenListener=function(i){H(this.s,function(u){return u==i})};function gx(i,u){i.N.push(u),_t(i,i.h.then(function(){!i.l&&M(i.N,u)&&i.W!==i.getUid()&&(i.W=i.getUid(),u(Ol(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(Cr("local"),i.a,this.ja)),this.b&&(Fp(this.b,this),Sl(this.b.b)),Promise.resolve()};function _t(i,u){return i.P.push(u),u.oa(function(){B(i.P,u)}),u}e.hc=function(i){return _t(this,yR(this.a,i))},e.Bc=function(i){return!!zd(i)},e.xb=function(i,u){var c=this;return _t(this,ye().then(function(){var d=new Qc(u);if(!d.c)throw new k("argument-error",jd+" must be true when sending sign in link to email");return Yc(d)}).then(function(d){return c.a.xb(i,d)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(u){return u.data.email})},e.ob=function(i,u){return _t(this,this.a.ob(i,u).then(function(){}))},e.Sa=function(i){return _t(this,this.a.Sa(i).then(function(u){return new NN(u)}))},e.kb=function(i){return _t(this,this.a.kb(i).then(function(){}))},e.wb=function(i,u){var c=this;return _t(this,ye().then(function(){return typeof u>"u"||br(u)?{}:Yc(new Qc(u))}).then(function(d){return c.a.wb(i,d)}).then(function(){}))},e.Wc=function(i,u){return _t(this,qp(this,i,u,D(this.ab,this)))},e.Vc=function(i,u){var c=this;return _t(this,ye().then(function(){var d=u||Vu(),v=$0(i,d);if(d=zd(d),!d)throw new k("argument-error","Invalid email link!");if(d.tenantId!==c.T())throw new k("tenant-id-mismatch");return c.ab(v)}))};function fa(){}fa.prototype.render=function(){},fa.prototype.reset=function(){},fa.prototype.getResponse=function(){},fa.prototype.execute=function(){};function Ss(){this.a={},this.b=1e12}var hm=null;Ss.prototype.render=function(i,u){return this.a[this.b.toString()]=new xl(i,u),this.b++},Ss.prototype.reset=function(i){var u=dm(this,i);i=Cb(i),u&&i&&(u.delete(),delete this.a[i])},Ss.prototype.getResponse=function(i){return(i=dm(this,i))?i.getResponse():null},Ss.prototype.execute=function(i){(i=dm(this,i))&&i.execute()};function dm(i,u){return(u=Cb(u))&&i.a[u]||null}function Cb(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function xl(i,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Ou(i);var c=this;this.i=function(){c.execute()},this.h?this.execute():zn(this.f,"click",this.i)}xl.prototype.getResponse=function(){return pm(this),this.b},xl.prototype.execute=function(){pm(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=IN();var u=i.c.callback,c=i.c["expired-callback"];if(u)try{u(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,c)try{c()}catch{}i.h&&i.execute()},6e4)},500))},xl.prototype.delete=function(){pm(this),this.g=!0,clearTimeout(this.a),this.a=null,Ln(this.f,"click",this.i)};function pm(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function mm(){}me(mm,"FACTOR_ID","phone");function gm(){}gm.prototype.g=function(){return hm||(hm=new Ss),ye(hm)},gm.prototype.c=function(){};var vm=null;function ym(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var vx=new Er(Dc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),yx=new hi(3e4,6e4);ym.prototype.g=function(i){var u=this;return new je(function(c,d){var v=setTimeout(function(){d(new k("network-request-failed"))},yx.get());if(!f.grecaptcha||i!==u.f&&!u.b){f[u.a]=function(){if(f.grecaptcha){u.f=i;var E=f.grecaptcha.render;f.grecaptcha.render=function(S,j){return S=E(S,j),u.b++,S},clearTimeout(v),c(f.grecaptcha)}else clearTimeout(v),d(new k("internal-error"));delete f[u.a]};var w=Zh(vx,{onload:u.a,hl:i||""});ye(up(w)).o(function(){clearTimeout(v),d(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),c(f.grecaptcha)})},ym.prototype.c=function(){this.b--};var _m=null;function wm(i,u,c,d,v,w,E){if(me(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,E?(vm||(vm=new gm),E=vm):(_m||(_m=new ym),E=_m),this.m=E,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[Ob])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[_x]==="invisible",!f.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Ou(u)||!this.i&&Ou(u).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new sr(i,w||null,v||null),this.u=d||function(){return null};var S=this;this.l=[];var j=this.a[Nb];this.a[Nb]=function(Ne){if(xb(S,Ne),typeof j=="function")j(Ne);else if(typeof j=="string"){var Je=lt(j,f);typeof Je=="function"&&Je(Ne)}};var z=this.a[Rb];this.a[Rb]=function(){if(xb(S,null),typeof z=="function")z();else if(typeof z=="string"){var Ne=lt(z,f);typeof Ne=="function"&&Ne()}}}var Nb="callback",Rb="expired-callback",Ob="sitekey",_x="size";function xb(i,u){for(var c=0;c<i.l.length;c++)try{i.l[c](u)}catch{}}function wx(i,u){H(i.l,function(c){return c==u})}function bm(i,u){return i.h.push(u),u.oa(function(){B(i.h,u)}),u}e=wm.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=bm(this,ye().then(function(){if(Wc()&&!ir())return zc();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(u){return i.g=u,Be(i.s,BR,{})}).then(function(u){i.a[Ob]=u.recaptchaSiteKey}).o(function(u){throw i.f=null,u}))},e.render=function(){Pl(this);var i=this;return bm(this,this.Ia().then(function(){if(i.c===null){var u=i.v;if(!i.i){var c=Ou(u);u=GC("DIV"),c.appendChild(u)}i.c=i.g.render(u,i.a)}return i.c}))},e.verify=function(){Pl(this);var i=this;return bm(this,this.render().then(function(u){return new je(function(c){var d=i.g.getResponse(u);if(d)c(d);else{var v=function(w){w&&(wx(i,v),c(w))};i.l.push(v),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){Pl(this),this.c!==null&&this.g.reset(this.c)};function Pl(i){if(i.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Pl(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=Ou(this.v);for(var u;u=i.firstChild;)i.removeChild(u)}};function Em(i,u,c){var d=!1;try{this.b=c||Ie.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new k("invalid-api-key");var v=this,w=null;try{w=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=Ie.SDK_VERSION?ds(Ie.SDK_VERSION,w):null,wm.call(this,c,i,u,function(){try{var E=v.b.auth().la()}catch{E=null}return E},w,Me(Ce),d)}L(Em,wm);function Pb(i,u,c,d){e:{c=Array.prototype.slice.call(c);for(var v=0,w=!1,E=0;E<u.length;E++)if(u[E].optional)w=!0;else{if(w)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(w=u.length,c.length<v||w<c.length)d="Expected "+(v==w?v==1?"1 argument":v+" arguments":v+"-"+w+" arguments")+" but got "+c.length+".";else{for(v=0;v<c.length;v++)if(w=u[v].optional&&c[v]===void 0,!u[v].M(c[v])&&!w){if(u=u[v],0>v||v>=Db.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");c=Db[v],d=(d?"":c+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new k("argument-error",i+" failed: "+d)}var Db="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function pe(i,u){return{name:i||"",K:"a valid string",optional:!!u,M:function(c){return typeof c=="string"}}}function Im(i,u){return{name:i||"",K:"a boolean",optional:!!u,M:function(c){return typeof c=="boolean"}}}function St(i,u){return{name:i||"",K:"a valid object",optional:!!u,M:T}}function ks(i,u){return{name:i||"",K:"a function",optional:!!u,M:function(c){return typeof c=="function"}}}function Nr(i,u){return{name:i||"",K:"null",optional:!!u,M:function(c){return c===null}}}function bx(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function Ex(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof ar)}}}function Ix(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof Ie.app.App)}}}function gi(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var c=!i||u.providerId===i;return!(!u.ka||!c)}}}function Lb(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function Cs(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function Tm(i,u){return T(i)&&typeof i.type=="string"&&i.type===u&&typeof i.Ha=="function"}function Mb(i){return T(i)&&typeof i.uid=="string"}function Dl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function It(i,u,c,d){return{name:c||"",K:i.K+" or "+u.K,optional:!!d,M:function(v){return i.M(v)||u.M(v)}}}function mt(i,u){for(var c in u){var d=u[c].name;i[d]=Vb(d,i[c],u[c].j)}}function Fb(i,u){for(var c in u){var d=u[c].name;d!==c&&Object.defineProperty(i,d,{get:q(function(v){return this[v]},c),set:q(function(v,w,E,S){Pb(v,[E],[S],!0),this[w]=S},d,c,u[c].lb),enumerable:!0})}}function Tt(i,u,c,d){i[u]=Vb(u,c,d)}function Vb(i,u,c){function d(){var E=Array.prototype.slice.call(arguments);return Pb(v,c,E),u.apply(this,E)}if(!c)return u;var v=Tx(i),w;for(w in u)d[w]=u[w];for(w in u.prototype)d.prototype[w]=u.prototype[w];return d}function Tx(i){return i=i.split("."),i[i.length-1]}mt(ar.prototype,{kb:{name:"applyActionCode",j:[pe("code")]},Sa:{name:"checkActionCode",j:[pe("code")]},ob:{name:"confirmPasswordReset",j:[pe("code"),pe("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[pe("email"),pe("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[pe("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[pe("emailLink")]},Hc:{name:"onAuthStateChanged",j:[It(St(),ks(),"nextOrObserver"),ks("opt_error",!0),ks("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[It(St(),ks(),"nextOrObserver"),ks("opt_error",!0),ks("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[pe("email"),It(St("opt_actionCodeSettings",!0),Nr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[pe("email"),St("actionCodeSettings")]},yb:{name:"setPersistence",j:[pe("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[gi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[gi()]},Tc:{name:"signInWithCustomToken",j:[pe("token")]},Uc:{name:"signInWithEmailAndPassword",j:[pe("email"),pe("password")]},Vc:{name:"signInWithEmailLink",j:[pe("email"),pe("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[pe("phoneNumber"),Dl()]},Xc:{name:"signInWithPopup",j:[Cs()]},Yc:{name:"signInWithRedirect",j:[Cs()]},dd:{name:"updateCurrentUser",j:[It(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(u){return!!(u&&u instanceof Fn)}}}(),Nr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[pe(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[pe("url"),St("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[pe("code")]}}),Fb(ar.prototype,{lc:{name:"languageCode",lb:It(pe(),Nr(),"languageCode")},ti:{name:"tenantId",lb:It(pe(),Nr(),"tenantId")}}),ar.Persistence=ws,ar.Persistence.LOCAL="local",ar.Persistence.SESSION="session",ar.Persistence.NONE="none",mt(Fn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Im("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Im("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[gi()]},rb:{name:"linkWithCredential",j:[gi()]},Dc:{name:"linkWithPhoneNumber",j:[pe("phoneNumber"),Dl()]},Ec:{name:"linkWithPopup",j:[Cs()]},Fc:{name:"linkWithRedirect",j:[Cs()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[gi()]},ub:{name:"reauthenticateWithCredential",j:[gi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[pe("phoneNumber"),Dl()]},Nc:{name:"reauthenticateWithPopup",j:[Cs()]},Oc:{name:"reauthenticateWithRedirect",j:[Cs()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[It(St("opt_actionCodeSettings",!0),Nr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[pe(null,!0)]},cd:{name:"unlink",j:[pe("provider")]},Cb:{name:"updateEmail",j:[pe("email")]},Db:{name:"updatePassword",j:[pe("password")]},ed:{name:"updatePhoneNumber",j:[gi("phone")]},Eb:{name:"updateProfile",j:[St("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[pe("email"),It(St("opt_actionCodeSettings",!0),Nr(null,!0),"opt_actionCodeSettings",!0)]}}),mt(Ss.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),mt(fa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),mt(je.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Fb(rb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Im("appVerificationDisabledForTesting")}}),mt(Bp.prototype,{confirm:{name:"confirm",j:[pe("verificationCode")]}}),Tt(gs,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var u,c=[zN,WN,XN,GN],d=0;d<c.length;d++)if(u=c[d](i))return u;return null},[It(pe(),St(),"json")]),Tt(Xn,"credential",function(i,u){return new di(i,u)},[pe("email"),pe("password")]),mt(di.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),mt(so.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[St("customOAuthParameters")]}}),Tt(so,"credential",U0,[It(pe(),St(),"token")]),Tt(Xn,"credentialWithLink",$0,[pe("email"),pe("emailLink")]),mt(uo.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[St("customOAuthParameters")]}}),Tt(uo,"credential",j0,[It(pe(),St(),"token")]),mt(ao.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[St("customOAuthParameters")]}}),Tt(ao,"credential",B0,[It(pe(),It(St(),Nr()),"idToken"),It(pe(),Nr(),"accessToken",!0)]),mt(ys.prototype,{Ka:{name:"setCustomParameters",j:[St("customOAuthParameters")]}}),Tt(ys,"credential",q0,[It(pe(),St(),"token"),pe("secret",!0)]),mt(Mn.prototype,{Ca:{name:"addScope",j:[pe("scope")]},credential:{name:"credential",j:[It(pe(),It(St(),Nr()),"optionsOrIdToken"),It(pe(),Nr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[St("customOAuthParameters")]}}),mt($r.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),mt(io.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),Tt(Hr,"credential",H0,[pe("verificationId"),pe("verificationCode")]),mt(Hr.prototype,{gb:{name:"verifyPhoneNumber",j:[It(pe(),function(i,u){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(c){return c?c.session&&c.phoneNumber?Tm(c.session,Ku)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Tm(c.session,nl)&&Mb(c.multiFactorHint):c.session&&c.multiFactorUid?Tm(c.session,nl)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Dl()]}}),mt(pi.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),mt(k.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),mt(zu.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),mt(Yd.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),mt(Hp.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),mt($p.prototype,{Rc:{name:"resolveSignIn",j:[Lb()]}}),mt(Gp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Lb(),pe("displayName",!0)]},bd:{name:"unenroll",j:[It({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Mb},pe(),"multiFactorInfoIdentifier")]}}),mt(Em.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Tt(Ud,"parseLink",b0,[pe("link")]),Tt(mm,"assertion",function(i){return new ab(i)},[gi("phone")]),function(){if(typeof Ie<"u"&&Ie.INTERNAL&&Ie.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Xc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Vd,VERIFY_AND_CHANGE_EMAIL:$u,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ar,AuthCredential:gs,Error:k};Tt(i,"EmailAuthProvider",Xn,[]),Tt(i,"FacebookAuthProvider",so,[]),Tt(i,"GithubAuthProvider",uo,[]),Tt(i,"GoogleAuthProvider",ao,[]),Tt(i,"TwitterAuthProvider",ys,[]),Tt(i,"OAuthProvider",Mn,[pe("providerId")]),Tt(i,"SAMLAuthProvider",V0,[pe("providerId")]),Tt(i,"PhoneAuthProvider",Hr,[Ex()]),Tt(i,"RecaptchaVerifier",Em,[It(pe(),bx(),"recaptchaContainer"),St("recaptchaParameters",!0),Ix()]),Tt(i,"ActionCodeURL",Ud,[]),Tt(i,"PhoneMultiFactorGenerator",mm,[]),Ie.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new ar(u)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),Ie.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:D(u.getUid,u),getToken:D(u.nc,u),addAuthTokenListener:D(u.cc,u),removeAuthTokenListener:D(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ie.registerVersion("@firebase/auth","0.16.8"),Ie.INTERNAL.extendNamespace({User:Fn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _g=function(e,t){return _g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},_g(e,t)};function oM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_g(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function WA(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var sM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de,Dv=Dv||{},Re=sM||self;function Ef(){}function wg(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function fc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function uM(e){return Object.prototype.hasOwnProperty.call(e,Dm)&&e[Dm]||(e[Dm]=++aM)}var Dm="closure_uid_"+(1e9*Math.random()>>>0),aM=0;function cM(e,t,n){return e.call.apply(e.bind,arguments)}function lM(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Wt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wt=cM:Wt=lM,Wt.apply(null,arguments)}function Bl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Yt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(r,a)}}function $i(){this.s=this.s,this.o=this.o}var fM=0;$i.prototype.s=!1;$i.prototype.na=function(){!this.s&&(this.s=!0,this.M(),fM!=0)&&uM(this)};$i.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var XA=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},QA=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function hM(e){e:{for(var t=rF,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function SE(e){return Array.prototype.concat.apply([],arguments)}function Lv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function If(e){return/^[\s\xa0]*$/.test(e)}var kE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function _n(e,t){return e.indexOf(t)!=-1}function Lm(e,t){return e<t?-1:e>t?1:0}var wn;e:{var CE=Re.navigator;if(CE){var NE=CE.userAgent;if(NE){wn=NE;break e}}wn=""}function Mv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function YA(e){var t={};for(var n in e)t[n]=e[n];return t}var RE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JA(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<RE.length;s++)n=RE[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fv(e){return Fv[" "](e),e}Fv[" "]=Ef;function dM(e){var t=gM;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var pM=_n(wn,"Opera"),Js=_n(wn,"Trident")||_n(wn,"MSIE"),ZA=_n(wn,"Edge"),bg=ZA||Js,eS=_n(wn,"Gecko")&&!(_n(wn.toLowerCase(),"webkit")&&!_n(wn,"Edge"))&&!(_n(wn,"Trident")||_n(wn,"MSIE"))&&!_n(wn,"Edge"),mM=_n(wn.toLowerCase(),"webkit")&&!_n(wn,"Edge");function tS(){var e=Re.document;return e?e.documentMode:void 0}var Tf;e:{var Mm="",Fm=function(){var e=wn;if(eS)return/rv:([^\);]+)(\)|;)/.exec(e);if(ZA)return/Edge\/([\d\.]+)/.exec(e);if(Js)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(mM)return/WebKit\/(\S+)/.exec(e);if(pM)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Fm&&(Mm=Fm?Fm[1]:""),Js){var Vm=tS();if(Vm!=null&&Vm>parseFloat(Mm)){Tf=String(Vm);break e}}Tf=Mm}var gM={};function vM(){return dM(function(){for(var e=0,t=kE(String(Tf)).split("."),n=kE("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",a=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=Lm(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||Lm(s[2].length==0,a[2].length==0)||Lm(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var Eg;if(Re.document&&Js){var OE=tS();Eg=OE||parseInt(Tf,10)||void 0}else Eg=void 0;var yM=Eg,_M=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Re.addEventListener("test",Ef,t),Re.removeEventListener("test",Ef,t)}catch{}return e}();function an(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}an.prototype.h=function(){this.defaultPrevented=!0};function Ha(e,t){if(an.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(eS){e:{try{Fv(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:wM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ha.Z.h.call(this)}}Yt(Ha,an);var wM={2:"touch",3:"pen",4:"mouse"};Ha.prototype.h=function(){Ha.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hc="closure_listenable_"+(1e6*Math.random()|0),bM=0;function EM(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++bM,this.ca=this.fa=!1}function dh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ph(e){this.src=e,this.g={},this.h=0}ph.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=Tg(e,t,r,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new EM(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function Ig(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=XA(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(dh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Tg(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var Vv="closure_lm_"+(1e6*Math.random()|0),Um={};function nS(e,t,n,r,o){if(r&&r.once)return iS(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)nS(e,t[s],n,r,o);return null}return n=Bv(n),e&&e[hc]?e.N(t,n,fc(r)?!!r.capture:!!r,o):rS(e,t,n,!1,r,o)}function rS(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var a=fc(o)?!!o.capture:!!o,l=jv(e);if(l||(e[Vv]=l=new ph(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=IM(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_M||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(sS(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function IM(){function e(n){return t.call(e.src,e.listener,n)}var t=TM;return e}function iS(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)iS(e,t[s],n,r,o);return null}return n=Bv(n),e&&e[hc]?e.O(t,n,fc(r)?!!r.capture:!!r,o):rS(e,t,n,!0,r,o)}function oS(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)oS(e,t[s],n,r,o);else r=fc(r)?!!r.capture:!!r,n=Bv(n),e&&e[hc]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Tg(s,n,r,o),-1<n&&(dh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=jv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Tg(t,n,r,o)),(n=-1<e?t[e]:null)&&Uv(n))}function Uv(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[hc])Ig(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(sS(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=jv(t))?(Ig(n,e),n.h==0&&(n.src=null,t[Vv]=null)):dh(e)}}}function sS(e){return e in Um?Um[e]:Um[e]="on"+e}function TM(e,t){if(e.ca)e=!0;else{t=new Ha(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Uv(e),e=n.call(r,t)}return e}function jv(e){return e=e[Vv],e instanceof ph?e:null}var jm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bv(e){return typeof e=="function"?e:(e[jm]||(e[jm]=function(t){return e.handleEvent(t)}),e[jm])}function Bt(){$i.call(this),this.i=new ph(this),this.P=this,this.I=null}Yt(Bt,$i);Bt.prototype[hc]=!0;Bt.prototype.removeEventListener=function(e,t,n,r){oS(this,e,t,n,r)};function Xt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new an(t,e);else if(t instanceof an)t.target=t.target||e;else{var o=t;t=new an(r,e),JA(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];o=ql(a,r,!0,t)&&o}if(a=t.g=e,o=ql(a,r,!0,t)&&o,o=ql(a,r,!1,t)&&o,n)for(s=0;s<n.length;s++)a=t.g=n[s],o=ql(a,r,!1,t)&&o}Bt.prototype.M=function(){if(Bt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)dh(n[r]);delete e.g[t],e.h--}}this.I=null};Bt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Bt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ql(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&Ig(e.i,a),o=l.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var qv=Re.JSON.stringify;function AM(){var e=aS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var SM=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=uS.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),uS=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new kM},function(e){return e.reset()}),kM=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function CM(e){Re.setTimeout(function(){throw e},0)}function $v(e,t){Ag||NM(),Sg||(Ag(),Sg=!0),aS.add(e,t)}var Ag;function NM(){var e=Re.Promise.resolve(void 0);Ag=function(){e.then(RM)}}var Sg=!1,aS=new SM;function RM(){for(var e;e=AM();){try{e.h.call(e.g)}catch(n){CM(n)}var t=uS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Sg=!1}function mh(e,t){Bt.call(this),this.h=e||1,this.g=t||Re,this.j=Wt(this.kb,this),this.l=Date.now()}Yt(mh,Bt);de=mh.prototype;de.da=!1;de.S=null;de.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xt(this,"tick"),this.da&&(Hv(this),this.start()))}};de.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Hv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}de.M=function(){mh.Z.M.call(this),Hv(this),delete this.g};function Kv(e,t,n){if(typeof e=="function")n&&(e=Wt(e,n));else if(e&&typeof e.handleEvent=="function")e=Wt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Re.setTimeout(e,t||0)}function cS(e){e.g=Kv(function(){e.g=null,e.i&&(e.i=!1,cS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var OM=function(e){oM(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:cS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}($i);function Ka(e){$i.call(this),this.h=e,this.g={}}Yt(Ka,$i);var xE=[];function lS(e,t,n,r){Array.isArray(n)||(n&&(xE[0]=n.toString()),n=xE);for(var o=0;o<n.length;o++){var s=nS(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function fS(e){Mv(e.g,function(t,n){this.g.hasOwnProperty(n)&&Uv(t)},e),e.g={}}Ka.prototype.M=function(){Ka.Z.M.call(this),fS(this)};Ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gh(){this.g=!0}gh.prototype.Aa=function(){this.g=!1};function xM(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),f=0;f<l.length;f++){var p=l[f].split("=");if(1<p.length){var g=p[0];p=p[1];var h=g.split("_");a=2<=h.length&&h[1]=="type"?a+(g+"="+p+"&"):a+(g+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function PM(e,t,n,r,o,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+a})}function Us(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+LM(e,n)+(r?" "+r:"")})}function DM(e,t){e.info(function(){return"TIMEOUT: "+t})}gh.prototype.info=function(){};function LM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return qv(n)}catch{return t}}var Jo={},PE=null;function vh(){return PE=PE||new Bt}Jo.Ma="serverreachability";function hS(e){an.call(this,Jo.Ma,e)}Yt(hS,an);function Ga(e){var t=vh();Xt(t,new hS(t))}Jo.STAT_EVENT="statevent";function dS(e,t){an.call(this,Jo.STAT_EVENT,e),this.stat=t}Yt(dS,an);function bn(e){var t=vh();Xt(t,new dS(t,e))}Jo.Na="timingevent";function pS(e,t){an.call(this,Jo.Na,e),this.size=t}Yt(pS,an);function dc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){e()},t)}var yh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Gv(){}Gv.prototype.h=null;function DE(e){return e.h||(e.h=e.i())}function gS(){}var pc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zv(){an.call(this,"d")}Yt(zv,an);function Wv(){an.call(this,"c")}Yt(Wv,an);var kg;function _h(){}Yt(_h,Gv);_h.prototype.g=function(){return new XMLHttpRequest};_h.prototype.i=function(){return{}};kg=new _h;function mc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ka(this),this.P=MM,e=bg?125:void 0,this.W=new mh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vS}function vS(){this.i=null,this.g="",this.h=!1}var MM=45e3,Cg={},Af={};de=mc.prototype;de.setTimeout=function(e){this.P=e};function Ng(e,t,n){e.K=1,e.v=bh(ri(t)),e.s=n,e.U=!0,yS(e,null)}function yS(e,t){e.F=Date.now(),gc(e),e.A=ri(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),AS(n.h,"t",r),e.C=0,n=e.l.H,e.h=new vS,e.g=KS(e.l,n?t:null,!e.s),0<e.O&&(e.L=new OM(Wt(e.Ia,e,e.g),e.O)),lS(e.V,e.g,"readystatechange",e.gb),t=e.H?YA(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ga(),xM(e.j,e.u,e.A,e.m,e.X,e.s)}de.gb=function(e){e=e.target;var t=this.L;t&&Xr(e)==3?t.l():this.Ia(e)};de.Ia=function(e){try{if(e==this.g)e:{var t=Xr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||bg||this.g&&(this.h.h||this.g.ga()||VE(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Ga(3):Ga(2)),wh(this);var o=this.g.ba();this.N=o;t:if(_S(this)){var s=VE(this.g);e="";var a=s.length,l=Xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){No(this),Ta(this);var f="";break t}this.h.i=new Re.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,PM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var p,g=this.g;if((p=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!If(p)){var h=p;break t}}h=null}if(o=h)Us(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rg(this,o);else{this.i=!1,this.o=3,bn(12),No(this),Ta(this);break e}}this.U?(wS(this,t,f),bg&&this.i&&t==3&&(lS(this.V,this.W,"tick",this.fb),this.W.start())):(Us(this.j,this.m,f,null),Rg(this,f)),t==4&&No(this),this.i&&!this.I&&(t==4?BS(this.l,this):(this.i=!1,gc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,bn(12)):(this.o=0,bn(13)),No(this),Ta(this)}}}catch{}finally{}};function _S(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function wS(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=FM(e,n),o==Af){t==4&&(e.o=4,bn(14),r=!1),Us(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Cg){e.o=4,bn(15),Us(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Us(e.j,e.m,o,null),Rg(e,o);_S(e)&&o!=Af&&o!=Cg&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,bn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ry(t),t.L=!0,bn(11))):(Us(e.j,e.m,n,"[Invalid Chunked Response]"),No(e),Ta(e))}de.fb=function(){if(this.g){var e=Xr(this.g),t=this.g.ga();this.C<t.length&&(wh(this),wS(this,e,t),this.i&&e!=4&&gc(this))}};function FM(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Af:(n=Number(t.substring(n,r)),isNaN(n)?Cg:(r+=1,r+n>t.length?Af:(t=t.substr(r,n),e.C=r+n,t)))}de.cancel=function(){this.I=!0,No(this)};function gc(e){e.Y=Date.now()+e.P,bS(e,e.P)}function bS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=dc(Wt(e.eb,e),t)}function wh(e){e.B&&(Re.clearTimeout(e.B),e.B=null)}de.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(DM(this.j,this.A),this.K!=2&&(Ga(),bn(17)),No(this),this.o=2,Ta(this)):bS(this,this.Y-e)};function Ta(e){e.l.G==0||e.I||BS(e.l,e)}function No(e){wh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Hv(e.W),fS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Rg(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Og(n.i,e))){if(n.I=e.N,!e.J&&Og(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Nf(n),Th(n);else break e;ny(n),bn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=dc(Wt(n.ab,n),6e3));if(1>=CS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Ro(n,11)}else if((e.J||n.g==e)&&Nf(n),!If(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var p=e.g;if(p){var g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var h=r.i;!h.g&&(_n(g,"spdy")||_n(g,"quic")||_n(g,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Yv(h,h.h),h.h=null))}if(r.D){var m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,ht(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=HS(r,r.H?r.la:null,r.W),y.J){NS(r.i,y);var _=y,b=r.K;b&&_.setTimeout(b),_.B&&(wh(_),gc(_)),r.g=y}else US(r);0<n.l.length&&Ah(n)}else s[0]!="stop"&&s[0]!="close"||Ro(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Ro(n,7):ty(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Ga(4)}catch{}}function VM(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(wg(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Xv(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(wg(e)||typeof e=="string")QA(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(wg(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=VM(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function wu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof wu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}de=wu.prototype;de.R=function(){Qv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};de.T=function(){return Qv(this),this.g.concat()};function Qv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];qo(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],qo(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}de.get=function(e,t){return qo(this.h,e)?this.h[e]:t};de.set=function(e,t){qo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};de.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function qo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ES=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function UM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function $o(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof $o){this.g=t!==void 0?t:e.g,Sf(this,e.j),this.s=e.s,kf(this,e.i),Cf(this,e.m),this.l=e.l,t=e.h;var n=new za;n.i=t.i,t.g&&(n.g=new wu(t.g),n.h=t.h),LE(this,n),this.o=e.o}else e&&(n=String(e).match(ES))?(this.g=!!t,Sf(this,n[1]||"",!0),this.s=Aa(n[2]||""),kf(this,n[3]||"",!0),Cf(this,n[4]),this.l=Aa(n[5]||"",!0),LE(this,n[6]||"",!0),this.o=Aa(n[7]||"")):(this.g=!!t,this.h=new za(null,this.g))}$o.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ya(t,ME,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ya(t,ME,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(ya(n,n.charAt(0)=="/"?HM:$M,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ya(n,GM)),e.join("")};function ri(e){return new $o(e)}function Sf(e,t,n){e.j=n?Aa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function kf(e,t,n){e.i=n?Aa(t,!0):t}function Cf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function LE(e,t,n){t instanceof za?(e.h=t,zM(e.h,e.g)):(n||(t=ya(t,KM)),e.h=new za(t,e.g))}function ht(e,t,n){e.h.set(t,n)}function bh(e){return ht(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function jM(e){return e instanceof $o?ri(e):new $o(e,void 0)}function BM(e,t,n,r){var o=new $o(null,void 0);return e&&Sf(o,e),t&&kf(o,t),n&&Cf(o,n),r&&(o.l=r),o}function Aa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ya(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,qM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var ME=/[#\/\?@]/g,$M=/[#\?:]/g,HM=/[#\?]/g,KM=/[#\?@]/g,GM=/#/g;function za(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Hi(e){e.g||(e.g=new wu,e.h=0,e.i&&UM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}de=za.prototype;de.add=function(e,t){Hi(this),this.i=null,e=bu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function IS(e,t){Hi(e),t=bu(e,t),qo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,qo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Qv(e)))}function TS(e,t){return Hi(e),t=bu(e,t),qo(e.g.h,t)}de.forEach=function(e,t){Hi(this),this.g.forEach(function(n,r){QA(n,function(o){e.call(t,o,r,this)},this)},this)};de.T=function(){Hi(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};de.R=function(e){Hi(this);var t=[];if(typeof e=="string")TS(this,e)&&(t=SE(t,this.g.get(bu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=SE(t,e[n])}return t};de.set=function(e,t){return Hi(this),this.i=null,e=bu(this,e),TS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};de.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function AS(e,t,n){IS(e,t),0<n.length&&(e.i=null,e.g.set(bu(e,t),Lv(n)),e.h+=n.length)}de.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=o;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function bu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function zM(e,t){t&&!e.j&&(Hi(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(IS(this,r),AS(this,o,n))},e)),e.j=t}var WM=function(){function e(t,n){this.h=t,this.g=n}return e}();function SS(e){this.l=e||XM,Re.PerformanceNavigationTiming?(e=Re.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Re.g&&Re.g.Ea&&Re.g.Ea()&&Re.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XM=10;function kS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function CS(e){return e.h?1:e.g?e.g.size:0}function Og(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Yv(e,t){e.g?e.g.add(t):e.h=t}function NS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}SS.prototype.cancel=function(){var e,t;if(this.i=RS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=WA(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function RS(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=WA(e.g.values()),s=o.next();!s.done;s=o.next()){var a=s.value;r=r.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return Lv(e.i)}function Jv(){}Jv.prototype.stringify=function(e){return Re.JSON.stringify(e,void 0)};Jv.prototype.parse=function(e){return Re.JSON.parse(e,void 0)};function QM(){this.g=new Jv}function YM(e,t,n){var r=n||"";try{Xv(e,function(o,s){var a=o;fc(o)&&(a=qv(o)),t.push(r+s+"="+encodeURIComponent(a))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function JM(e,t){var n=new gh;if(Re.Image){var r=new Image;r.onload=Bl($l,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Bl($l,n,r,"TestLoadImage: error",!1,t),r.onabort=Bl($l,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Bl($l,n,r,"TestLoadImage: timeout",!1,t),Re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function $l(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function vc(e){this.l=e.$b||null,this.j=e.ib||!1}Yt(vc,Gv);vc.prototype.g=function(){return new Eh(this.l,this.j)};vc.prototype.i=function(e){return function(){return e}}({});function Eh(e,t){Bt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Zv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yt(Eh,Bt);var Zv=0;de=Eh.prototype;de.open=function(e,t){if(this.readyState!=Zv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Wa(this)};de.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Re).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yc(this)),this.readyState=Zv};de.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Wa(this)),this.g&&(this.readyState=3,Wa(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Re.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OS(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function OS(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}de.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?yc(this):Wa(this),this.readyState==3&&OS(this)}};de.Ua=function(e){this.g&&(this.response=this.responseText=e,yc(this))};de.Ta=function(e){this.g&&(this.response=e,yc(this))};de.ha=function(){this.g&&yc(this)};function yc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Wa(e)}de.setRequestHeader=function(e,t){this.v.append(e,t)};de.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};de.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Wa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var ZM=Re.JSON.parse;function xt(e){Bt.call(this),this.headers=new wu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xS,this.K=this.L=!1}Yt(xt,Bt);var xS="",eF=/^https?$/i,tF=["POST","PUT"];de=xt.prototype;de.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kg.g(),this.C=this.u?DE(this.u):DE(kg),this.g.onreadystatechange=Wt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){FE(this,s);return}e=n||"";var o=new wu(this.headers);r&&Xv(r,function(s,a){o.set(a,s)}),r=hM(o.T()),n=Re.FormData&&e instanceof Re.FormData,!(0<=XA(tF,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{LS(this),0<this.B&&((this.K=nF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.pa,this)):this.A=Kv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){FE(this,s)}};function nF(e){return Js&&vM()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function rF(e){return e.toLowerCase()=="content-type"}de.pa=function(){typeof Dv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xt(this,"timeout"),this.abort(8))};function FE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,PS(e),Ih(e)}function PS(e){e.D||(e.D=!0,Xt(e,"complete"),Xt(e,"error"))}de.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xt(this,"complete"),Xt(this,"abort"),Ih(this))};de.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ih(this,!0)),xt.Z.M.call(this)};de.Fa=function(){this.s||(this.F||this.v||this.l?DS(this):this.cb())};de.cb=function(){DS(this)};function DS(e){if(e.h&&typeof Dv<"u"&&(!e.C[1]||Xr(e)!=4||e.ba()!=2)){if(e.v&&Xr(e)==4)Kv(e.Fa,0,e);else if(Xt(e,"readystatechange"),Xr(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(ES)[1]||null;if(!s&&Re.self&&Re.self.location){var a=Re.self.location.protocol;s=a.substr(0,a.length-1)}o=!eF.test(s?s.toLowerCase():"")}r=o}if(r)Xt(e,"complete"),Xt(e,"success");else{e.m=6;try{var l=2<Xr(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",PS(e)}}finally{Ih(e)}}}}function Ih(e,t){if(e.g){LS(e);var n=e.g,r=e.C[0]?Ef:null;e.g=null,e.C=null,t||Xt(e,"ready");try{n.onreadystatechange=r}catch{}}}function LS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Re.clearTimeout(e.A),e.A=null)}function Xr(e){return e.g?e.g.readyState:0}de.ba=function(){try{return 2<Xr(this)?this.g.status:-1}catch{return-1}};de.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};de.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),ZM(t)}};function VE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case xS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}de.Da=function(){return this.m};de.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function iF(e){var t="";return Mv(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function ey(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=iF(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ht(e,t,n))}function pa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function MS(e){this.za=0,this.l=[],this.h=new gh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=pa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=pa("baseRetryDelayMs",5e3,e),this.$a=pa("retryDelaySeedMs",1e4,e),this.Ya=pa("forwardChannelMaxRetries",2,e),this.ra=pa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new SS(e&&e.concurrentRequestLimit),this.Ca=new QM,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}de=MS.prototype;de.ma=8;de.G=1;function ty(e){if(FS(e),e.G==3){var t=e.V++,n=ri(e.F);ht(n,"SID",e.J),ht(n,"RID",t),ht(n,"TYPE","terminate"),_c(e,n),t=new mc(e,e.h,t,void 0),t.K=2,t.v=bh(ri(n)),n=!1,Re.navigator&&Re.navigator.sendBeacon&&(n=Re.navigator.sendBeacon(t.v.toString(),"")),!n&&Re.Image&&(new Image().src=t.v,n=!0),n||(t.g=KS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),gc(t)}$S(e)}de.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Th(e){e.g&&(ry(e),e.g.cancel(),e.g=null)}function FS(e){Th(e),e.u&&(Re.clearTimeout(e.u),e.u=null),Nf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Re.clearTimeout(e.m),e.m=null)}function Bm(e,t){e.l.push(new WM(e.Za++,t)),e.G==3&&Ah(e)}function Ah(e){kS(e.i)||e.m||(e.m=!0,$v(e.Ha,e),e.C=0)}function oF(e,t){return CS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=dc(Wt(e.Ha,e,t),qS(e,e.C)),e.C++,!0)}de.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new mc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=YA(n),JA(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=VS(this,t,r),o=ri(this.F),ht(o,"RID",e),ht(o,"CVER",22),this.D&&ht(o,"X-HTTP-Session-Id",this.D),_c(this,o),this.o&&n&&ey(o,this.o,n),Yv(this.i,t),this.Ra&&ht(o,"TYPE","init"),this.ja?(ht(o,"$req",r),ht(o,"SID","null"),t.$=!0,Ng(t,o,null)):Ng(t,o,r),this.G=2}}else this.G==3&&(e?UE(this,e):this.l.length==0||kS(this.i)||UE(this))};function UE(e,t){var n;t?n=t.m:n=e.V++;var r=ri(e.F);ht(r,"SID",e.J),ht(r,"RID",n),ht(r,"AID",e.U),_c(e,r),e.o&&e.s&&ey(r,e.o,e.s),n=new mc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=VS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Yv(e.i,n),Ng(n,r,t)}function _c(e,t){e.j&&Xv({},function(n,r){ht(t,r,n)})}function VS(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Wt(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=o[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var p=o[f].h,g=o[f].g;if(p-=s,0>p)s=Math.max(0,o[f].h-100),l=!1;else try{YM(g,a,"req"+p+"_")}catch{r&&r(g)}}if(l){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function US(e){e.g||e.u||(e.Y=1,$v(e.Ga,e),e.A=0)}function ny(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=dc(Wt(e.Ga,e),qS(e,e.A)),e.A++,!0)}de.Ga=function(){if(this.u=null,jS(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=dc(Wt(this.bb,this),e)}};de.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bn(10),Th(this),jS(this))};function ry(e){e.B!=null&&(Re.clearTimeout(e.B),e.B=null)}function jS(e){e.g=new mc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=ri(e.oa);ht(t,"RID","rpc"),ht(t,"SID",e.J),ht(t,"CI",e.N?"0":"1"),ht(t,"AID",e.U),_c(e,t),ht(t,"TYPE","xmlhttp"),e.o&&e.s&&ey(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=bh(ri(t)),n.s=null,n.U=!0,yS(n,e)}de.ab=function(){this.v!=null&&(this.v=null,Th(this),ny(this),bn(19))};function Nf(e){e.v!=null&&(Re.clearTimeout(e.v),e.v=null)}function BS(e,t){var n=null;if(e.g==t){Nf(e),ry(e),e.g=null;var r=2}else if(Og(e.i,t))n=t.D,NS(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=vh(),Xt(r,new pS(r,n)),Ah(e)}else US(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&oF(e,t)||r==2&&ny(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Ro(e,5);break;case 4:Ro(e,10);break;case 3:Ro(e,6);break;default:Ro(e,2)}}}function qS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ro(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Wt(e.jb,e);n||(n=new $o("//www.google.com/images/cleardot.gif"),Re.location&&Re.location.protocol=="http"||Sf(n,"https"),bh(n)),JM(n.toString(),r)}else bn(2);e.G=0,e.j&&e.j.va(t),$S(e),FS(e)}de.jb=function(e){e?(this.h.info("Successfully pinged google.com"),bn(2)):(this.h.info("Failed to ping google.com"),bn(1))};function $S(e){e.G=0,e.I=-1,e.j&&((RS(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Lv(e.l),e.l.length=0),e.j.ua())}function HS(e,t,n){var r=jM(n);if(r.i!="")t&&kf(r,t+"."+r.i),Cf(r,r.m);else{var o=Re.location;r=BM(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Mv(e.aa,function(s,a){ht(r,a,s)}),t=e.D,n=e.sa,t&&n&&ht(r,t,n),ht(r,"VER",e.ma),_c(e,r),r}function KS(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new xt(new vc({ib:!0})):new xt(e.qa),t.L=e.H,t}function GS(){}de=GS.prototype;de.xa=function(){};de.wa=function(){};de.va=function(){};de.ua=function(){};de.Oa=function(){};function Rf(){if(Js&&!(10<=Number(yM)))throw Error("Environmental error: no available transport.")}Rf.prototype.g=function(e,t){return new Gn(e,t)};function Gn(e,t){Bt.call(this),this.g=new MS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!If(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!If(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Eu(this)}Yt(Gn,Bt);Gn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),$v(Wt(e.hb,e,t))),bn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=HS(e,null,e.W),Ah(e)};Gn.prototype.close=function(){ty(this.g)};Gn.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Bm(this.g,t)}else this.v?(t={},t.__data__=qv(e),Bm(this.g,t)):Bm(this.g,e)};Gn.prototype.M=function(){this.g.j=null,delete this.j,ty(this.g),delete this.g,Gn.Z.M.call(this)};function zS(e){zv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Yt(zS,zv);function WS(){Wv.call(this),this.status=1}Yt(WS,Wv);function Eu(e){this.g=e}Yt(Eu,GS);Eu.prototype.xa=function(){Xt(this.g,"a")};Eu.prototype.wa=function(e){Xt(this.g,new zS(e))};Eu.prototype.va=function(e){Xt(this.g,new WS)};Eu.prototype.ua=function(){Xt(this.g,"b")};Rf.prototype.createWebChannel=Rf.prototype.g;Gn.prototype.send=Gn.prototype.u;Gn.prototype.open=Gn.prototype.m;Gn.prototype.close=Gn.prototype.close;yh.NO_ERROR=0;yh.TIMEOUT=8;yh.HTTP_ERROR=6;mS.COMPLETE="complete";gS.EventType=pc;pc.OPEN="a";pc.CLOSE="b";pc.ERROR="c";pc.MESSAGE="d";Bt.prototype.listen=Bt.prototype.N;xt.prototype.listenOnce=xt.prototype.O;xt.prototype.getLastError=xt.prototype.La;xt.prototype.getLastErrorCode=xt.prototype.Da;xt.prototype.getStatus=xt.prototype.ba;xt.prototype.getResponseJson=xt.prototype.Qa;xt.prototype.getResponseText=xt.prototype.ga;xt.prototype.send=xt.prototype.ea;var sF=function(){return new Rf},uF=function(){return vh()},qm=yh,aF=mS,cF=Jo,jE={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},lF=vc,Hl=gS,fF=xt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();qn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},J=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return _e(t,e),t}(Error),gr=new HA("@firebase/firestore");function xg(){return gr.logLevel}function ie(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(gr.logLevel<=We.DEBUG){var r=t.map(iy);gr.debug.apply(gr,ft(["Firestore (8.10.1): "+e],r))}}function Nt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(gr.logLevel<=We.ERROR){var r=t.map(iy);gr.error.apply(gr,ft(["Firestore (8.10.1): "+e],r))}}function Of(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(gr.logLevel<=We.WARN){var r=t.map(iy);gr.warn.apply(gr,ft(["Firestore (8.10.1): "+e],r))}}function iy(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Nt(t),new Error(t)}function Se(e,t){e||ge()}function ce(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XS=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=hF(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function qe(e,t){return e<t?-1:e>t?1:0}function Zs(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function QS(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new J(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new J(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new J(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?qe(this.nanoseconds,t.nanoseconds):qe(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ue=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Rn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function YS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JS=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&ge(),r===void 0?r=t.length-n:r>t.length-n&&ge(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Qe=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new J(F.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(JS),dF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_r=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return dF.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,a=function(){if(o.length===0)throw new J(F.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new J(F.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new J(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=p,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(a(),s++)}if(a(),l)throw new J(F.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(JS),eu=function(){function e(t){this.fields=t,t.sort(_r.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Zs(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),On=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return qe(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();On.EMPTY_BYTE_STRING=new On("");var pF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(e){if(Se(!!e),typeof e=="string"){var t=0,n=pF.exec(e);if(Se(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Ct(e.seconds),nanos:Ct(e.nanos)}}function Ct(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function tu(e){return typeof e=="string"?On.fromBase64String(e):On.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ZS(e){var t=e.mapValue.fields.__previous_value__;return oy(t)?ZS(t):t}function Xa(e){var t=Bi(e.mapValue.fields.__local_write_time__.timestampValue);return new Rn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(e){return e==null}function xf(e){return e===0&&1/e==-1/0}function e1(e){return typeof e=="number"&&Number.isInteger(e)&&!xf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Qe.fromString(t))},e.fromName=function(t){return new e(Qe.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Qe.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Qe.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Qe(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oy(e)?4:10:ge()}function jr(e,t){var n=Ho(e);if(n!==Ho(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xa(e).isEqual(Xa(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=Bi(r.timestampValue),a=Bi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return tu(r.bytesValue).isEqual(tu(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Ct(r.geoPointValue.latitude)===Ct(o.geoPointValue.latitude)&&Ct(r.geoPointValue.longitude)===Ct(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ct(r.integerValue)===Ct(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=Ct(r.doubleValue),a=Ct(o.doubleValue);return s===a?xf(s)===xf(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Zs(e.arrayValue.values||[],t.arrayValue.values||[],jr);case 10:return function(r,o){var s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(BE(s)!==BE(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!jr(s[l],a[l])))return!1;return!0}(e,t);default:return ge()}}function Qa(e,t){return(e.values||[]).find(function(n){return jr(n,t)})!==void 0}function nu(e,t){var n=Ho(e),r=Ho(t);if(n!==r)return qe(n,r);switch(n){case 0:return 0;case 1:return qe(e.booleanValue,t.booleanValue);case 2:return function(o,s){var a=Ct(o.integerValue||o.doubleValue),l=Ct(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return qE(e.timestampValue,t.timestampValue);case 4:return qE(Xa(e),Xa(t));case 5:return qe(e.stringValue,t.stringValue);case 6:return function(o,s){var a=tu(o),l=tu(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var a=o.split("/"),l=s.split("/"),f=0;f<a.length&&f<l.length;f++){var p=qe(a[f],l[f]);if(p!==0)return p}return qe(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var a=qe(Ct(o.latitude),Ct(s.latitude));return a!==0?a:qe(Ct(o.longitude),Ct(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var a=o.values||[],l=s.values||[],f=0;f<a.length&&f<l.length;++f){var p=nu(a[f],l[f]);if(p)return p}return qe(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a=o.fields||{},l=Object.keys(a),f=s.fields||{},p=Object.keys(f);l.sort(),p.sort();for(var g=0;g<l.length&&g<p.length;++g){var h=qe(l[g],p[g]);if(h!==0)return h;var m=nu(a[l[g]],f[p[g]]);if(m!==0)return m}return qe(l.length,p.length)}(e.mapValue,t.mapValue);default:throw ge()}}function qE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return qe(e,t);var n=Bi(e),r=Bi(t),o=qe(n.seconds,r.seconds);return o!==0?o:qe(n.nanos,r.nanos)}function sy(e){return Pg(e)}function Pg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=Bi(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?tu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ve.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:o+=",",o+=Pg(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var f=l[a];s?s=!1:o+=",",o+=f+":"+Pg(r.fields[f])}return o+"}"}(e.mapValue):ge();var t,n}function Pf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Dg(e){return!!e&&"integerValue"in e}function uy(e){return!!e&&"arrayValue"in e}function $E(e){return!!e&&"nullValue"in e}function HE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function af(e){return!!e&&"mapValue"in e}function Sa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Zo(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Sa(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Sa(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!af(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sa(n)},e.prototype.setAll=function(t){var n=this,r=_r.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!r.isImmediateParentOf(f)){var p=n.getFieldsMap(r);n.applyChanges(p,o,s),o={},s=[],r=f.popLast()}l?o[f.lastSegment()]=Sa(l):s.push(f.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());af(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return jr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];af(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Zo(n,function(l,f){return t[l]=f});for(var o=0,s=r;o<s.length;o++){var a=s[o];delete t[a]}},e.prototype.clone=function(){return new e(Sa(this.value))},e}();function t1(e){var t=[];return Zo(e.fields,function(n,r){var o=new _r([n]);if(af(r)){var s=t1(r.mapValue).fields;if(s.length===0)t.push(o);else for(var a=0,l=s;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new eu(t)}var cn=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Ue.min(),jn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,jn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,jn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=jn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=jn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),mF=function(e,t,n,r,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(e,t,n,r,o,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),new mF(e,t,n,r,o,s,a)}function wc(e){var t=ce(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+sy(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),es(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Lf(t.startAt)),t.endAt&&(n+="|ub:",n+=Lf(t.endAt)),t.h=n}return t.h}function Sh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!IF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!jr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zE(e.startAt,t.startAt)&&zE(e.endAt,t.endAt)}function Df(e){return ve.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var $n=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return _e(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new gF(n,r,o):r==="array-contains"?new _F(n,o):r==="in"?new wF(n,o):r==="not-in"?new bF(n,o):r==="array-contains-any"?new EF(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new vF(n,o):new yF(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(nu(r,this.value)):r!==null&&Ho(this.value)===Ho(r)&&this.m(nu(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ge()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),gF=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=ve.fromName(o.referenceValue),s}return _e(t,e),t.prototype.matches=function(n){var r=ve.comparator(n.key,this.key);return this.m(r)},t}($n),vF=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=n1("in",r),o}return _e(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}($n),yF=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=n1("not-in",r),o}return _e(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}($n);function n1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ve.fromName(r.referenceValue)})}var _F=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return _e(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return uy(r)&&Qa(r.arrayValue,this.value)},t}($n),wF=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return _e(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Qa(this.value.arrayValue,r)},t}($n),bF=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return _e(t,e),t.prototype.matches=function(n){if(Qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Qa(this.value.arrayValue,r)},t}($n),EF=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return _e(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!uy(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return Qa(r.value.arrayValue,s)})},t}($n),Ya=function(e,t){this.position=e,this.before=t};function Lf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return sy(t)}).join(",")}var Ks=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function IF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function GE(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],a=e.position[o];if(r=s.field.isKeyField()?ve.comparator(ve.fromName(a.referenceValue),n.key):nu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function zE(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!jr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si=function(e,t,n,r,o,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function r1(e,t,n,r,o,s,a,l){return new si(e,t,n,r,o,s,a,l)}function bc(e){return new si(e)}function cf(e){return!es(e.limit)&&e.limitType==="F"}function Mf(e){return!es(e.limit)&&e.limitType==="L"}function ay(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function cy(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function ly(e){return e.collectionGroup!==null}function ru(e){var t=ce(e);if(t.p===null){t.p=[];var n=cy(t),r=ay(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Ks(n)),t.p.push(new Ks(_r.keyField(),"asc"));else{for(var o=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ks(_r.keyField(),f))}}}return t.p}function Br(e){var t=ce(e);if(!t.T)if(t.limitType==="F")t.T=KE(t.path,t.collectionGroup,ru(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=ru(t);r<o.length;r++){var s=o[r],a=s.dir==="desc"?"asc":"desc";n.push(new Ks(s.field,a))}var l=t.endAt?new Ya(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Ya(t.startAt.position,!t.startAt.before):null;t.T=KE(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function i1(e,t,n){return new si(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ec(e,t){return Sh(Br(e),Br(t))&&e.limitType===t.limitType}function o1(e){return wc(Br(e))+"|lt:"+e.limitType}function Lg(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+sy(o.value);var o}).join(", ")+"]"),es(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Lf(t.startAt)),t.endAt&&(n+=", endAt: "+Lf(t.endAt)),"Target("+n+")"}(Br(e))+"; limitType="+e.limitType+")"}function Ic(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ve.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var a=s[o];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!GE(n.startAt,ru(n),r))&&(!n.endAt||!GE(n.endAt,ru(n),r))}(e,t)}function s1(e){return function(t,n){for(var r=!1,o=0,s=ru(e);o<s.length;o++){var a=s[o],l=TF(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function TF(e,t,n){var r=e.field.isKeyField()?ve.comparator(t.key,n.key):function(o,s,a){var l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?nu(l,f):ge()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(t)?"-0":t}}function a1(e){return{integerValue:""+e}}function c1(e,t){return e1(t)?a1(t):u1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kh=function(){this._=void 0};function AF(e,t,n){return e instanceof iu?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Ko?f1(e,t):e instanceof Go?h1(e,t):function(r,o){var s=l1(r,o),a=WE(s)+WE(r.A);return Dg(s)&&Dg(r.A)?a1(a):u1(r.R,a)}(e,t)}function SF(e,t,n){return e instanceof Ko?f1(e,t):e instanceof Go?h1(e,t):n}function l1(e,t){return e instanceof ou?Dg(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var iu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t}(kh),Ko=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return _e(t,e),t}(kh);function f1(e,t){for(var n=d1(t),r=function(a){n.some(function(l){return jr(l,a)})||n.push(a)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var Go=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return _e(t,e),t}(kh);function h1(e,t){for(var n=d1(t),r=function(a){n=n.filter(function(l){return!jr(l,a)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var ou=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return _e(t,e),t}(kh);function WE(e){return Ct(e.integerValue||e.doubleValue)}function d1(e){return uy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tc=function(e,t){this.field=e,this.transform=t},kF=function(e,t){this.version=e,this.transformResults=t},un=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function lf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Ch=function(){};function CF(e,t,n){e instanceof Ac?function(r,o,s){var a=r.value.clone(),l=YE(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ki?function(r,o,s){if(lf(r.precondition,o)){var a=YE(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(p1(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Mg(e,t,n){e instanceof Ac?function(r,o,s){if(lf(r.precondition,o)){var a=r.value.clone(),l=JE(r.fieldTransforms,s,o);a.setAll(l),o.convertToFoundDocument(QE(o),a).setHasLocalMutations()}}(e,t,n):e instanceof Ki?function(r,o,s){if(lf(r.precondition,o)){var a=JE(r.fieldTransforms,s,o),l=o.data;l.setAll(p1(r)),l.setAll(a),o.convertToFoundDocument(QE(o),l).setHasLocalMutations()}}(e,t,n):function(r,o){lf(r.precondition,o)&&o.convertToNoDocument(Ue.min())}(e,t)}function NF(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],a=t.data.field(s.field),l=l1(s.transform,a||null);l!=null&&(n==null&&(n=jn.empty()),n.set(s.field,l))}return n||null}function XE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Zs(n,r,function(o,s){return function(a,l){return a.field.isEqual(l.field)&&function(f,p){return f instanceof Ko&&p instanceof Ko||f instanceof Go&&p instanceof Go?Zs(f.elements,p.elements,jr):f instanceof ou&&p instanceof ou?jr(f.A,p.A):f instanceof iu&&p instanceof iu}(a.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function QE(e){return e.isFoundDocument()?e.version:Ue.min()}var Ac=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=o,a.fieldTransforms=s,a.type=0,a}return _e(t,e),t}(Ch),Ki=function(e){function t(n,r,o,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=o,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return _e(t,e),t}(Ch);function p1(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function YE(e,t,n){var r=new Map;Se(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],a=s.transform,l=t.data.field(s.field);r.set(s.field,SF(a,l,n[o]))}return r}function JE(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var a=s[o],l=a.transform,f=n.data.field(a.field);r.set(a.field,AF(l,f,t))}return r}var kt,He,Sc=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return _e(t,e),t}(Ch),fy=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return _e(t,e),t}(Ch),RF=function(e){this.count=e};function m1(e){switch(e){case F.OK:return ge();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ge()}}function g1(e){if(e===void 0)return Nt("GRPC error has no .code"),F.UNKNOWN;switch(e){case kt.OK:return F.OK;case kt.CANCELLED:return F.CANCELLED;case kt.UNKNOWN:return F.UNKNOWN;case kt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case kt.INTERNAL:return F.INTERNAL;case kt.UNAVAILABLE:return F.UNAVAILABLE;case kt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case kt.NOT_FOUND:return F.NOT_FOUND;case kt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case kt.ABORTED:return F.ABORTED;case kt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case kt.DATA_LOSS:return F.DATA_LOSS;default:return ge()}}(He=kt||(kt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln=function(){function e(t,n){this.comparator=t,this.root=n||Ni.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ni.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ni.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Kl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Kl(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Kl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Kl(this.root,t,this.comparator,!0)},e}(),Kl=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Ni=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=o!=null?o:e.EMPTY,this.right=s!=null?s:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,s!=null?s:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();var t=this.left.check();if(t!==this.right.check())throw ge();return t+(this.isRed()?0:1)},e}();Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1,Ni.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ge()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new Ni(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt=function(){function e(t){this.comparator=t,this.data=new ln(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new ZE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new ZE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),ZE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),OF=new ln(ve.comparator);function vr(){return OF}var xF=new ln(ve.comparator);function Fg(){return xF}var PF=new ln(ve.comparator);function DF(){return PF}var LF=new Mt(ve.comparator);function ot(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=LF,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var MF=new Mt(qe);function Nh(){return MF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hy=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,dy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ue.min(),r,Nh(),vr(),ot())},e}(),dy=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(On.EMPTY_BYTE_STRING,n,ot(),ot(),ot())},e}(),ff=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},v1=function(e,t){this.targetId=e,this.V=t},y1=function(e,t,n,r){n===void 0&&(n=On.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},eI=function(){function e(){this.S=0,this.D=nI(),this.C=On.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=ot(),n=ot(),r=ot();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ge()}}),new dy(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=nI()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),FF=function(){function e(t){this.W=t,this.G=new Map,this.H=vr(),this.J=tI(),this.Y=new Mt(qe)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)o=a[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:ge()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(Df(s))if(r===0){var a=new ve(s.path);this.tt(n,a,cn.newNoDocument(a,Ue.min()))}else Se(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Df(f.target)){var p=new ve(f.target.path);n.H.get(p)!==null||n.at(l,p)||n.tt(l,p,cn.newNoDocument(p,t))}a.$&&(r.set(l,a.M()),a.L())}});var o=ot();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(p){var g=n.ot(p);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var s=new hy(t,r,this.Y,this.H,o);return this.H=vr(),this.J=tI(),this.Y=new Mt(qe),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new eI,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Mt(qe),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new eI),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function tI(){return new ln(ve.comparator)}function nI(){return new ln(ve.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VF={asc:"ASCENDING",desc:"DESCENDING"},UF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jF=function(e,t){this.databaseId=e,this.I=t};function Ja(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function _1(e,t){return e.I?t.toBase64():t.toUint8Array()}function BF(e,t){return Ja(e,t.toTimestamp())}function En(e){return Se(!!e),Ue.fromTimestamp(function(t){var n=Bi(t);return new Rn(n.seconds,n.nanos)}(e))}function py(e,t){return function(n){return new Qe(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function w1(e){var t=Qe.fromString(e);return Se(k1(t)),t}function Za(e,t){return py(e.databaseId,t.path)}function Zr(e,t){var n=w1(t);if(n.get(1)!==e.databaseId.projectId)throw new J(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ve(E1(n))}function Vg(e,t){return py(e.databaseId,t)}function b1(e){var t=w1(e);return t.length===4?Qe.emptyPath():E1(t)}function ec(e){return new Qe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function E1(e){return Se(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function rI(e,t,n){return{name:Za(e,t),fields:n.value.mapValue.fields}}function qF(e,t,n){var r=Zr(e,t.name),o=En(t.updateTime),s=new jn({mapValue:{fields:t.fields}}),a=cn.newFoundDocument(r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ff(e,t){var n;if(t instanceof Ac)n={update:rI(e,t.key,t.value)};else if(t instanceof Sc)n={delete:Za(e,t.key)};else if(t instanceof Ki)n={update:rI(e,t.key,t.data),updateMask:zF(t.fieldMask)};else{if(!(t instanceof fy))return ge();n={verify:Za(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var a=s.transform;if(a instanceof iu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ko)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Go)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ou)return{fieldPath:s.field.canonicalString(),increment:a.A};throw ge()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:BF(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge()}(e,t.precondition)),n}function iI(e,t){var n=t.currentDocument?function(p){return p.updateTime!==void 0?un.updateTime(En(p.updateTime)):p.exists!==void 0?un.exists(p.exists):un.none()}(t.currentDocument):un.none(),r=t.updateTransforms?t.updateTransforms.map(function(p){return function(g,h){var m=null;if("setToServerValue"in h)Se(h.setToServerValue==="REQUEST_TIME"),m=new iu;else if("appendMissingElements"in h){var y=h.appendMissingElements.values||[];m=new Ko(y)}else if("removeAllFromArray"in h){var _=h.removeAllFromArray.values||[];m=new Go(_)}else"increment"in h?m=new ou(g,h.increment):ge();var b=_r.fromServerFormat(h.fieldPath);return new Tc(b,m)}(e,p)}):[];if(t.update){t.update.name;var o=Zr(e,t.update.name),s=new jn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(p){var g=p.fieldPaths||[];return new eu(g.map(function(h){return _r.fromServerFormat(h)}))}(t.updateMask);return new Ki(o,s,a,n,r)}return new Ac(o,s,n,r)}if(t.delete){var l=Zr(e,t.delete);return new Sc(l,n)}if(t.verify){var f=Zr(e,t.verify);return new fy(f,n)}return ge()}function I1(e,t){return{documents:[Vg(e,t.path)]}}function T1(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Vg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(p){return function(g){if(g.op==="=="){if(HE(g.value))return{unaryFilter:{field:Rs(g.field),op:"IS_NAN"}};if($E(g.value))return{unaryFilter:{field:Rs(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(HE(g.value))return{unaryFilter:{field:Rs(g.field),op:"IS_NOT_NAN"}};if($E(g.value))return{unaryFilter:{field:Rs(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(g.field),op:HF(g.op),value:g.value}}}(p)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(p){return{field:Rs(p.field),direction:$F(p.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,f){return l.I||es(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=oI(t.startAt)),t.endAt&&(n.structuredQuery.endAt=oI(t.endAt)),n}function A1(e){var t=b1(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){Se(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=S1(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(h){return function(m){return new Ks(js(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h)}));var f=null;n.limit&&(f=function(h){var m;return es(m=typeof h=="object"?h.value:h)?null:m}(n.limit));var p=null;n.startAt&&(p=sI(n.startAt));var g=null;return n.endAt&&(g=sI(n.endAt)),r1(t,o,l,a,f,"F",p,g)}function S1(e){return e?e.unaryFilter!==void 0?[GF(e)]:e.fieldFilter!==void 0?[KF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return S1(t)}).reduce(function(t,n){return t.concat(n)}):ge():[]}function oI(e){return{before:e.before,values:e.position}}function sI(e){var t=!!e.before,n=e.values||[];return new Ya(n,t)}function $F(e){return VF[e]}function HF(e){return UF[e]}function Rs(e){return{fieldPath:e.canonicalString()}}function js(e){return _r.fromServerFormat(e.fieldPath)}function KF(e){return $n.create(js(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ge()}}(e.fieldFilter.op),e.fieldFilter.value)}function GF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=js(e.unaryFilter.field);return $n.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=js(e.unaryFilter.field);return $n.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=js(e.unaryFilter.field);return $n.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=js(e.unaryFilter.field);return $n.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ge()}}function zF(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function k1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=uI(t)),t=WF(e.get(n),t);return uI(t)}function WF(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function uI(e){return e+""}function Qr(e){var t=e.length;if(Se(t>=2),t===2)return Se(e.charAt(0)===""&&e.charAt(1)===""),Qe.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&ge(),e.charAt(a+1)){case"":var l=e.substring(s,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),r.push(f);break;case"":o+=e.substring(s,a),o+="\0";break;case"":o+=e.substring(s,a+1);break;default:ge()}s=a+2}return new Qe(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XF=function(e,t){this.seconds=e,this.nanoseconds=t},Vn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Vn.store="owner",Vn.key="owner";var Fi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Fi.store="mutationQueues",Fi.keyPath="userId";var st=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};st.store="mutations",st.keyPath="batchId",st.userMutationsIndex="userMutationsIndex",st.userMutationsKeyPath=["userId","batchId"];var nn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,yr(n)]},e.key=function(t,n,r){return[t,yr(n),r]},e}();nn.store="documentMutations",nn.PLACEHOLDER=new nn;var QF=function(e,t){this.path=e,this.readTime=t},YF=function(e,t){this.path=e,this.version=t},wt=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};wt.store="remoteDocuments",wt.readTimeIndex="readTimeIndex",wt.readTimeIndexPath="readTime",wt.collectionReadTimeIndex="collectionReadTimeIndex",wt.collectionReadTimeIndexPath=["parentPath","readTime"];var Mr=function(e){this.byteSize=e};Mr.store="remoteDocumentGlobal",Mr.key="remoteDocumentGlobalKey";var Cn=function(e,t,n,r,o,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=a};Cn.store="targets",Cn.keyPath="targetId",Cn.queryTargetsIndexName="queryTargetsIndex",Cn.queryTargetsKeyPath=["canonicalId","targetId"];var Gt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Gt.store="targetDocuments",Gt.keyPath=["targetId","path"],Gt.documentTargetsIndex="documentTargetsIndex",Gt.documentTargetsKeyPath=["path","targetId"];var Un=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Un.key="targetGlobalKey",Un.store="targetGlobal";var Lo=function(e,t){this.collectionId=e,this.parent=t};Lo.store="collectionParents",Lo.keyPath=["collectionId","parent"];var ei=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ei.store="clientMetadata",ei.keyPath="clientId";var su=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};su.store="bundles",su.keyPath="bundleId";var uu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};uu.store="namedQueries",uu.keyPath="name";var JF=ft(ft([],ft(ft([],ft(ft([],ft(ft([],[Fi.store,st.store,nn.store,wt.store,Cn.store,Vn.store,Un.store,Gt.store]),[ei.store])),[Mr.store])),[Lo.store])),[su.store,uu.store]),C1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",N1=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),xn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},ee=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(o,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,a=!1;t.forEach(function(l){++o,l.next(function(){++s,a&&s===o&&n()},function(f){return r(f)})}),a=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,a){o.push(n.call(r,s,a))}),this.waitFor(o)},e}(),R1=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new xn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new ka(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=my(o.target.error);r.ft.reject(new ka(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new ka(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ie("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new eV(n)},e}(),au=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Bo())===12.2&&Nt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ie("SimpleDb","Removing database:",t),ko(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Bo(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return K(this,void 0,void 0,function(){var n,r=this;return $(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ie("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(f){var p=f.target.result;s(p)},l.onblocked=function(){a(new ka(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var p=f.target.error;p.name==="VersionError"?a(new J(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new ka(t,p))},l.onupgradeneeded=function(f){ie("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var p=f.target.result;r.wt.Rt(p,l.transaction,f.oldVersion,r.version).next(function(){ie("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return K(this,void 0,void 0,function(){var s,a,l,f,p;return $(this,function(g){switch(g.label){case 0:s=n==="readonly",a=0,l=function(){var h,m,y,_,b;return $(this,function(T){switch(T.label){case 0:++a,T.label=1;case 1:return T.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=T.sent(),h=R1.open(f.db,t,s?"readonly":"readwrite",r),m=o(h).catch(function(I){return h.abort(I),ee.reject(I)}).toPromise(),y={},m.catch(function(){}),[4,h.dt];case 3:return[2,(y.value=(T.sent(),m),y)];case 4:return _=T.sent(),b=_.name!=="FirebaseError"&&a<3,ie("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),f.close(),b?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,l()];case 2:if(typeof(p=g.sent())=="object")return[2,p.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),ZF=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return ko(this.Pt.delete())},e}(),ka=function(e){function t(n,r){var o=this;return(o=e.call(this,F.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return _e(t,e),t}(J);function ts(e){return e.name==="IndexedDbTransactionError"}var eV=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(ie("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(ie("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ko(r)},e.prototype.add=function(t){return ie("SimpleDb","ADD",this.store.name,t,t),ko(this.store.add(t))},e.prototype.get=function(t){var n=this;return ko(this.store.get(t)).next(function(r){return r===void 0&&(r=null),ie("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return ie("SimpleDb","DELETE",this.store.name,t),ko(this.store.delete(t))},e.prototype.count=function(){return ie("SimpleDb","COUNT",this.store.name),ko(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){ie("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new ee(function(r,o){n.onerror=function(s){var a=my(s.target.error);o(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new ee(function(o,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new ZF(l),p=n(l.primaryKey,l.value,f);if(p instanceof ee){var g=p.catch(function(h){return f.done(),ee.reject(h)});r.push(g)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return ee.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function ko(e){return new ee(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=my(r.target.error);n(o)}})}var aI=!1;function my(e){var t=au._t(Bo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new J("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return aI||(aI=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cI=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return _e(t,e),t}(N1);function Pn(e,t){var n=ce(e);return au.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gy=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&CF(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&Mg(a,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t.key)&&Mg(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Ue.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},ot())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Zs(this.mutations,t.mutations,function(n,r){return XE(n,r)})&&Zs(this.baseMutations,t.baseMutations,function(n,r){return XE(n,r)})},e}(),tV=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){Se(t.mutations.length===r.length);for(var o=DF(),s=t.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,r[a].version);return new e(t,n,r,o)},e}(),Rh=function(){function e(t,n,r,o,s,a,l){s===void 0&&(s=Ue.min()),a===void 0&&(a=Ue.min()),l===void 0&&(l=On.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),O1=function(e){this.Lt=e};function Ug(e,t){if(t.document)return qF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ve.fromSegments(t.noDocument.path),r=lu(t.noDocument.readTime),o=cn.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=ve.fromSegments(t.unknownDocument.path);return r=lu(t.unknownDocument.version),cn.newUnknownDocument(s,r)}return ge()}function lI(e,t,n){var r=vy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,m){return{name:Za(h,m.key),fields:m.data.value.mapValue.fields,updateTime:Ja(h,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new wt(null,null,s,a,r,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=cu(t.version);return a=t.hasCommittedMutations,new wt(null,new QF(l,f),null,a,r,o)}if(t.isUnknownDocument()){var p=t.key.path.toArray(),g=cu(t.version);return new wt(new YF(p,g),null,null,!0,r,o)}return ge()}function vy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function x1(e){var t=new Rn(e[0],e[1]);return Ue.fromTimestamp(t)}function cu(e){var t=e.toTimestamp();return new XF(t.seconds,t.nanoseconds)}function lu(e){var t=new Rn(e.seconds,e.nanoseconds);return Ue.fromTimestamp(t)}function Ls(e,t){for(var n=(t.baseMutations||[]).map(function(f){return iI(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(f){return iI(e.Lt,f)}),l=Rn.fromMillis(t.localWriteTimeMs);return new gy(t.batchId,l,n,a)}function _a(e){var t,n,r=lu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?lu(e.lastLimboFreeSnapshotVersion):Ue.min();return e.query.documents!==void 0?(Se((n=e.query).documents.length===1),t=Br(bc(b1(n.documents[0])))):t=function(s){return Br(A1(s))}(e.query),new Rh(t,e.targetId,0,e.lastListenSequenceNumber,r,o,On.fromBase64String(e.resumeToken))}function P1(e,t){var n,r=cu(t.snapshotVersion),o=cu(t.lastLimboFreeSnapshotVersion);n=Df(t.target)?I1(e.Lt,t.target):T1(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Cn(t.targetId,wc(t.target),r,s,t.sequenceNumber,o,n)}function D1(e){var t=A1({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?i1(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nV=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return fI(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:lu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return fI(t).put({bundleId:(r=n).id,createTime:cu(En(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return hI(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:D1(o.bundledQuery),readTime:lu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return hI(t).put(function(r){return{name:r.name,readTime:cu(En(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function fI(e){return Pn(e,su.store)}function hI(e){return Pn(e,uu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rV=function(){function e(){this.Bt=new yy}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),ee.resolve()},e.prototype.getCollectionParents=function(t,n){return ee.resolve(this.Bt.getEntries(n))},e}(),yy=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Mt(Qe.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Mt(Qe.comparator)).toArray()},e}(),iV=function(){function e(){this.qt=new yy}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:o,parent:yr(s)};return dI(t).put(a)}return ee.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[QS(n),""],!1,!0);return dI(t).Nt(o).next(function(s){for(var a=0,l=s;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;r.push(Qr(f.parent))}return r})},e}();function dI(e){return Pn(e,Lo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(e,t,n){var r=e.store(st.store),o=e.store(nn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,f=r.$t({range:a},function(_,b,T){return l++,T.delete()});s.push(f.next(function(){Se(l===1)}));for(var p=[],g=0,h=n.mutations;g<h.length;g++){var m=h[g],y=nn.key(t,m.key.path,n.batchId);s.push(o.delete(y)),p.push(m.key)}return ee.waitFor(s).next(function(){return p})}function Vf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ge();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(41943040,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);var oV=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return Se(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bi(t).$t({index:st.userMutationsIndex,range:r},function(o,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,a=Ms(t),l=bi(t);return l.add({}).next(function(f){Se(typeof f=="number");for(var p=new gy(f,n,r,o),g=function(I,N,C){var x=C.baseMutations.map(function(D){return Ff(I.Lt,D)}),V=C.mutations.map(function(D){return Ff(I.Lt,D)});return new st(N,C.batchId,C.localWriteTime.toMillis(),x,V)}(s.R,s.userId,p),h=[],m=new Mt(function(I,N){return qe(I.canonicalString(),N.canonicalString())}),y=0,_=o;y<_.length;y++){var b=_[y],T=nn.key(s.userId,b.key.path,f);m=m.add(b.key.path.popLast()),h.push(l.put(g)),h.push(a.put(T,nn.PLACEHOLDER))}return m.forEach(function(I){h.push(s.Ut.addToCollectionParentIndex(t,I))}),t.addOnCommittedListener(function(){s.Kt[f]=p.keys()}),ee.waitFor(h).next(function(){return p})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return bi(t).get(n).next(function(o){return o?(Se(o.userId===r.userId),Ls(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?ee.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),a=null;return bi(t).$t({index:st.userMutationsIndex,range:s},function(l,f,p){f.userId===r.userId&&(Se(f.batchId>=o),a=Ls(r.R,f)),p.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return bi(t).$t({index:st.userMutationsIndex,range:n,reverse:!0},function(o,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bi(t).Nt(st.userMutationsIndex,r).next(function(o){return o.map(function(s){return Ls(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=nn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),a=[];return Ms(t).$t({range:s},function(l,f,p){var g=l[0],h=l[1],m=l[2],y=Qr(h);if(g===r.userId&&n.path.isEqual(y))return bi(t).get(m).next(function(_){if(!_)throw ge();Se(_.userId===r.userId),a.push(Ls(r.R,_))});p.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new Mt(qe),s=[];return n.forEach(function(a){var l=nn.prefixForPath(r.userId,a.path),f=IDBKeyRange.lowerBound(l),p=Ms(t).$t({range:f},function(g,h,m){var y=g[0],_=g[1],b=g[2],T=Qr(_);y===r.userId&&a.path.isEqual(T)?o=o.add(b):m.done()});s.push(p)}),ee.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,a=nn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Mt(qe);return Ms(t).$t({range:l},function(p,g,h){var m=p[0],y=p[1],_=p[2],b=Qr(y);m===r.userId&&o.isPrefixOf(b)?b.length===s&&(f=f.add(_)):h.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(a){s.push(bi(t).get(a).next(function(l){if(l===null)throw ge();Se(l.userId===r.userId),o.push(Ls(r.R,l))}))}),ee.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return L1(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),ee.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return ee.resolve();var o=IDBKeyRange.lowerBound(nn.prefixForUser(n.userId)),s=[];return Ms(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var p=Qr(a[1]);s.push(p)}else f.done()}).next(function(){Se(s.length===0)})})},e.prototype.containsKey=function(t,n){return M1(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return F1(t).get(this.userId).next(function(r){return r||new Fi(n.userId,-1,"")})},e}();function M1(e,t,n){var r=nn.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Ms(e).$t({range:s,Ft:!0},function(l,f,p){var g=l[0],h=l[1];l[2],g===t&&h===o&&(a=!0),p.done()}).next(function(){return a})}function bi(e){return Pn(e,st.store)}function Ms(e){return Pn(e,nn.store)}function F1(e){return Pn(e,Fi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),sV=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new Uf(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Ue.fromTimestamp(new Rn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Os(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return Se(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,a=[];return Os(t).$t(function(l,f){var p=_a(f);p.sequenceNumber<=n&&r.get(p.targetId)===null&&(s++,a.push(o.removeTargetData(t,p)))}).next(function(){return ee.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Os(t).$t(function(r,o){var s=_a(o);n(s)})},e.prototype.Xt=function(t){return mI(t).get(Un.key).next(function(n){return Se(n!==null),n})},e.prototype.Zt=function(t,n){return mI(t).put(Un.key,n)},e.prototype.te=function(t,n){return Os(t).put(P1(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=wc(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Os(t).$t({range:o,index:Cn.queryTargetsIndexName},function(a,l,f){var p=_a(l);Sh(n,p.target)&&(s=p,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],a=Ri(t);return n.forEach(function(l){var f=yr(l.path);s.push(a.put(new Gt(r,f))),s.push(o.referenceDelegate.addReference(t,r,l))}),ee.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=Ri(t);return ee.forEach(n,function(a){var l=yr(a.path);return ee.waitFor([s.delete([r,l]),o.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Ri(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=Ri(t),s=ot();return o.$t({range:r,Ft:!0},function(a,l,f){var p=Qr(a[1]),g=new ve(p);s=s.add(g)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=yr(n.path),o=IDBKeyRange.bound([r],[QS(r)],!1,!0),s=0;return Ri(t).$t({index:Gt.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var p=a[0];a[1],p!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Os(t).get(n).next(function(r){return r?_a(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(e){return Pn(e,Cn.store)}function mI(e){return Pn(e,Un.store)}function Ri(e){return Pn(e,Gt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e){return K(this,void 0,void 0,function(){return $(this,function(t){if(e.code!==F.FAILED_PRECONDITION||e.message!==C1)throw e;return ie("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],a=qe(n,o);return a===0?qe(r,s):a}var uV=function(){function e(t){this.ne=t,this.buffer=new Mt(gI),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();gI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),aV=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;ie("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return K(n,void 0,void 0,function(){var o;return $(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return ts(o=s.sent())?(ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,ns(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),cV=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return ee.resolve(qn.o);var o=new uV(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(pI)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),pI):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,a,l,f,p,g=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>g.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+m),o=g.params.maximumSequenceNumbersToCollect):o=m,a=Date.now(),g.nthSequenceNumber(t,o)}).next(function(m){return r=m,l=Date.now(),g.removeTargets(t,r,n)}).next(function(m){return s=m,f=Date.now(),g.removeOrphanedDocuments(t,r)}).next(function(m){return p=Date.now(),xg()<=We.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-h)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+m+" documents in "+(p-f)+`ms
Total Duration: `+(p-h)+"ms"),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:m})})},e}(),lV=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new cV(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return Gl(t,r)},e.prototype.removeReference=function(t,n,r){return Gl(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Gl(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return F1(r).Ot(function(a){return M1(r,a,o).next(function(l){return l&&(s=!0),ee.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,f){if(f<=n){var p=r._e(t,l).next(function(g){if(!g)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Ri(t).delete([0,yr(l.path)])})});s.push(p)}}).next(function(){return ee.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Gl(t,n)},e.prototype.we=function(t,n){var r,o=Ri(t),s=qn.o;return o.$t({index:Gt.documentTargetsIndex},function(a,l){var f=a[0];a[1];var p=l.path,g=l.sequenceNumber;f===0?(s!==qn.o&&n(new ve(Qr(r)),s),s=g,r=p):s=qn.o}).next(function(){s!==qn.o&&n(new ve(Qr(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Gl(e,t){return Ri(e).put(function(n,r){return new Gt(0,yr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var a=s[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Zo(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var a=s[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return YS(this.inner)},e}(),V1=function(){function e(){this.changes=new Iu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Ue.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:cn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?ee.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),fV=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return ki(t).put(zl(n),r)},e.prototype.removeEntry=function(t,n){var r=ki(t),o=zl(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return ki(t).get(zl(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return ki(t).get(zl(n)).next(function(o){return{document:r.ye(n,o),size:Vf(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=vr();return this.pe(t,n,function(s,a){var l=r.ye(s,a);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=vr(),s=new ln(ve.comparator);return this.pe(t,n,function(a,l){var f=r.ye(a,l);o=o.insert(a,f),s=s.insert(a,Vf(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return ee.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return ki(t).$t({range:o},function(l,f,p){for(var g=ve.fromSegments(l);a&&ve.comparator(a,g)<0;)r(a,null),a=s.getNext();a&&a.isEqual(g)&&(r(a,f),a=s.hasNext()?s.getNext():null),a?p.Ct(a.path.toArray()):p.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=vr(),a=n.path.length+1,l={};if(r.isEqual(Ue.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var p=n.path.toArray(),g=vy(r);l.range=IDBKeyRange.lowerBound([p,g],!0),l.index=wt.collectionReadTimeIndex}return ki(t).$t(l,function(h,m,y){if(h.length===a){var _=Ug(o.R,m);n.path.isPrefixOf(_.key.path)?Ic(n,_)&&(s=s.insert(_.key,_)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new hV(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return vI(t).get(Mr.key).next(function(n){return Se(!!n),n})},e.prototype.me=function(t,n){return vI(t).put(Mr.key,n)},e.prototype.ye=function(t,n){if(n){var r=Ug(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Ue.min()))return r}return cn.newInvalidDocument(t)},e}(),hV=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Iu(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),o}return _e(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,a=new Mt(function(l,f){return qe(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var p=r.Ae.get(l);if(f.document.isValidDocument()){var g=lI(r.Ie.R,f.document,r.getReadTime(l));a=a.add(l.path.popLast());var h=Vf(g);s+=h-p,o.push(r.Ie.addEntry(n,l,g))}else if(s-=p,r.trackRemovals){var m=lI(r.Ie.R,cn.newNoDocument(l,Ue.min()),r.getReadTime(l));o.push(r.Ie.addEntry(n,l,m))}else o.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),ee.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(V1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(e){return Pn(e,Mr.store)}function ki(e){return Pn(e,wt.store)}function zl(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dV=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;Se(r<o&&r>=0&&o<=11);var a=new R1("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(Vn.store)}(t),function(f){f.createObjectStore(Fi.store,{keyPath:Fi.keyPath}),f.createObjectStore(st.store,{keyPath:st.keyPath,autoIncrement:!0}).createIndex(st.userMutationsIndex,st.userMutationsKeyPath,{unique:!0}),f.createObjectStore(nn.store)}(t),yI(t),function(f){f.createObjectStore(wt.store)}(t));var l=ee.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(Gt.store),f.deleteObjectStore(Cn.store),f.deleteObjectStore(Un.store)}(t),yI(t)),l=l.next(function(){return function(f){var p=f.store(Un.store),g=new Un(0,0,Ue.min().toTimestamp(),0);return p.put(Un.key,g)}(a)})),r<4&&o>=4&&(r!==0&&(l=l.next(function(){return function(f,p){return p.store(st.store).Nt().next(function(g){f.deleteObjectStore(st.store),f.createObjectStore(st.store,{keyPath:st.keyPath,autoIncrement:!0}).createIndex(st.userMutationsIndex,st.userMutationsKeyPath,{unique:!0});var h=p.store(st.store),m=g.map(function(y){return h.put(y)});return ee.waitFor(m)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(ei.store,{keyPath:ei.keyPath})})(t)})),r<5&&o>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Mr.store)}(t),s.be(a)})),r<7&&o>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&o>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var p=f.objectStore(wt.store);p.createIndex(wt.readTimeIndex,wt.readTimeIndexPath,{unique:!1}),p.createIndex(wt.collectionReadTimeIndex,wt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(su.store,{keyPath:su.keyPath})})(t),function(f){f.createObjectStore(uu.store,{keyPath:uu.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(wt.store).$t(function(r,o){n+=Vf(o)}).next(function(){var r=new Mr(n);return t.store(Mr.store).put(Mr.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Fi.store),o=t.store(st.store);return r.Nt().next(function(s){return ee.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(st.userMutationsIndex,l).next(function(f){return ee.forEach(f,function(p){Se(p.userId===a.userId);var g=Ls(n.R,p);return L1(t,a.userId,g).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Gt.store),r=t.store(wt.store);return t.store(Un.store).get(Un.key).next(function(o){var s=[];return r.$t(function(a,l){var f=new Qe(a),p=function(g){return[0,yr(g)]}(f);s.push(n.get(p).next(function(g){return g?ee.resolve():function(h){return n.put(new Gt(0,yr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return ee.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Lo.store,{keyPath:Lo.keyPath});var r=n.store(Lo.store),o=new yy,s=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return r.put({collectionId:l,parent:yr(f)})}};return n.store(wt.store).$t({Ft:!0},function(a,l){var f=new Qe(a);return s(f.popLast())}).next(function(){return n.store(nn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var p=Qr(f);return s(p.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Cn.store);return r.$t(function(o,s){var a=_a(s),l=P1(n.R,a);return r.put(l)})},e}();function yI(e){e.createObjectStore(Gt.store,{keyPath:Gt.keyPath}).createIndex(Gt.documentTargetsIndex,Gt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Cn.store,{keyPath:Cn.keyPath}).createIndex(Cn.queryTargetsIndexName,Cn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Un.store)}var $m="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pV=function(){function e(t,n,r,o,s,a,l,f,p,g){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=p,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new J(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lV(this,o),this.Le=n+"main",this.R=new O1(f),this.Be=new au(this.Le,11,new dV(this.R)),this.qe=new sV(this.referenceDelegate,this.R),this.Ut=new iV,this.Ue=function(h,m){return new fV(h,m)}(this.R,this.Ut),this.Ke=new nV,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&Nt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new J(F.FAILED_PRECONDITION,$m);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new qn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return K(n,void 0,void 0,function(){return $(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return K(n,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return K(n,void 0,void 0,function(){return $(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Wl(n).put(new ei(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(ts(n))return ie("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return ma(t).get(Vn.key).next(function(r){return ee.resolve(n.tn(r))})},e.prototype.en=function(t){return Wl(t).delete(this.clientId)},e.prototype.nn=function(){return K(this,void 0,void 0,function(){var t,n,r,o,s=this;return $(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Pn(l,ei.store);return f.Nt().next(function(p){var g=s.rn(p,18e5),h=p.filter(function(m){return g.indexOf(m)===-1});return ee.forEach(h,function(m){return f.delete(m.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?ee.resolve(!0):ma(t).get(Vn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new J(F.FAILED_PRECONDITION,$m);return!1}}return!(!n.networkEnabled||!n.inForeground)||Wl(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&ie("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return K(this,void 0,void 0,function(){var t=this;return $(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Vn.store,ei.store],function(r){var o=new cI(r,qn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Wl(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return oV.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ie("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,JF,function(l){return s=new cI(l,o.Ne?o.Ne.next():qn.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw Nt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new J(F.FAILED_PRECONDITION,C1);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return ma(t).get(Vn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new J(F.FAILED_PRECONDITION,$m)})},e.prototype.Ze=function(t){var n=new Vn(this.clientId,this.allowTabSynchronization,Date.now());return ma(t).put(Vn.key,n)},e.yt=function(){return au.yt()},e.prototype.Xe=function(t){var n=this,r=ma(t);return r.get(Vn.key).next(function(o){return n.tn(o)?(ie("IndexedDbPersistence","Releasing primary lease."),r.delete(Vn.key)):ee.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Nt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),bL()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ie("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return Nt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Nt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function ma(e){return Pn(e,Vn.store)}function Wl(e){return Pn(e,ei.store)}function _y(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var U1=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):ly(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new ve(n)).next(function(r){var o=Fg();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,a=Fg();return this.Ut.getCollectionParents(t,s).next(function(l){return ee.forEach(l,function(f){var p=function(g,h){return new si(h,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(s));return o.An(t,p,r).next(function(g){g.forEach(function(h,m){a=a.insert(h,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var o,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,o).next(function(f){o=f;for(var p=0,g=s;p<g.length;p++)for(var h=g[p],m=0,y=h.mutations;m<y.length;m++){var _=y[m],b=_.key,T=o.get(b);T==null&&(T=cn.newInvalidDocument(b),o=o.insert(b,T)),Mg(_,T,h.localWriteTime),T.isFoundDocument()||(o=o.remove(b))}})}).next(function(){return o.forEach(function(l,f){Ic(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,r){for(var o=ot(),s=0,a=n;s<a.length;s++)for(var l=0,f=a[s].mutations;l<f.length;l++){var p=f[l];p instanceof Ki&&r.get(p.key)===null&&(o=o.add(p.key))}var g=r;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(m,y){y.isFoundDocument()&&(g=g.insert(m,y))}),g})},e}(),mV=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=ot(),o=ot(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),j1=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Ue.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=s.Cn(n,a);return(cf(n)||Mf(n))&&s.Nn(n.limitType,l,o,r)?s.Dn(t,n):(xg()<=We.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lg(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return l.forEach(function(p){f=f.insert(p.key,p)}),f}))})},e.prototype.Cn=function(t,n){var r=new Mt(s1(t));return n.forEach(function(o,s){Ic(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return xg()<=We.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Lg(n)),this.Sn.getDocumentsMatchingQuery(t,n,Ue.min())},e}(),gV=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new ln(qe),this.Fn=new Iu(function(s){return wc(s)},Sh),this.$n=Ue.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new U1(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(e,t,n,r){return new gV(e,t,n,r)}function q1(e,t){return K(this,void 0,void 0,function(){var n,r,o,s;return $(this,function(a){switch(a.label){case 0:return n=ce(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(p){return f=p,r=n.persistence.getMutationQueue(t),o=new U1(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(p){for(var g=[],h=[],m=ot(),y=0,_=f;y<_.length;y++){var b=_[y];g.push(b.batchId);for(var T=0,I=b.mutations;T<I.length;T++){var N=I[T];m=m.add(N.key)}}for(var C=0,x=p;C<x.length;C++){var V=x[C];h.push(V.batchId);for(var D=0,q=V.mutations;D<q.length;D++){var L=q[D];m=m.add(L.key)}}return o.pn(l,m).next(function(W){return{Ln:W,removedBatchIds:g,addedBatchIds:h}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function vV(e,t){var n=ce(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,p){var g=f.batch,h=g.keys(),m=ee.resolve();return h.forEach(function(y){m=m.next(function(){return p.getEntry(l,y)}).next(function(_){var b=f.docVersions.get(y);Se(b!==null),_.version.compareTo(b)<0&&(g.applyToRemoteDocument(_,f),_.isValidDocument()&&p.addEntry(_,f.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,g)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function $1(e){var t=ce(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function yV(e,t){var n=ce(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(g,h){var m=o.get(h);if(m){l.push(n.qe.removeMatchingKeys(s,g.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,g.addedDocuments,h)}));var y=g.resumeToken;if(y.approximateByteSize()>0){var _=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,_),function(b,T,I){return Se(T.resumeToken.approximateByteSize()>0),b.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(m,_,g)&&l.push(n.qe.updateTargetData(s,_))}}});var f=vr();if(t.documentUpdates.forEach(function(g,h){t.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),l.push(_V(s,a,t.documentUpdates,r,void 0).next(function(g){f=g})),!r.isEqual(Ue.min())){var p=n.qe.getLastRemoteSnapshotVersion(s).next(function(g){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(p)}return ee.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function _V(e,t,n,r,o){var s=ot();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=vr();return n.forEach(function(f,p){var g=a.get(f),h=(o==null?void 0:o.get(f))||r;p.isNoDocument()&&p.version.isEqual(Ue.min())?(t.removeEntry(f,h),l=l.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p,h),l=l.insert(f,p)):ie("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),l})}function wV(e,t){var n=ce(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function jf(e,t){var n=ce(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,ee.resolve(o)):n.qe.allocateTargetId(r).next(function(a){return o=new Rh(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function fu(e,t,n){return K(this,void 0,void 0,function(){var r,o,s,a;return $(this,function(l){switch(l.label){case 0:r=ce(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!ts(a=l.sent()))throw a;return ie("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function Bf(e,t,n){var r=ce(e),o=Ue.min(),s=ot();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,p){var g=ce(l),h=g.Fn.get(p);return h!==void 0?ee.resolve(g.kn.get(h)):g.qe.getTargetData(f,p)}(r,a,Br(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?o:Ue.min(),n?s:ot())}).next(function(l){return{documents:l,Bn:s}})})}function H1(e,t){var n=ce(e),r=ce(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function K1(e){var t=ce(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var a=ce(r),l=vr(),f=vy(s),p=ki(o),g=IDBKeyRange.lowerBound(f,!0);return p.$t({index:wt.readTimeIndex,range:g},function(h,m){var y=Ug(a.R,m);l=l.insert(y.key,y),f=m.readTime}).next(function(){return{wn:l,readTime:x1(f)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function bV(e){return K(this,void 0,void 0,function(){var t;return $(this,function(n){return[2,(t=ce(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=ki(o),a=Ue.min();return s.$t({index:wt.readTimeIndex,reverse:!0},function(l,f,p){f.readTime&&(a=x1(f.readTime)),p.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EV=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return ee.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:En(r.createTime)}),ee.resolve()},e.prototype.getNamedQuery=function(t,n){return ee.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:D1(r.bundledQuery),readTime:En(r.readTime)}}(n)),ee.resolve()},e}(),wy=function(){function e(){this.Wn=new Mt(Vt.Gn),this.zn=new Mt(Vt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Vt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Vt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new ve(new Qe([])),o=new Vt(r,t),s=new Vt(r,t+1),a=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new ve(new Qe([])),r=new Vt(n,t),o=new Vt(n,t+1),s=ot();return this.zn.forEachInRange([r,o],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Vt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Vt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return ve.comparator(t.key,n.key)||qe(t.ns,n.ns)},e.Hn=function(t,n){return qe(t.ns,n.ns)||ve.comparator(t.key,n.key)},e}(),IV=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Mt(Vt.Gn)}return e.prototype.checkEmpty=function(t){return ee.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new gy(s,n,r,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var p=f[l];this.rs=this.rs.add(new Vt(p.key,s)),this.Ut.addToCollectionParentIndex(t,p.key.path.popLast())}return ee.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return ee.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return ee.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ee.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return ee.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new Vt(n,0),s=new Vt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,s],function(l){var f=r.os(l.ns);a.push(f)}),ee.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new Mt(qe);return n.forEach(function(s){var a=new Vt(s,0),l=new Vt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),ee.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;ve.isDocumentKey(s)||(s=s.child(""));var a=new Vt(new ve(s),0),l=new Mt(qe);return this.rs.forEachWhile(function(f){var p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(l=l.add(f.ns)),!0)},a),ee.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;Se(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return ee.forEach(n.mutations,function(s){var a=new Vt(s.key,n.batchId);return o=o.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Vt(n,0),o=this.rs.firstAfterOrEqual(r);return ee.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,ee.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),TV=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new ln(ve.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return ee.resolve(r?r.document.clone():cn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=vr();return n.forEach(function(s){var a=r.docs.get(s);o=o.insert(s,a?a.document.clone():cn.newInvalidDocument(s))}),ee.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=vr(),s=new ve(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),f=l.key,p=l.value,g=p.document,h=p.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(r)<=0||Ic(n,g)&&(o=o.insert(g.key,g.clone()))}return ee.resolve(o)},e.prototype.fs=function(t,n){return ee.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new AV(this)},e.prototype.getSize=function(t){return ee.resolve(this.size)},e}(),AV=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return _e(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?o.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),ee.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(V1),SV=function(){function e(t){this.persistence=t,this.ds=new Iu(function(n){return wc(n)},Sh),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.ws=0,this._s=new wy,this.targetCount=0,this.ys=Uf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),ee.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return ee.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return ee.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ee.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),ee.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Uf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,ee.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),ee.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ee.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),ee.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return ee.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return ee.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),ee.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(a){s.push(o.markPotentiallyOrphaned(t,a))}),ee.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),ee.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return ee.resolve(r)},e.prototype.containsKey=function(t,n){return ee.resolve(this._s.containsKey(n))},e}(),kV=function(){function e(t,n){var r=this;this.gs={},this.Ne=new qn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new SV(this),this.Ut=new rV,this.Ue=function(o,s){return new TV(o,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new O1(n),this.Ke=new EV(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new IV(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ie("MemoryPersistence","Starting transaction:",t);var s=new CV(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return o.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return ee.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),CV=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return _e(t,e),t}(N1),NV=function(){function e(t){this.persistence=t,this.As=new wy,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ge()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),ee.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),ee.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),ee.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.vs,function(o){var s=ve.fromPath(o);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return ee.or([function(){return ee.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Kt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(e,t){return"firestore_clients_"+e+"_"+t}function wI(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Hm(e,t){return"firestore_targets_"+e+"_"+t}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");var bI=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new J(s.error.code,s.error.message)),a?new e(t,n,s.state,o):(Nt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Km=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new J(o.error.code,o.error.message)),s?new e(t,o.state,r):(Nt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),EI=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Nh(),a=0;o&&a<r.activeTargetIds.length;++a)o=e1(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return o?new e(t,s):(Nt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),RV=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Nt("SharedClientState","Failed to parse online state: "+t),null)},e}(),jg=function(){function e(){this.activeTargetIds=Nh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Gm=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new ln(qe),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=_I(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new jg),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return K(this,void 0,void 0,function(){var t,n,r,o,s,a,l,f,p,g,h,m=this;return $(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(_I(this.persistenceKey,o)))&&(a=EI.Vs(o,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),p=0,g=this.$s;p<g.length;p++)h=g[p],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Hm(this.persistenceKey,t));if(r){var o=Km.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Hm(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ie("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ie("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ie("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(ie("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Nt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return K(n,void 0,void 0,function(){var o,s,a,l,f,p;return $(this,function(g){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(p=function(h){var m=qn.o;if(h!=null)try{var y=JSON.parse(h);Se(typeof y=="number"),m=y}catch(_){Nt("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(r.newValue))!==qn.o&&this.sequenceNumberHandler(p);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new bI(this.currentUser,t,n,r),s=wI(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=wI(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=Hm(this.persistenceKey,t),s=new Km(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return EI.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return bI.Vs(new Kt(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return Km.Vs(o,n)},e.prototype.js=function(t){return RV.Vs(t)},e.prototype.ii=function(t){return K(this,void 0,void 0,function(){return $(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ie("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(p){s.has(p)||l.push(p)}),s.forEach(function(p){a.has(p)||f.push(p)}),this.syncEngine.hi(l,f).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Nh();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),G1=function(){function e(){this.li=new jg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new jg,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),OV=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),II=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),xV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},PV=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),DV=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return _e(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(a,l){var f=new fF;f.listenOnce(aF.COMPLETE,function(){try{switch(f.getLastErrorCode()){case qm.NO_ERROR:var g=f.getResponseJson();ie("Connection","XHR received:",JSON.stringify(g)),a(g);break;case qm.TIMEOUT:ie("Connection",'RPC "'+n+'" timed out'),l(new J(F.DEADLINE_EXCEEDED,"Request time out"));break;case qm.HTTP_ERROR:var h=f.getStatus();if(ie("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var m=f.getResponseJson().error;if(m&&m.status&&m.message){var y=function(_){var b=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(b)>=0?b:F.UNKNOWN}(m.status);l(new J(y,m.message))}else l(new J(F.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new J(F.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ie("Connection",'RPC "'+n+'" completed.')}});var p=JSON.stringify(s);f.send(r,"POST",p,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=sF(),a=uF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new lF({})),this.ki(l.initMessageHeaders,r),pL()||vL()||yL()||_L()||wL()||gL()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ie("Connection","Creating WebChannel: "+f,l);var p=s.createWebChannel(f,l),g=!1,h=!1,m=new PV({Ei:function(_){h?ie("Connection","Not sending because WebChannel is closed:",_):(g||(ie("Connection","Opening WebChannel transport."),p.open(),g=!0),ie("Connection","WebChannel sending:",_),p.send(_))},Ti:function(){return p.close()}}),y=function(_,b,T){_.listen(b,function(I){try{T(I)}catch(N){setTimeout(function(){throw N},0)}})};return y(p,Hl.EventType.OPEN,function(){h||ie("Connection","WebChannel transport opened.")}),y(p,Hl.EventType.CLOSE,function(){h||(h=!0,ie("Connection","WebChannel transport closed"),m.Vi())}),y(p,Hl.EventType.ERROR,function(_){h||(h=!0,Of("Connection","WebChannel transport errored:",_),m.Vi(new J(F.UNAVAILABLE,"The operation could not be completed")))}),y(p,Hl.EventType.MESSAGE,function(_){var b;if(!h){var T=_.data[0];Se(!!T);var I=T,N=I.error||((b=I[0])===null||b===void 0?void 0:b.error);if(N){ie("Connection","WebChannel received error:",N);var C=N.status,x=function(D){var q=kt[D];if(q!==void 0)return g1(q)}(C),V=N.message;x===void 0&&(x=F.INTERNAL,V="Unknown error status: "+C+" with message "+N.message),h=!0,m.Vi(new J(x,V)),p.close()}else ie("Connection","WebChannel received:",T),m.Si(T)}}),y(a,cF.STAT_EVENT,function(_){_.stat===jE.PROXY?ie("Connection","Detected buffering proxy"):_.stat===jE.NOPROXY&&ie("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);ie("RestConnection","Sending: ",s,r);var a={};return this.ki(a,o),this.Fi(t,s,a,r).then(function(l){return ie("RestConnection","Received: ",l),l},function(l){throw Of("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=xV[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){return typeof window<"u"?window:null}function hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(e){return new jF(e,!0)}var by=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&ie("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),W1=function(){function e(t,n,r,o,s,a){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new by(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return K(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return K(this,void 0,void 0,function(){return $(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return K(this,void 0,void 0,function(){return $(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Nt(n.toString()),Nt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===F.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new J(F.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return K(t,void 0,void 0,function(){return $(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ie("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),LV=function(e){function t(n,r,o,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,a)||this).R=s,l}return _e(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var f=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:ge()}(a.targetChange.targetChangeType||"NO_CHANGE"),p=a.targetChange.targetIds||[],g=function(T,I){return T.I?(Se(I===void 0||typeof I=="string"),On.fromBase64String(I||"")):(Se(I===void 0||I instanceof Uint8Array),On.fromUint8Array(I||new Uint8Array))}(s,a.targetChange.resumeToken),h=(m=a.targetChange.cause)&&function(T){var I=T.code===void 0?F.UNKNOWN:g1(T.code);return new J(I,T.message||"")}(m);l=new y1(f,p,g,h||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,p=Zr(s,f.document.name),g=En(f.document.updateTime);var m=new jn({mapValue:{fields:f.document.fields}}),y=(h=cn.newFoundDocument(p,g,m),f.targetIds||[]),_=f.removedTargetIds||[];l=new ff(y,_,h.key,h)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,p=Zr(s,f.document),g=f.readTime?En(f.readTime):Ue.min(),m=cn.newNoDocument(p,g),h=f.removedTargetIds||[],l=new ff([],h,m.key,m);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,p=Zr(s,f.document),g=f.removedTargetIds||[],l=new ff([],g,p,null);else{if(!("filter"in a))return ge();a.filter;var b=a.filter;b.targetId,f=b.count||0,p=new RF(f),g=b.targetId,l=new v1(g,p)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return Ue.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Ue.min():a.readTime?En(a.readTime):Ue.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=ec(this.R),r.addTarget=function(s,a){var l,f=a.target;return(l=Df(f)?{documents:I1(s,f)}:{query:T1(s,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=_1(s,a.resumeToken):a.snapshotVersion.compareTo(Ue.min())>0&&(l.readTime=Ja(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,a){var l=function(f,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ge()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=ec(this.R),r.removeTarget=n,this.cr(r)},t}(W1),MV=function(e){function t(n,r,o,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,a)||this).R=s,l.gr=!1,l}return _e(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Se(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(Se(a!==void 0),s.map(function(l){return function(f,p){var g=f.updateTime?En(f.updateTime):En(p);return g.isEqual(Ue.min())&&(g=En(p)),new kF(g,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=En(n.commitTime);return this.listener.Tr(o,r)}return Se(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=ec(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return Ff(r.R,s)})};this.cr(o)},t}(W1),FV=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return _e(t,e),t.prototype.br=function(){if(this.Rr)throw new J(F.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new J(F.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new J(F.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),VV=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Nt(n),this.Vr=!1):ie("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),UV=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return K(s,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return Gi(this)?(ie("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return K(this,void 0,void 0,function(){var p;return $(this,function(g){switch(g.label){case 0:return(p=ce(f)).Or.add(4),[4,Tu(p)];case 1:return g.sent(),p.Br.set("Unknown"),p.Or.delete(4),[4,kc(p)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new VV(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(e){return K(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:if(!Gi(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Tu(e){return K(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function xh(e,t){var n=ce(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Ty(n)?Iy(n):Su(n).er()&&Ey(n,t))}function tc(e,t){var n=ce(e),r=Su(n);n.$r.delete(t),r.er()&&X1(n,t),n.$r.size===0&&(r.er()?r.ir():Gi(n)&&n.Br.set("Unknown"))}function Ey(e,t){e.qr.U(t.targetId),Su(e).mr(t)}function X1(e,t){e.qr.U(t),Su(e).yr(t)}function Iy(e){e.qr=new FF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Su(e).start(),e.Br.Sr()}function Ty(e){return Gi(e)&&!Su(e).tr()&&e.$r.size>0}function Gi(e){return ce(e).Or.size===0}function Q1(e){e.qr=void 0}function jV(e){return K(this,void 0,void 0,function(){return $(this,function(t){return e.$r.forEach(function(n,r){Ey(e,n)}),[2]})})}function BV(e,t){return K(this,void 0,void 0,function(){return $(this,function(n){return Q1(e),Ty(e)?(e.Br.Nr(t),Iy(e)):e.Br.set("Unknown"),[2]})})}function qV(e,t,n){return K(this,void 0,void 0,function(){var r,o,s;return $(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof y1&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return K(this,void 0,void 0,function(){var p,g,h,m;return $(this,function(y){switch(y.label){case 0:p=f.cause,g=0,h=f.targetIds,y.label=1;case 1:return g<h.length?(m=h[g],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,p)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),ie("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,qf(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ff?e.qr.X(t):t instanceof v1?e.qr.rt(t):e.qr.et(t),n.isEqual(Ue.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,$1(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var p=l.qr.ut(f);return p.targetChanges.forEach(function(g,h){if(g.resumeToken.approximateByteSize()>0){var m=l.$r.get(h);m&&l.$r.set(h,m.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach(function(g){var h=l.$r.get(g);if(h){l.$r.set(g,h.withResumeToken(On.EMPTY_BYTE_STRING,h.snapshotVersion)),X1(l,g);var m=new Rh(h.target,g,1,h.sequenceNumber);Ey(l,m)}}),l.remoteSyncer.applyRemoteEvent(p)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ie("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,qf(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function qf(e,t,n){return K(this,void 0,void 0,function(){var r=this;return $(this,function(o){switch(o.label){case 0:if(!ts(t))throw t;return e.Or.add(1),[4,Tu(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return $1(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return K(r,void 0,void 0,function(){return $(this,function(s){switch(s.label){case 0:return ie("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,kc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function Y1(e,t){return t().catch(function(n){return qf(e,n,t)})}function Au(e){return K(this,void 0,void 0,function(){var t,n,r,o,s;return $(this,function(a){switch(a.label){case 0:t=ce(e),n=qi(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Gi(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,wV(t.localStore,r)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(l,f){l.Fr.push(f);var p=qi(l);p.er()&&p.pr&&p.Er(f.mutations)}(t,o),[3,6]);case 4:return s=a.sent(),[4,qf(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return J1(t)&&Z1(t),[2]}})})}function J1(e){return Gi(e)&&!qi(e).tr()&&e.Fr.length>0}function Z1(e){qi(e).start()}function $V(e){return K(this,void 0,void 0,function(){return $(this,function(t){return qi(e).Ar(),[2]})})}function HV(e){return K(this,void 0,void 0,function(){var t,n,r,o;return $(this,function(s){for(t=qi(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function KV(e,t,n){return K(this,void 0,void 0,function(){var r,o;return $(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=tV.from(r,t,n),[4,Y1(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Au(e)];case 2:return s.sent(),[2]}})})}function GV(e,t){return K(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return t&&qi(e).pr?[4,function(r,o){return K(this,void 0,void 0,function(){var s,a;return $(this,function(l){switch(l.label){case 0:return m1(a=o.code)&&a!==F.ABORTED?(s=r.Fr.shift(),qi(r).sr(),[4,Y1(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Au(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return J1(e)&&Z1(e),[2]}})})}function Bg(e,t){return K(this,void 0,void 0,function(){var n;return $(this,function(r){switch(r.label){case 0:return n=ce(e),t?(n.Or.delete(2),[4,kc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Tu(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Su(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=ce(n);return s.br(),new LV(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:jV.bind(null,e),Ri:BV.bind(null,e),_r:qV.bind(null,e)}),e.Mr.push(function(n){return K(t,void 0,void 0,function(){return $(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Ty(e)?Iy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),Q1(e),r.label=3;case 3:return[2]}})})})),e.Ur}function qi(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=ce(n);return s.br(),new MV(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:$V.bind(null,e),Ri:GV.bind(null,e),Ir:HV.bind(null,e),Tr:KV.bind(null,e)}),e.Mr.push(function(n){return K(t,void 0,void 0,function(){return $(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Au(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(ie("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var zV=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,o,s){var a=new e(t,n,Date.now()+r,o,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ku(e,t){if(Nt("AsyncQueue",t+": "+e),ts(e))return new J(F.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ek=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||ve.comparator(n.key,r.key)}:function(n,r){return ve.comparator(n.key,r.key)},this.keyedMap=Fg(),this.sortedSet=new ln(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),TI=function(){function e(){this.Qr=new ln(ve.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ge():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),$f=function(){function e(t,n,r,o,s,a,l,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,ek.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ec(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),WV=function(){this.Wr=void 0,this.listeners=[]},XV=function(){this.queries=new Iu(function(e){return o1(e)},Ec),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(e,t){return K(this,void 0,void 0,function(){var n,r,o,s,a,l,f;return $(this,function(p){switch(p.label){case 0:if(n=ce(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new WV),!o)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=p.sent(),[3,4];case 3:return l=p.sent(),f=ku(l,"Initialization of query '"+Lg(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&ky(n),[2]}})})}function Sy(e,t){return K(this,void 0,void 0,function(){var n,r,o,s,a;return $(this,function(l){return n=ce(e),r=t.query,o=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function QV(e,t){for(var n=ce(e),r=!1,o=0,s=t;o<s.length;o++){var a=s[o],l=a.query,f=n.queries.get(l);if(f){for(var p=0,g=f.listeners;p<g.length;p++)g[p].Hr(a)&&(r=!0);f.Wr=a}}r&&ky(n)}function YV(e,t,n){var r=ce(e),o=r.queries.get(t);if(o)for(var s=0,a=o.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function ky(e){e.Gr.forEach(function(t){t.next()})}var Cy=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new $f(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=$f.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tk=function(e){this.key=e},nk=function(e){this.key=e},rk=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=ot(),this.mutatedKeys=ot(),this.lo=s1(t),this.fo=new ek(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new TI,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,p=cf(this.query)&&s.size===this.query.limit?s.last():null,g=Mf(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var _=s.get(m),b=Ic(r.query,y)?y:null,T=!!_&&r.mutatedKeys.has(_.key),I=!!b&&(b.hasLocalMutations||r.mutatedKeys.has(b.key)&&b.hasCommittedMutations),N=!1;_&&b?_.data.isEqual(b.data)?T!==I&&(o.track({type:3,doc:b}),N=!0):r.yo(_,b)||(o.track({type:2,doc:b}),N=!0,(p&&r.lo(b,p)>0||g&&r.lo(b,g)<0)&&(f=!0)):!_&&b?(o.track({type:0,doc:b}),N=!0):_&&!b&&(o.track({type:1,doc:_}),N=!0,(p||g)&&(f=!0)),N&&(b?(l=l.add(b),a=I?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),cf(this.query)||Mf(this.query))for(;l.size>this.query.limit;){var h=cf(this.query)?l.last():l.first();l=l.delete(h.key),a=a.delete(h.key),o.track({type:1,doc:h})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(g,h){return function(m,y){var _=function(b){switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return _(m)-_(y)}(g.type,h.type)||o.lo(g.doc,h.doc)}),this.po(r);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,p=f!==this.ao;return this.ao=f,a.length!==0||p?{snapshot:new $f(this.query,t.fo,s,a,t.mutatedKeys,f===0,p,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new TI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=ot(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new nk(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new tk(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ot();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return $f.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),JV=function(e,t,n){this.query=e,this.targetId=t,this.view=n},ZV=function(e){this.key=e,this.bo=!1},eU=function(){function e(t,n,r,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Iu(function(l){return o1(l)},Ec),this.Vo=new Map,this.So=new Set,this.Do=new ln(ve.comparator),this.Co=new Map,this.No=new wy,this.xo={},this.ko=new Map,this.Fo=Uf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function tU(e,t){return K(this,void 0,void 0,function(){var n,r,o,s,a,l;return $(this,function(f){switch(f.label){case 0:return n=Py(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,jf(n.localStore,Br(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Ny(n,t,r,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&xh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Ny(e,t,n,r){return K(this,void 0,void 0,function(){var o,s,a,l,f,p;return $(this,function(g){switch(g.label){case 0:return e.Oo=function(h,m,y){return function(_,b,T,I){return K(this,void 0,void 0,function(){var N,C,x;return $(this,function(V){switch(V.label){case 0:return N=b.view._o(T),N.Nn?[4,Bf(_.localStore,b.query,!1).then(function(D){var q=D.documents;return b.view._o(q,N)})]:[3,2];case 1:N=V.sent(),V.label=2;case 2:return C=I&&I.targetChanges.get(b.targetId),x=b.view.applyChanges(N,_.isPrimaryClient,C),[2,(qg(_,b.targetId,x.To),x.snapshot)]}})})}(e,h,m,y)},[4,Bf(e.localStore,t,!0)];case 1:return o=g.sent(),s=new rk(t,o.Bn),a=s._o(o.documents),l=dy.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(a,e.isPrimaryClient,l),qg(e,n,f.To),p=new JV(t,n,s),[2,(e.Po.set(t,p),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function nU(e,t){return K(this,void 0,void 0,function(){var n,r,o;return $(this,function(s){switch(s.label){case 0:return n=ce(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(a){return!Ec(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,fu(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),tc(n.remoteStore,r.targetId),hu(n,r.targetId)}).catch(ns)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return hu(n,r.targetId),[4,fu(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function rU(e,t,n){return K(this,void 0,void 0,function(){var r,o,s,a;return $(this,function(l){switch(l.label){case 0:r=Dy(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,p){var g,h=ce(f),m=Rn.now(),y=p.reduce(function(_,b){return _.add(b.key)},ot());return h.persistence.runTransaction("Locally write mutations","readwrite",function(_){return h.Mn.pn(_,y).next(function(b){g=b;for(var T=[],I=0,N=p;I<N.length;I++){var C=N[I],x=NF(C,g.get(C.key));x!=null&&T.push(new Ki(C.key,x,t1(x.value.mapValue),un.exists(!0)))}return h._n.addMutationBatch(_,m,T,p)})}).then(function(_){return _.applyToLocalDocumentSet(g),{batchId:_.batchId,changes:g}})}(r.localStore,t)];case 2:return o=l.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){var h=f.xo[f.currentUser.toKey()];h||(h=new ln(qe)),h=h.insert(p,g),f.xo[f.currentUser.toKey()]=h}(r,o.batchId,n),[4,zi(r,o.changes)];case 3:return l.sent(),[4,Au(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=ku(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function ik(e,t){return K(this,void 0,void 0,function(){var n,r;return $(this,function(o){switch(o.label){case 0:n=ce(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,yV(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(Se(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?Se(l.bo):s.removedDocuments.size>0&&(Se(l.bo),l.bo=!1))}),[4,zi(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,ns(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function AI(e,t,n){var r=ce(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,a){var l=ce(s);l.onlineState=a;var f=!1;l.queries.forEach(function(p,g){for(var h=0,m=g.listeners;h<m.length;h++)m[h].zr(a)&&(f=!0)}),f&&ky(l)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function iU(e,t,n){return K(this,void 0,void 0,function(){var r,o,s,a,l,f;return $(this,function(p){switch(p.label){case 0:return(r=ce(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(a=(a=new ln(ve.comparator)).insert(s,cn.newNoDocument(s,Ue.min())),l=ot().add(s),f=new hy(Ue.min(),new Map,new Mt(qe),a,l),[4,ik(r,f)]):[3,2];case 1:return p.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),xy(r),[3,4];case 2:return[4,fu(r.localStore,t,!1).then(function(){return hu(r,t,n)}).catch(ns)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function oU(e,t){return K(this,void 0,void 0,function(){var n,r,o;return $(this,function(s){switch(s.label){case 0:n=ce(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,vV(n.localStore,t)];case 2:return o=s.sent(),Oy(n,r,null),Ry(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,zi(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,ns(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function sU(e,t,n){return K(this,void 0,void 0,function(){var r,o;return $(this,function(s){switch(s.label){case 0:r=ce(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var f=ce(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var g;return f._n.lookupMutationBatch(p,l).next(function(h){return Se(h!==null),g=h.keys(),f._n.removeMutationBatch(p,h)}).next(function(){return f._n.performConsistencyCheck(p)}).next(function(){return f.Mn.pn(p,g)})})}(r.localStore,t)];case 2:return o=s.sent(),Oy(r,t,n),Ry(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,zi(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,ns(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function uU(e,t){return K(this,void 0,void 0,function(){var n,r,o,s,a;return $(this,function(l){switch(l.label){case 0:Gi((n=ce(e)).remoteStore)||ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var p=ce(f);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return p._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=l.sent(),a=ku(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Ry(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Oy(e,t,n){var r=ce(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function hu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||ok(e,a)})}function ok(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(tc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),xy(e))}function qg(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof tk?(e.No.addReference(s.key,t),aU(e,s)):s instanceof nk?(ie("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||ok(e,s.key)):ge()}}function aU(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(ie("SyncEngine","New document in limbo: "+n),e.So.add(r),xy(e))}function xy(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ve(Qe.fromString(t)),r=e.Fo.next();e.Co.set(r,new ZV(n)),e.Do=e.Do.insert(n,r),xh(e.remoteStore,new Rh(Br(bc(n.path)),r,2,qn.o))}}function zi(e,t,n){return K(this,void 0,void 0,function(){var r,o,s,a;return $(this,function(l){switch(l.label){case 0:return r=ce(e),o=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,p){a.push(r.Oo(p,t,n).then(function(g){if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,g.fromCache?"not-current":"current"),o.push(g);var h=mV.Pn(p.targetId,g);s.push(h)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(o),[4,function(f,p){return K(this,void 0,void 0,function(){var g,h,m,y,_,b,T,I,N;return $(this,function(C){switch(C.label){case 0:g=ce(f),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(x){return ee.forEach(p,function(V){return ee.forEach(V.bn,function(D){return g.persistence.referenceDelegate.addReference(x,V.targetId,D)}).next(function(){return ee.forEach(V.vn,function(D){return g.persistence.referenceDelegate.removeReference(x,V.targetId,D)})})})})];case 2:return C.sent(),[3,4];case 3:if(!ts(h=C.sent()))throw h;return ie("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(m=0,y=p;m<y.length;m++)_=y[m],b=_.targetId,_.fromCache||(T=g.kn.get(b),I=T.snapshotVersion,N=T.withLastLimboFreeSnapshotVersion(I),g.kn=g.kn.insert(b,N));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function cU(e,t){return K(this,void 0,void 0,function(){var n,r;return $(this,function(o){switch(o.label){case 0:return(n=ce(e)).currentUser.isEqual(t)?[3,3]:(ie("SyncEngine","User change. New user:",t.toKey()),[4,q1(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new J(F.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,zi(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function lU(e,t){var n=ce(e),r=n.Co.get(t);if(r&&r.bo)return ot().add(r.key);var o=ot(),s=n.Vo.get(t);if(!s)return o;for(var a=0,l=s;a<l.length;a++){var f=l[a],p=n.Po.get(f);o=o.unionWith(p.view.wo)}return o}function fU(e,t){return K(this,void 0,void 0,function(){var n,r,o;return $(this,function(s){switch(s.label){case 0:return[4,Bf((n=ce(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&qg(n,t.targetId,o.To),o)]}})})}function hU(e){return K(this,void 0,void 0,function(){var t;return $(this,function(n){return[2,K1((t=ce(e)).localStore).then(function(r){return zi(t,r)})]})})}function dU(e,t,n,r){return K(this,void 0,void 0,function(){var o,s;return $(this,function(a){switch(a.label){case 0:return[4,function(l,f){var p=ce(l),g=ce(p._n);return p.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return g.jt(h,f).next(function(m){return m?p.Mn.pn(h,m):ee.resolve(null)})})}((o=ce(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Au(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Oy(o,t,r||null),Ry(o,t),function(l,f){ce(ce(l)._n).Gt(f)}(o.localStore,t)):ge(),a.label=4;case 4:return[4,zi(o,s)];case 5:return a.sent(),[3,7];case 6:ie("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function pU(e,t){return K(this,void 0,void 0,function(){var n,r,o,s,a,l,f,p;return $(this,function(g){switch(g.label){case 0:return Py(n=ce(e)),Dy(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,SI(n,r.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,Bg(n.remoteStore,!0)];case 2:for(g.sent(),s=0,a=o;s<a.length;s++)l=a[s],xh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],p=Promise.resolve(),n.Vo.forEach(function(h,m){n.sharedClientState.isLocalQueryTarget(m)?f.push(m):p=p.then(function(){return hu(n,m),fu(n.localStore,m,!0)}),tc(n.remoteStore,m)}),[4,p]);case 4:return g.sent(),[4,SI(n,f)];case 5:return g.sent(),function(h){var m=ce(h);m.Co.forEach(function(y,_){tc(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new ln(ve.comparator)}(n),n.$o=!1,[4,Bg(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function SI(e,t,n){return K(this,void 0,void 0,function(){var r,o,s,a,l,f,p,g,h,m,y,_,b,T;return $(this,function(I){switch(I.label){case 0:r=ce(e),o=[],s=[],a=0,l=t,I.label=1;case 1:return a<l.length?(f=l[a],p=void 0,(g=r.Vo.get(f))&&g.length!==0?[4,jf(r.localStore,Br(g[0]))]:[3,7]):[3,13];case 2:p=I.sent(),h=0,m=g,I.label=3;case 3:return h<m.length?(y=m[h],_=r.Po.get(y),[4,fU(r,_)]):[3,6];case 4:(b=I.sent()).snapshot&&s.push(b.snapshot),I.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,H1(r.localStore,f)];case 8:return T=I.sent(),[4,jf(r.localStore,T)];case 9:return p=I.sent(),[4,Ny(r,sk(T),f,!1)];case 10:I.sent(),I.label=11;case 11:o.push(p),I.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function sk(e){return r1(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mU(e){var t=ce(e);return ce(ce(t.localStore).persistence).fn()}function gU(e,t,n,r){return K(this,void 0,void 0,function(){var o,s,a;return $(this,function(l){switch(l.label){case 0:return(o=ce(e)).$o?(ie("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,K1(o.localStore)];case 3:return s=l.sent(),a=hy.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,zi(o,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,fu(o.localStore,t,!0)];case 6:return l.sent(),hu(o,t,r),[3,8];case 7:ge(),l.label=8;case 8:return[2]}})})}function vU(e,t,n){return K(this,void 0,void 0,function(){var r,o,s,a,l,f,p,g,h,m;return $(this,function(y){switch(y.label){case 0:if(!(r=Py(e)).$o)return[3,10];o=0,s=t,y.label=1;case 1:return o<s.length?(a=s[o],r.Vo.has(a)?(ie("SyncEngine","Adding an already active target "+a),[3,5]):[4,H1(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,jf(r.localStore,l)];case 3:return f=y.sent(),[4,Ny(r,sk(l),f.targetId,!1)];case 4:y.sent(),xh(r.remoteStore,f),y.label=5;case 5:return o++,[3,1];case 6:p=function(_){return $(this,function(b){switch(b.label){case 0:return r.Vo.has(_)?[4,fu(r.localStore,_,!1).then(function(){tc(r.remoteStore,_),hu(r,_)}).catch(ns)]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})},g=0,h=n,y.label=7;case 7:return g<h.length?(m=h[g],[5,p(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function Py(e){var t=ce(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ik.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iU.bind(null,t),t.vo._r=QV.bind(null,t.eventManager),t.vo.Mo=YV.bind(null,t.eventManager),t}function Dy(e){var t=ce(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sU.bind(null,t),t}var uk=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return K(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return this.R=Oh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return B1(this.persistence,new j1,t.initialUser,this.R)},e.prototype.qo=function(t){return new kV(NV.bs,this.R)},e.prototype.Bo=function(t){return new G1},e.prototype.terminate=function(){return K(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),ak=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return _e(t,e),t.prototype.initialize=function(n){return K(this,void 0,void 0,function(){var r=this;return $(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,bV(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Dy(this.Qo.syncEngine)];case 4:return o.sent(),[4,Au(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return B1(this.persistence,new j1,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new aV(r,n.asyncQueue)},t.prototype.qo=function(n){var r=_y(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new pV(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,z1(),hf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new G1},t}(uk),yU=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return _e(t,e),t.prototype.initialize=function(n){return K(this,void 0,void 0,function(){var r,o=this;return $(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Gm?(this.sharedClientState.syncEngine={ui:dU.bind(null,r),ai:gU.bind(null,r),hi:vU.bind(null,r),fn:mU.bind(null,r),ci:hU.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return K(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return[4,pU(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=z1();if(!Gm.yt(r))throw new J(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=_y(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Gm(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(ak),$g=function(){function e(){}return e.prototype.initialize=function(t,n){return K(this,void 0,void 0,function(){var r=this;return $(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return AI(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=cU.bind(null,this.syncEngine),[4,Bg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new XV},e.prototype.createDatastore=function(t){var n,r=Oh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new DV(n));return function(s,a,l){return new FV(s,a,l)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,a,l=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return AI(l.syncEngine,f,0)},a=II.yt()?new II:new OV,new UV(n,r,o,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,a,l,f,p){var g=new eU(r,o,s,a,l,f);return p&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return K(this,void 0,void 0,function(){var n;return $(this,function(r){switch(r.label){case 0:return n=ce(t),ie("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Tu(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ph=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),_U=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return K(this,void 0,void 0,function(){var n,r=this;return $(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new J(F.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return K(this,void 0,void 0,function(){var l,f,p,g,h,m;return $(this,function(y){switch(y.label){case 0:return l=ce(s),f=ec(l.R)+"/documents",p={documents:a.map(function(_){return Za(l.R,_)})},[4,l.$i("BatchGetDocuments",f,p)];case 1:return g=y.sent(),h=new Map,g.forEach(function(_){var b=function(T,I){return"found"in I?function(N,C){Se(!!C.found),C.found.name,C.found.updateTime;var x=Zr(N,C.found.name),V=En(C.found.updateTime),D=new jn({mapValue:{fields:C.found.fields}});return cn.newFoundDocument(x,V,D)}(T,I):"missing"in I?function(N,C){Se(!!C.missing),Se(!!C.readTime);var x=Zr(N,C.missing),V=En(C.readTime);return cn.newNoDocument(x,V)}(T,I):ge()}(l.R,_);h.set(b.key.toString(),b)}),m=[],[2,(a.forEach(function(_){var b=h.get(_.toString());Se(!!b),m.push(b)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Sc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return K(this,void 0,void 0,function(){var t,n=this;return $(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var a=ve.fromPath(s);n.mutations.push(new fy(a,n.precondition(a)))}),[4,function(o,s){return K(this,void 0,void 0,function(){var a,l,f;return $(this,function(p){switch(p.label){case 0:return a=ce(o),l=ec(a.R)+"/documents",f={writes:s.map(function(g){return Ff(a.R,g)})},[4,a.Ni("Commit",l,f)];case 1:return p.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ge();n=Ue.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new J(F.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?un.updateTime(n):un.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Ue.min()))throw new J(F.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return un.updateTime(n)}return un.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),wU=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new by(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return K(t,void 0,void 0,function(){var n,r,o=this;return $(this,function(s){return n=new _U(this.datastore),(r=this.sc(n))&&r.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!es(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!m1(n)}return!1},e}(),bU=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Kt.UNAUTHENTICATED,this.clientId=XS.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return K(o,void 0,void 0,function(){return $(this,function(a){switch(a.label){case 0:return ie("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return K(this,void 0,void 0,function(){return $(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new J(F.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return K(t,void 0,void 0,function(){var r,o;return $(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=ku(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(e,t){return K(this,void 0,void 0,function(){var n,r,o=this;return $(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return K(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,q1(t.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function lk(e,t){return K(this,void 0,void 0,function(){var n,r;return $(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Ly(e)];case 1:return n=o.sent(),ie("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return K(this,void 0,void 0,function(){var f,p;return $(this,function(g){switch(g.label){case 0:return(f=ce(a)).asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials"),p=Gi(f),f.Or.add(3),[4,Tu(f)];case 1:return g.sent(),p&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return g.sent(),f.Or.delete(3),[4,kc(f)];case 3:return g.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Ly(e){return K(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ie("FirestoreClient","Using default OfflineComponentProvider"),[4,ck(e,new uk)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Dh(e){return K(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ie("FirestoreClient","Using default OnlineComponentProvider"),[4,lk(e,new $g)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function kI(e){return Ly(e).then(function(t){return t.persistence})}function fk(e){return Ly(e).then(function(t){return t.localStore})}function CI(e){return Dh(e).then(function(t){return t.remoteStore})}function hk(e){return Dh(e).then(function(t){return t.syncEngine})}function du(e){return K(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:return[4,Dh(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=tU.bind(null,t.syncEngine),n.onUnlisten=nU.bind(null,t.syncEngine),n)]}})})}function NI(e,t,n){var r=this;n===void 0&&(n={});var o=new xn;return e.asyncQueue.enqueueAndForget(function(){return K(r,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return s=function(l,f,p,g,h){var m=new Ph({next:function(_){f.enqueueAndForget(function(){return Sy(l,y)});var b=_.docs.has(p);!b&&_.fromCache?h.reject(new J(F.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&g&&g.source==="server"?h.reject(new J(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new Cy(bc(p.path),m,{includeMetadataChanges:!0,so:!0});return Ay(l,y)},[4,du(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function RI(e,t,n){var r=this;n===void 0&&(n={});var o=new xn;return e.asyncQueue.enqueueAndForget(function(){return K(r,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return s=function(l,f,p,g,h){var m=new Ph({next:function(_){f.enqueueAndForget(function(){return Sy(l,y)}),_.fromCache&&g.source==="server"?h.reject(new J(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new Cy(p,m,{includeMetadataChanges:!0,so:!0});return Ay(l,y)},[4,du(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var EU=function(e,t,n,r,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},Hf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),OI=new Map,dk=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},xI=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Kt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),IU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),TU=function(){function e(t){var n=this;this.currentUser=Kt.UNAUTHENTICATED,this.oc=new xn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){ie("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(ie("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(ie("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Se(typeof o.accessToken=="string"),new dk(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return K(r,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Se(t===null||typeof t=="string"),new Kt(t)},e}(),AU=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),SU=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new AU(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Kt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(e,t,n){if(!n)throw new J(F.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Fy(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new J(F.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function pk(e,t,n,r){if(t===!0&&r===!0)throw new J(F.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function PI(e){if(!ve.isDocumentKey(e))throw new J(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function DI(e){if(ve.isDocumentKey(e))throw new J(F.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Lh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ge()}function Ye(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Lh(e);throw new J(F.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function LI(e,t){if(t<=0)throw new J(F.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MI=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new J(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new J(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,pk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),nc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MI({}),this._settingsFrozen=!1,t instanceof Hf?(this._databaseId=t,this._credentials=new xI):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new J(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hf(r.options.projectId)}(t),this._credentials=new TU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new J(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new J(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MI(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new xI;switch(n.type){case"gapi":var r=n.client;return Se(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new SU(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new J(F.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=OI.get(t))&&(ie("ComponentProvider","Removing Datastore"),OI.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),gt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Vi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Hn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Vi=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,bc(o))||this)._path=o,s.type="collection",s}return _e(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new gt(this.firestore,null,new ve(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=tt(e),My("collection","path",t),e instanceof nc)return DI(n=Qe.fromString.apply(Qe,ft([t],r))),new Vi(e,null,n);if(!(e instanceof gt||e instanceof Vi))throw new J(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return DI(n=Qe.fromString.apply(Qe,ft([e.path],r)).child(Qe.fromString(t))),new Vi(e.firestore,null,n)}function df(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=tt(e),arguments.length===1&&(t=XS.u()),My("doc","path",t),e instanceof nc)return PI(n=Qe.fromString.apply(Qe,ft([t],r))),new gt(e,null,new ve(n));if(!(e instanceof gt||e instanceof Vi))throw new J(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return PI(n=e._path.child(Qe.fromString.apply(Qe,ft([t],r)))),new gt(e.firestore,e instanceof Vi?e.converter:null,new ve(n))}function gk(e,t){return e=tt(e),t=tt(t),(e instanceof gt||e instanceof Vi)&&(t instanceof gt||t instanceof Vi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function vk(e,t){return e=tt(e),t=tt(t),e instanceof Hn&&t instanceof Hn&&e.firestore===t.firestore&&Ec(e._query,t._query)&&e.converter===t.converter}var kU=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new by(this,"async_queue_retry"),this.Ic=function(){var r=hf();r&&ie("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=hf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=hf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new xn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return K(this,void 0,void 0,function(){var t,n=this;return $(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ts(t=r.sent()))throw t;return ie("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Nt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=zV.createAndSchedule(this,t,n,r,function(a){return o.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&ge()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return K(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function pu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var a=s[o];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var CU=-1,Lt=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new kU,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return _e(t,e),t.prototype._terminate=function(){return this._firestoreClient||yk(this),this._firestoreClient.terminate()},t}(nc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(e){return e._firestoreClient||yk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function yk(e){var t,n=e._freezeSettings(),r=function(o,s,a,l){return new EU(o,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new bU(e._credentials,e._queue,r)}function FI(e,t,n){var r=this,o=new xn;return e.asyncQueue.enqueue(function(){return K(r,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,ck(e,n)];case 1:return a.sent(),[4,lk(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===F.FAILED_PRECONDITION||l.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function VI(e){if(e._initialized||e._terminated)throw new J(F.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new J(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),zo=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(On.fromBase64String(t))}catch(n){throw new J(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(On.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),rs=function(e){this._methodName=e},Mh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new J(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new J(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return qe(this._lat,t._lat)||qe(this._long,t._long)},e}(),NU=/^__.*__$/,RU=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Ki(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(t,this.data,n,this.fieldTransforms)},e}(),_k=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Ki(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}var bk=function(){function e(t,n,r,o,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Kf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(wk(this.Nc)&&NU.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),OU=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Oh(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new bk({Nc:t,methodName:n,qc:r,path:_r.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function is(e){var t=e._freezeSettings(),n=Oh(e._databaseId);return new OU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fh(e,t,n,r,o,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);By("Data must be an object, but it was:",a,r);var l,f,p=Tk(r,a);if(s.merge)l=new eu(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){for(var g=[],h=0,m=s.mergeFields;h<m.length;h++){var y=Hg(t,m[h],n);if(!a.contains(y))throw new J(F.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");Sk(g,y)||g.push(y)}l=new eu(g),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new RU(new jn(p),l,f)}var Vy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(rs);function Ek(e,t,n){return new bk({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var xU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype._toFieldTransform=function(n){return new Tc(n.path,new iu)},t.prototype.isEqual=function(n){return n instanceof t},t}(rs),PU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return _e(t,e),t.prototype._toFieldTransform=function(n){var r=Ek(this,n,!0),o=this.Kc.map(function(a){return os(a,r)}),s=new Ko(o);return new Tc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(rs),DU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return _e(t,e),t.prototype._toFieldTransform=function(n){var r=Ek(this,n,!0),o=this.Kc.map(function(a){return os(a,r)}),s=new Go(o);return new Tc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(rs),LU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return _e(t,e),t.prototype._toFieldTransform=function(n){var r=new ou(n.R,c1(n.R,this.Qc));return new Tc(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(rs);function Uy(e,t,n,r){var o=e.Uc(1,t,n);By("Data must be an object, but it was:",o,r);var s=[],a=jn.empty();Zo(r,function(f,p){var g=qy(t,f,n);p=tt(p);var h=o.Oc(g);if(p instanceof Vy)s.push(g);else{var m=os(p,h);m!=null&&(s.push(g),a.set(g,m))}});var l=new eu(s);return new _k(a,l,o.fieldTransforms)}function jy(e,t,n,r,o,s){var a=e.Uc(1,t,n),l=[Hg(t,r,n)],f=[o];if(s.length%2!=0)throw new J(F.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<s.length;p+=2)l.push(Hg(t,s[p])),f.push(s[p+1]);for(var g=[],h=jn.empty(),m=l.length-1;m>=0;--m)if(!Sk(g,l[m])){var y=l[m],_=f[m];_=tt(_);var b=a.Oc(y);if(_ instanceof Vy)g.push(y);else{var T=os(_,b);T!=null&&(g.push(y),h.set(y,T))}}var I=new eu(g);return new _k(h,I,a.fieldTransforms)}function Ik(e,t,n,r){return r===void 0&&(r=!1),os(n,e.Uc(r?4:3,t))}function os(e,t){if(Ak(e=tt(e)))return By("Unsupported field value:",t,e),Tk(e,t);if(e instanceof rs)return function(n,r){if(!wk(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,a=0,l=n;a<l.length;a++){var f=os(l[a],r.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=tt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return c1(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Rn.fromDate(n);return{timestampValue:Ja(r.R,o)}}if(n instanceof Rn)return o=new Rn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Ja(r.R,o)};if(n instanceof Mh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zo)return{bytesValue:_1(r.R,n._byteString)};if(n instanceof gt){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:py(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Lh(n))}(e,t)}function Tk(e,t){var n={};return YS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zo(e,function(r,o){var s=os(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Ak(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Rn||e instanceof Mh||e instanceof zo||e instanceof gt||e instanceof rs)}function By(e,t,n){if(!Ak(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=Lh(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Hg(e,t,n){if((t=tt(t))instanceof Fr)return t._internalPath;if(typeof t=="string")return qy(e,t);throw Kf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var MU=new RegExp("[~\\*/\\[\\]]");function qy(e,t,n){if(t.search(MU)>=0)throw Kf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Fr.bind.apply(Fr,ft([void 0],t.split("."))))()._internalPath}catch{throw Kf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Kf(e,t,n,r,o){var s=r&&!r.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||a)&&(f+=" (found",s&&(f+=" in field "+r),a&&(f+=" in document "+o),f+=")"),new J(F.INVALID_ARGUMENT,(l+=". ")+e+f)}function Sk(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rc=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new gt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new FU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Gf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),FU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(rc);function Gf(e,t){return typeof t=="string"?qy(e,t):t instanceof Fr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ti=function(e){function t(n,r,o,s,a,l){var f=this;return(f=e.call(this,n,r,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return _e(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Ca(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(Gf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(rc),Ca=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ti),Oi=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Oo(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new Ca(r._firestore,r._userDataWriter,o.key,o,new Oo(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new Ca(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Oo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Ca(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Oo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),p=-1,g=-1;return l.type!==0&&(p=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(g=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:VU(l.type),doc:f,oldIndex:p,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function VU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}function kk(e,t){return e instanceof ti&&t instanceof ti?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Oi&&t instanceof Oi&&e._firestore===t._firestore&&vk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(e){if(Mf(e)&&e.explicitOrderBy.length===0)throw new J(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Cc=function(){};function Ei(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var UU=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return _e(t,e),t.prototype._apply=function(n){var r=is(n.firestore),o=function(s,a,l,f,p,g,h){var m;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new J(F.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){$I(h,g);for(var y=[],_=0,b=h;_<b.length;_++){var T=b[_];y.push(qI(f,s,T))}m={arrayValue:{values:y}}}else m=qI(f,s,h)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||$I(h,g),m=Ik(l,"where",h,g==="in"||g==="not-in");var I=$n.create(p,g,m);return function(N,C){if(C.g()){var x=cy(N);if(x!==null&&!x.isEqual(C.field))throw new J(F.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+x.toString()+"' and '"+C.field.toString()+"'");var V=ay(N);V!==null&&Rk(N,C.field,V)}var D=function(q,L){for(var W=0,k=q.filters;W<k.length;W++){var Ee=k[W];if(L.indexOf(Ee.op)>=0)return Ee.op}return null}(N,function(q){switch(q){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if(D!==null)throw D===C.op?new J(F.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+C.op.toString()+"' filter."):new J(F.INVALID_ARGUMENT,"Invalid query. You cannot use '"+C.op.toString()+"' filters with '"+D.toString()+"' filters.")}(s,I),I}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Hn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new si(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(Cc),jU=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return _e(t,e),t.prototype._apply=function(n){var r=function(o,s,a){if(o.startAt!==null)throw new J(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new J(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Ks(s,a);return function(f,p){if(ay(f)===null){var g=cy(f);g!==null&&Rk(f,g,p.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Hn(n.firestore,n.converter,function(o,s){var a=o.explicitOrderBy.concat([s]);return new si(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(Cc),UI=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return _e(t,e),t.prototype._apply=function(n){return new Hn(n.firestore,n.converter,i1(n._query,this.Hc,this.Jc))},t}(Cc),jI=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return _e(t,e),t.prototype._apply=function(n){var r=Nk(n,this.type,this.Yc,this.Xc);return new Hn(n.firestore,n.converter,function(o,s){return new si(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(Cc),BI=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return _e(t,e),t.prototype._apply=function(n){var r=Nk(n,this.type,this.Yc,this.Xc);return new Hn(n.firestore,n.converter,function(o,s){return new si(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(Cc);function Nk(e,t,n,r){if(n[0]=tt(n[0]),n[0]instanceof rc)return function(s,a,l,f,p){if(!f)throw new J(F.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var g=[],h=0,m=ru(s);h<m.length;h++){var y=m[h];if(y.field.isKeyField())g.push(Pf(a,f.key));else{var _=f.data.field(y.field);if(oy(_))throw new J(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var b=y.field.canonicalString();throw new J(F.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+b+"' (used as the orderBy) does not exist.")}g.push(_)}}return new Ya(g,p)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=is(e.firestore);return function(s,a,l,f,p,g){var h=s.explicitOrderBy;if(p.length>h.length)throw new J(F.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<p.length;y++){var _=p[y];if(h[y].field.isKeyField()){if(typeof _!="string")throw new J(F.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!ly(s)&&_.indexOf("/")!==-1)throw new J(F.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var b=s.path.child(Qe.fromString(_));if(!ve.isDocumentKey(b))throw new J(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+b+"' is not because it contains an odd number of segments.");var T=new ve(b);m.push(Pf(a,T))}else{var I=Ik(l,f,_);m.push(I)}}return new Ya(m,g)}(e._query,e.firestore._databaseId,o,t,n,r)}function qI(e,t,n){if(typeof(n=tt(n))=="string"){if(n==="")throw new J(F.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ly(t)&&n.indexOf("/")!==-1)throw new J(F.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Qe.fromString(n));if(!ve.isDocumentKey(r))throw new J(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Pf(e,new ve(r))}if(n instanceof gt)return Pf(e,n._key);throw new J(F.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Lh(n)+".")}function $I(e,t){if(!Array.isArray(e)||e.length===0)throw new J(F.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new J(F.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Rk(e,t,n){if(!n.isEqual(t))throw new J(F.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $y=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Ho(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ct(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(tu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ge()}},e.prototype.convertObject=function(t,n){var r=this,o={};return Zo(t.fields,function(s,a){o[s]=r.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Mh(Ct(t.latitude),Ct(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=ZS(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xa(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Bi(t);return new Rn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Qe.fromString(t);Se(k1(r));var o=new Hf(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return o.isEqual(n)||Nt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var BU=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return _e(t,e),t.prototype.convertBytes=function(n){return new zo(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new gt(this.firestore,null,r)},t}($y),qU=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=is(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=xi(t,this._firestore),s=Vh(o.converter,n,r),a=Fh(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(a.toMutation(o._key,un.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var a,l=xi(t,this._firestore);return a=typeof(n=tt(n))=="string"||n instanceof Fr?jy(this._dataReader,"WriteBatch.update",l._key,n,r,o):Uy(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,un.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=xi(t,this._firestore);return this._mutations=this._mutations.concat(new Sc(n._key,un.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new J(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(e,t){if((e=tt(e)).firestore!==t)throw new J(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return _e(t,e),t.prototype.convertBytes=function(n){return new zo(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new gt(this.firestore,null,r)},t}($y);function HI(e,t,n){e=Ye(e,gt);var r=Ye(e.firestore,Lt),o=Vh(e.converter,t,n);return Nc(r,[Fh(is(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,un.none())])}function KI(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=Ye(e,gt);var s=Ye(e.firestore,Lt),a=is(s);return Nc(s,[(typeof(t=tt(t))=="string"||t instanceof Fr?jy(a,"updateDoc",e._key,t,n,r):Uy(a,"updateDoc",e._key,t)).toMutation(e._key,un.exists(!0))])}function Ok(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=tt(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||pu(o[l])||(a=o[l],l++);var f,p,g,h={includeMetadataChanges:a.includeMetadataChanges};if(pu(o[l])){var m=o[l];o[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),o[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),o[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof gt)p=Ye(e.firestore,Lt),g=bc(e._key.path),f={next:function(b){o[l]&&o[l](Kg(p,e,b))},error:o[l+1],complete:o[l+2]};else{var y=Ye(e,Hn);p=Ye(y.firestore,Lt),g=y._query;var _=new Mo(p);f={next:function(b){o[l]&&o[l](new Oi(p,_,y,b))},error:o[l+1],complete:o[l+2]},Ck(e._query)}return function(b,T,I,N){var C=this,x=new Ph(N),V=new Cy(T,x,I);return b.asyncQueue.enqueueAndForget(function(){return K(C,void 0,void 0,function(){var D;return $(this,function(q){switch(q.label){case 0:return D=Ay,[4,du(b)];case 1:return[2,D.apply(void 0,[q.sent(),V])]}})})}),function(){x.Wo(),b.asyncQueue.enqueueAndForget(function(){return K(C,void 0,void 0,function(){var D;return $(this,function(q){switch(q.label){case 0:return D=Sy,[4,du(b)];case 1:return[2,D.apply(void 0,[q.sent(),V])]}})})})}}(rn(p),g,h,f)}function Nc(e,t){return function(n,r){var o=this,s=new xn;return n.asyncQueue.enqueueAndForget(function(){return K(o,void 0,void 0,function(){var a;return $(this,function(l){switch(l.label){case 0:return a=rU,[4,hk(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(rn(e),t)}function Kg(e,t,n){var r=n.docs.get(t._key),o=new Mo(e);return new ti(e,o,t._key,r,new Oo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $U=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return _e(t,e),t.prototype.get=function(n){var r=this,o=xi(n,this._firestore),s=new Mo(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new ti(r._firestore,s,o._key,a._document,new Oo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=is(t)}return e.prototype.get=function(t){var n=this,r=xi(t,this._firestore),o=new BU(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return ge();var a=s[0];if(a.isFoundDocument())return new rc(n._firestore,o,a.key,a,r.converter);if(a.isNoDocument())return new rc(n._firestore,o,r._key,null,r.converter);throw ge()})},e.prototype.set=function(t,n,r){var o=xi(t,this._firestore),s=Vh(o.converter,n,r),a=Fh(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a,l=xi(t,this._firestore);return a=typeof(n=tt(n))=="string"||n instanceof Fr?jy(this._dataReader,"Transaction.update",l._key,n,r,o):Uy(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=xi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(){if(typeof Uint8Array>"u")throw new J(F.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function zI(){if(typeof atob>"u")throw new J(F.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var xk=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return zI(),new e(zo.fromBase64String(t))},e.fromUint8Array=function(t){return GI(),new e(zo.fromUint8Array(t))},e.prototype.toBase64=function(){return zI(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return GI(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),HU=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){VI(r=Ye(r,Lt));var s=rn(r),a=r._freezeSettings(),l=new $g;return FI(s,l,new ak(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){VI(n=Ye(n,Lt));var r=rn(n),o=n._freezeSettings(),s=new $g;return FI(r,s,new yU(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new J(F.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new xn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return K(r,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return K(this,void 0,void 0,function(){var f;return $(this,function(p){switch(p.label){case 0:return au.yt()?(f=l+"main",[4,au.delete(f)]):[2,Promise.resolve()];case 1:return p.sent(),[2]}})})}(_y(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return s=a.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),Pk=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Hf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Of("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,a,l){var f;l===void 0&&(l={});var p=(o=Ye(o,nc))._getSettings();if(p.host!=="firestore.googleapis.com"&&p.host!==s&&Of("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},p),{host:s+":"+a,ssl:!1})),l.mockUserToken){var g,h;if(typeof l.mockUserToken=="string")g=l.mockUserToken,h=Kt.MOCK_USER;else{g=jA(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new J(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Kt(m)}o._credentials=new IU(new dk(g,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return K(n,void 0,void 0,function(){var r,o;return $(this,function(s){switch(s.label){case 0:return[4,kI(t)];case 1:return r=s.sent(),[4,CI(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=ce(a);return l.Or.delete(0),kc(l)}(o))]}})})})}(rn(Ye(this._delegate,Lt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return K(n,void 0,void 0,function(){var r,o;return $(this,function(s){switch(s.label){case 0:return[4,kI(t)];case 1:return r=s.sent(),[4,CI(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return K(this,void 0,void 0,function(){var l;return $(this,function(f){switch(f.label){case 0:return(l=ce(a)).Or.add(0),[4,Tu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(rn(Ye(this._delegate,Lt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&pk("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new xn;return t.asyncQueue.enqueueAndForget(function(){return K(n,void 0,void 0,function(){var o;return $(this,function(s){switch(s.label){case 0:return o=uU,[4,hk(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(rn(Ye(this._delegate,Lt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var a=this,l=new Ph(s);return o.asyncQueue.enqueueAndForget(function(){return K(a,void 0,void 0,function(){var f;return $(this,function(p){switch(p.label){case 0:return f=function(g,h){ce(g).Gr.add(h),h.next()},[4,du(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return K(a,void 0,void 0,function(){var f;return $(this,function(p){switch(p.label){case 0:return f=function(g,h){ce(g).Gr.delete(h)},[4,du(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})})}}(rn(n=Ye(n,Lt)),pu(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new J(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new zf(this,mk(this._delegate,t))}catch(n){throw gn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Fo(this,df(this._delegate,t))}catch(n){throw gn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Bh(this,function(n,r){if(n=Ye(n,nc),My("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new J(F.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Hn(n,null,function(o){return new si(Qe.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw gn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,a){var l=this,f=new xn;return s.asyncQueue.enqueueAndForget(function(){return K(l,void 0,void 0,function(){var p;return $(this,function(g){switch(g.label){case 0:return[4,function(h){return Dh(h).then(function(m){return m.datastore})}(s)];case 1:return p=g.sent(),new wU(s.asyncQueue,p,a,f).run(),[2]}})})}),f.promise}(rn(r),function(s){return o(new $U(r,s))})}(this._delegate,function(r){return t(new Dk(n,r))})},e.prototype.batch=function(){var t=this;return rn(this._delegate),new Lk(new qU(this._delegate,function(n){return Nc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new J(F.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new J(F.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Uh=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return _e(t,e),t.prototype.convertBytes=function(n){return new xk(new zo(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Fo.eu(r,this.firestore,null)},t}($y);function KU(e){var t;t=e,gr.setLogLevel(t)}var Dk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Uh(t)}return e.prototype.get=function(t){var n=this,r=xo(t);return this._delegate.get(r).then(function(o){return new ic(n._firestore,new ti(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=xo(t);return r?(Fy("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=xo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,ft([l,n,r],s)),this},e.prototype.delete=function(t){var n=xo(t);return this._delegate.delete(n),this},e}(),Lk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=xo(t);return r?(Fy("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=xo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,ft([l,n,r],s)),this},e.prototype.delete=function(t){var n=xo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),jh=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Ca(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new oc(this._firestore,r),n!=null?n:{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new Uh(t),n),o.set(n,s)),s},e}();jh.su=new WeakMap;var Fo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Uh(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new J(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new gt(n._delegate,r,new ve(t)))},e.eu=function(t,n,r){return new e(n,new gt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new zf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new zf(this.firestore,mk(this._delegate,t))}catch(n){throw gn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=tt(t))instanceof gt&&gk(this._delegate,t)},e.prototype.set=function(t,n){n=Fy("DocumentReference.set",n);try{return n?HI(this._delegate,t,n):HI(this._delegate,t)}catch(r){throw gn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?KI(this._delegate,t):KI.apply(void 0,ft([this._delegate,t,n],r))}catch(s){throw gn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Nc(Ye((t=this._delegate).firestore,Lt),[new Sc(t._key,un.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=Mk(n),s=Fk(n,function(a){return new ic(t.firestore,new ti(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return Ok(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ye(r,gt);var o=Ye(r.firestore,Lt),s=rn(o),a=new Mo(o);return function(l,f){var p=this,g=new xn;return l.asyncQueue.enqueueAndForget(function(){return K(p,void 0,void 0,function(){var h;return $(this,function(m){switch(m.label){case 0:return h=function(y,_,b){return K(this,void 0,void 0,function(){var T,I;return $(this,function(N){switch(N.label){case 0:return N.trys.push([0,2,,3]),[4,function(C,x){var V=ce(C);return V.persistence.runTransaction("read document","readonly",function(D){return V.Mn.mn(D,x)})}(y,_)];case 1:return(I=N.sent()).isFoundDocument()?b.resolve(I):I.isNoDocument()?b.resolve(null):b.reject(new J(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return T=N.sent(),I=ku(T,"Failed to get document '"+_+" from cache"),b.reject(I),[3,3];case 3:return[2]}})})},[4,fk(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,g])]}})})}),g.promise}(s,r._key).then(function(l){return new ti(o,a,r._key,l,new Oo(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ye(r,gt);var o=Ye(r.firestore,Lt);return NI(rn(o),r._key,{source:"server"}).then(function(s){return Kg(o,r,s)})}(this._delegate):function(r){r=Ye(r,gt);var o=Ye(r.firestore,Lt);return NI(rn(o),r._key).then(function(s){return Kg(o,r,s)})}(this._delegate)).then(function(r){return new ic(n.firestore,new ti(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(jh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function gn(e,t,n){return e.message=e.message.replace(t,n),e}function Mk(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!pu(r))return r}return{}}function Fk(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=pu(e[0])?e[0]:pu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var ic=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Fo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return kk(this._delegate,t._delegate)},e}(),oc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(ic),Bh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Uh(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Ei(this._delegate,function(o,s,a){var l=s,f=Gf("where",o);return new UU(f,l,a)}(t,n,r)))}catch(o){throw gn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ei(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,a=Gf("orderBy",r);return new jU(a,s)}(t,n)))}catch(r){throw gn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ei(this._delegate,function(n){return LI("limit",n),new UI("limit",n,"F")}(t)))}catch(n){throw gn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ei(this._delegate,function(n){return LI("limitToLast",n),new UI("limitToLast",n,"L")}(t)))}catch(n){throw gn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ei(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new jI("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw gn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ei(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new jI("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw gn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ei(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new BI("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw gn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ei(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new BI("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw gn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return vk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ye(r,Hn);var o=Ye(r.firestore,Lt),s=rn(o),a=new Mo(o);return function(l,f){var p=this,g=new xn;return l.asyncQueue.enqueueAndForget(function(){return K(p,void 0,void 0,function(){var h;return $(this,function(m){switch(m.label){case 0:return h=function(y,_,b){return K(this,void 0,void 0,function(){var T,I,N,C,x;return $(this,function(V){switch(V.label){case 0:return V.trys.push([0,2,,3]),[4,Bf(y,_,!0)];case 1:return x=V.sent(),T=new rk(_,x.Bn),I=T._o(x.documents),N=T.applyChanges(I,!1),b.resolve(N.snapshot),[3,3];case 2:return C=V.sent(),x=ku(C,"Failed to execute query '"+_+" against cache"),b.reject(x),[3,3];case 3:return[2]}})})},[4,fk(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,g])]}})})}),g.promise}(s,r._query).then(function(l){return new Oi(o,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ye(r,Hn);var o=Ye(r.firestore,Lt),s=rn(o),a=new Mo(o);return RI(s,r._query,{source:"server"}).then(function(l){return new Oi(o,a,r,l)})}(this._delegate):function(r){r=Ye(r,Hn);var o=Ye(r.firestore,Lt),s=rn(o),a=new Mo(o);return Ck(r._query),RI(s,r._query).then(function(l){return new Oi(o,a,r,l)})}(this._delegate)).then(function(r){return new Gg(n.firestore,new Oi(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=Mk(n),s=Fk(n,function(a){return new Gg(t.firestore,new Oi(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return Ok(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(jh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),GU=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new oc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Gg=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Bh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new oc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new GU(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new oc(r._firestore,o))})},e.prototype.isEqual=function(t){return kk(this._delegate,t._delegate)},e}(),zf=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return _e(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Fo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Fo(this.firestore,n===void 0?df(this._delegate):df(this._delegate,n))}catch(r){throw gn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var a=Ye(o.firestore,Lt),l=df(o),f=Vh(o.converter,s);return Nc(a,[Fh(is(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,un.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Fo(r.firestore,o)})},t.prototype.isEqual=function(n){return gk(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(jh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Bh);function xo(e){return Ye(e,gt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zU=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Fr.bind.apply(Fr,ft([void 0],t)))}return e.documentId=function(){return new e(_r.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=tt(t))instanceof Fr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),WU=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new xU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Vy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new PU("arrayUnion",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new DU("arrayRemove",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new LU("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),XU={Firestore:Pk,GeoPoint:Mh,Timestamp:Rn,Blob:xk,Transaction:Dk,WriteBatch:Lk,DocumentReference:Fo,DocumentSnapshot:ic,Query:Bh,QueryDocumentSnapshot:oc,QuerySnapshot:Gg,CollectionReference:zf,FieldPath:zU,FieldValue:WU,setLogLevel:KU,CACHE_SIZE_UNLIMITED:CU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(e){(function(t,n){t.INTERNAL.registerComponent(new lc("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},XU)))})(e,function(t,n){return new Pk(t,new Lt(t,n),new HU)}),e.registerVersion("@firebase/firestore","2.4.1")}QU(Ie);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vk="firebasestorage.googleapis.com",Uk="storageBucket",YU=2*60*1e3,JU=10*60*1e3,Pt=function(e){_e(t,e);function t(n,r){var o=e.call(this,zm(n),"Firebase Storage: "+r+" ("+zm(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return zm(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(qA);function zm(e){return"storage/"+e}function Hy(){var e="An unknown error occurred, please check the error payload for server response.";return new Pt("unknown",e)}function ZU(e){return new Pt("object-not-found","Object '"+e+"' does not exist.")}function ej(e){return new Pt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tj(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pt("unauthenticated",e)}function nj(){return new Pt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function rj(e){return new Pt("unauthorized","User does not have permission to access '"+e+"'.")}function ij(){return new Pt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function jk(){return new Pt("canceled","User canceled the upload/download.")}function oj(e){return new Pt("invalid-url","Invalid URL '"+e+"'.")}function sj(e){return new Pt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function uj(){return new Pt("no-default-bucket","No default bucket found. Did you set the '"+Uk+"' property when initializing the app?")}function Bk(){return new Pt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function aj(){return new Pt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function cj(){return new Pt("no-download-url","The given file does not have any download URLs.")}function Gs(e){return new Pt("invalid-argument",e)}function qk(){return new Pt("app-deleted","The Firebase app was deleted.")}function $k(e){return new Pt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Na(e,t){return new Pt("invalid-format","String does not match format '"+e+"': "+t)}function Xl(e){throw new Pt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Wm=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function Hk(e,t){switch(e){case er.RAW:return new Wm(Kk(t));case er.BASE64:case er.BASE64URL:return new Wm(Gk(e,t));case er.DATA_URL:return new Wm(hj(t),dj(t))}throw Hy()}function Kk(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function fj(e){var t;try{t=decodeURIComponent(e)}catch{throw Na(er.DATA_URL,"Malformed data URL.")}return Kk(t)}function Gk(e,t){switch(e){case er.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw Na(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case er.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var o=s?"+":"/";throw Na(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=lj(t)}catch{throw Na(e,"Invalid character found")}for(var f=new Uint8Array(l.length),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);return f}var zk=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Na(er.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=pj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function hj(e){var t=new zk(e);return t.base64?Gk(er.BASE64,t.rest):fj(t.rest)}function dj(e){var t=new zk(e);return t.contentType}function pj(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mj={STATE_CHANGED:"state_changed"},vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Xm(e){switch(e){case"running":case"pausing":case"canceling":return vn.RUNNING;case"paused":return vn.PAUSED;case"success":return vn.SUCCESS;case"canceled":return vn.CANCELED;case"error":return vn.ERROR;default:return vn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Vo||(Vo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gj=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Vo.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Vo.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Vo.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw Xl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Xl("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Xl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Xl("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function vj(){return new gj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yj=function(){function e(){}return e.prototype.createConnection=function(){return vj()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw sj(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function p(W){W.path_=decodeURIComponent(W.path)}for(var g="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+h+"/"+g+"/b/"+o+"/o"+m,"i"),_={bucket:1,path:3},b=n===Vk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",I=new RegExp("^https?://"+b+"/"+o+"/"+T,"i"),N={bucket:1,path:2},C=[{regex:l,indices:f,postModify:s},{regex:y,indices:_,postModify:p},{regex:I,indices:N,postModify:p}],x=0;x<C.length;x++){var V=C[x],D=V.regex.exec(t);if(D){var q=D[V.indices.bucket],L=D[V.indices.path];L||(L=""),r=new e(q,L),V.postModify(r);break}}if(r==null)throw oj(t);return r},e}(),_j=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(e,t,n){var r=1,o=null,s=!1,a=0;function l(){return a===2}var f=!1;function p(){for(var _=[],b=0;b<arguments.length;b++)_[b]=arguments[b];f||(f=!0,t.apply(null,_))}function g(_){o=setTimeout(function(){o=null,e(h,l())},_)}function h(_){for(var b=[],T=1;T<arguments.length;T++)b[T-1]=arguments[T];if(!f){if(_){p.call.apply(p,ft([null,_],b));return}var I=l()||s;if(I){p.call.apply(p,ft([null,_],b));return}r<64&&(r*=2);var N;a===1?(a=2,N=0):N=(r+Math.random())*1e3,g(N)}}var m=!1;function y(_){m||(m=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),g(0)):_||(a=1)))}return g(0),setTimeout(function(){s=!0,y(!0)},n),y}function bj(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(e){return e!==void 0}function Ij(e){return typeof e=="function"}function Tj(e){return typeof e=="object"&&!Array.isArray(e)}function qh(e){return typeof e=="string"||e instanceof String}function WI(e){return Ky()&&e instanceof Blob}function Ky(){return typeof Blob<"u"}function zg(e,t,n,r){if(r<t)throw Gs("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Gs("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function Wk(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aj=function(){function e(t,n,r,o,s,a,l,f,p,g,h){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=g,this.timeout_=p,this.pool_=h,this.promise_=new Promise(function(y,_){m.resolve_=y,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new Ql(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var p=f.loaded,g=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(p,g)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===Vo.NO_ERROR,p=a.getStatus();if(!f||t.isRetryStatusCode_(p)){var g=a.getErrorCode()===Vo.ABORT;o(!1,new Ql(!1,null,g));return}var h=t.successCodes_.indexOf(p)!==-1;o(!0,new Ql(h,a))})}function r(o,s){var a=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var p=t.callback_(f,f.getResponseText());Ej(p)?a(p):a()}catch(h){l(h)}else if(f!==null){var g=Hy();g.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,g)):l(g)}else if(s.canceled){var g=t.appDelete_?qk():jk();l(g)}else{var g=ij();l(g)}}this.canceled_?r(!1,new Ql(!1,null,!0)):this.backoffId_=wj(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&bj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),Ql=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function Sj(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function kj(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function Cj(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Nj(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Rj(e,t,n,r,o,s){var a=Wk(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return Cj(f,t),Sj(f,n),kj(f,s),Nj(f,r),new Aj(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Oj();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(Ky())return new Blob(e);throw new Pt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Pj(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gy=function(){function e(t,n){var r=0,o="";WI(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(WI(this.data_)){var r=this.data_,o=Pj(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Ky()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(xj.apply(null,r))}else{var o=t.map(function(f){return qh(f)?Hk(er.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var a=new Uint8Array(s),l=0;return o.forEach(function(f){for(var p=0;p<f.length;p++)a[l++]=f[p]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(e){var t;try{t=JSON.parse(e)}catch{return null}return Tj(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function Lj(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function Xk(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(e,t){return t}var pn=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||Mj}return e}(),Yl=null;function Fj(e){return!qh(e)||e.length<2?e:Xk(e)}function $h(){if(Yl)return Yl;var e=[];e.push(new pn("bucket")),e.push(new pn("generation")),e.push(new pn("metageneration")),e.push(new pn("name","fullPath",!0));function t(s,a){return Fj(a)}var n=new pn("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var o=new pn("size");return o.xform=r,e.push(o),e.push(new pn("timeCreated")),e.push(new pn("updated")),e.push(new pn("md5Hash",null,!0)),e.push(new pn("cacheControl",null,!0)),e.push(new pn("contentDisposition",null,!0)),e.push(new pn("contentEncoding",null,!0)),e.push(new pn("contentLanguage",null,!0)),e.push(new pn("contentType",null,!0)),e.push(new pn("metadata","customMetadata",!0)),Yl=e,Yl}function Vj(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new tr(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Uj(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return Vj(r,e),r}function Qk(e,t,n){var r=zy(t);if(r===null)return null;var o=r;return Uj(e,o,n)}function jj(e,t,n){var r=zy(t);if(r===null||!qh(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,a=o.split(","),l=a.map(function(f){var p=e.bucket,g=e.fullPath,h="/b/"+s(p)+"/o/"+s(g),m=Wi(h,n),y=Wk({alt:"media",token:f});return m+y});return l[0]}function Wy(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XI="prefixes",QI="items";function Bj(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[XI])for(var o=0,s=n[XI];o<s.length;o++){var a=s[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new tr(t,l));r.prefixes.push(f)}if(n[QI])for(var p=0,g=n[QI];p<g.length;p++){var h=g[p],f=e._makeStorageReference(new tr(t,h.name));r.items.push(f)}return r}function qj(e,t,n){var r=zy(n);if(r===null)return null;var o=r;return Bj(e,t,o)}var ui=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(e){if(!e)throw Hy()}function Hh(e,t){function n(r,o){var s=Qk(e,o,t);return Vr(s!==null),s}return n}function $j(e,t){function n(r,o){var s=qj(e,t,o);return Vr(s!==null),s}return n}function Hj(e,t){function n(r,o){var s=Qk(e,o,t);return Vr(s!==null),jj(s,o,e.host)}return n}function Cu(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=nj():o=tj():n.getStatus()===402?o=ej(e.bucket):n.getStatus()===403?o=rj(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function Kh(e){var t=Cu(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=ZU(e.path)),s.serverResponse=o.serverResponse,s}return n}function Yk(e,t,n){var r=t.fullServerUrl(),o=Wi(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new ui(o,s,Hh(e,n),a);return l.errorHandler=Kh(t),l}function Kj(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var a=t.bucketOnlyServerUrl(),l=Wi(a,e.host),f="GET",p=e.maxOperationRetryTime,g=new ui(l,f,$j(e,t.bucket),p);return g.urlParams=s,g.errorHandler=Cu(t),g}function Gj(e,t,n){var r=t.fullServerUrl(),o=Wi(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new ui(o,s,Hj(e,n),a);return l.errorHandler=Kh(t),l}function zj(e,t,n,r){var o=t.fullServerUrl(),s=Wi(o,e.host),a="PATCH",l=Wy(n,r),f={"Content-Type":"application/json; charset=utf-8"},p=e.maxOperationRetryTime,g=new ui(s,a,Hh(e,r),p);return g.headers=f,g.body=l,g.errorHandler=Kh(t),g}function Wj(e,t){var n=t.fullServerUrl(),r=Wi(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function a(f,p){}var l=new ui(r,o,a,s);return l.successCodes=[200,204],l.errorHandler=Kh(t),l}function Xj(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Jk(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Xj(null,t)),r}function Qj(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var C="",x=0;x<2;x++)C=C+Math.random().toString().slice(2);return C}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var p=Jk(t,r,o),g=Wy(p,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,m=`\r
--`+f+"--",y=Gy.getBlob(h,r,m);if(y===null)throw Bk();var _={name:p.fullPath},b=Wi(s,e.host),T="POST",I=e.maxUploadRetryTime,N=new ui(b,T,Hh(e,n),I);return N.urlParams=_,N.headers=a,N.body=y.uploadData(),N.errorHandler=Cu(t),N}var Wf=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function Xy(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Vr(!1)}var r=t||["active"];return Vr(!!n&&r.indexOf(n)!==-1),n}function Yj(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),a=Jk(t,r,o),l={name:a.fullPath},f=Wi(s,e.host),p="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=Wy(a,n),m=e.maxUploadRetryTime;function y(b){Xy(b);var T;try{T=b.getResponseHeader("X-Goog-Upload-URL")}catch{Vr(!1)}return Vr(qh(T)),T}var _=new ui(f,p,y,m);return _.urlParams=l,_.headers=g,_.body=h,_.errorHandler=Cu(t),_}function Jj(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(p){var g=Xy(p,["active","final"]),h=null;try{h=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Vr(!1)}h||Vr(!1);var m=Number(h);return Vr(!isNaN(m)),new Wf(m,r.size(),g==="final")}var a="POST",l=e.maxUploadRetryTime,f=new ui(n,a,s,l);return f.headers=o,f.errorHandler=Cu(t),f}var YI=256*1024;function Zj(e,t,n,r,o,s,a,l){var f=new Wf(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw aj();var p=f.total-f.current,g=p;o>0&&(g=Math.min(g,o));var h=f.current,m=h+g,y=g===p?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+f.current},b=r.slice(h,m);if(b===null)throw Bk();function T(x,V){var D=Xy(x,["active","final"]),q=f.current+g,L=r.size(),W;return D==="final"?W=Hh(t,s)(x,V):W=null,new Wf(q,L,D==="final",W)}var I="POST",N=t.maxUploadRetryTime,C=new ui(n,I,T,N);return C.headers=_,C.body=b.uploadData(),C.progressCallback=l||null,C.errorHandler=Cu(e),C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e2=function(){function e(t,n,r){var o=Ij(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zk=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=$h(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,a){o._resolve=s,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=Yj(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=Jj(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=YI*this._chunkMultiplier,r=new Wf(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=Zj(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(p){t._error=p,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,a);t._request=f,f.getPromise().then(function(p){t._increaseMultiplier(),t._request=void 0,t._updateProgress(p.current),p.finalized?(t._metadata=p.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=YI*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=Yk(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=Qj(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=jk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Xm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,a=new e2(n,r,o);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Xm(this._state)){case vn.SUCCESS:xs(this._resolve.bind(null,this.snapshot))();break;case vn.CANCELED:case vn.ERROR:var n=this._reject;xs(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Xm(this._state);switch(n){case vn.RUNNING:case vn.PAUSED:t.next&&xs(t.next.bind(t,this.snapshot))();break;case vn.SUCCESS:t.complete&&xs(t.complete.bind(t))();break;case vn.CANCELED:case vn.ERROR:t.error&&xs(t.error.bind(t,this._error))();break;default:t.error&&xs(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gh=function(){function e(t,n){this._service=t,n instanceof tr?this._location=n:this._location=tr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new tr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Xk(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=Dj(this._location.path);if(t===null)return null;var n=new tr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw $k(t)},e}();function t2(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Zk(e,new Gy(t),n)}function n2(e){var t={prefixes:[],items:[]};return eC(e,t).then(function(){return t})}function eC(e,t,n){return K(this,void 0,void 0,function(){var r,o,s,a;return $(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,tC(e,r)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,eC(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function tC(e,t){return K(this,void 0,void 0,function(){var n,r;return $(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&zg("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Kj(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function r2(e){return K(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Yk(e.storage,e._location,$h()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function i2(e,t){return K(this,void 0,void 0,function(){var n;return $(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=zj(e.storage,e._location,t,$h()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function o2(e){return K(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=Gj(e.storage,e._location,$h()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw cj();return r})]}})})}function s2(e){return K(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=Wj(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function nC(e,t){var n=Lj(e._location.path,t),r=new tr(e._location.bucket,n);return new Gh(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(e){return/^[A-Za-z]+:\/\//.test(e)}function u2(e,t){return new Gh(e,t)}function rC(e,t){if(e instanceof zh){var n=e;if(n._bucket==null)throw uj();var r=new Gh(n,n._bucket);return t!=null?rC(r,t):r}else return t!==void 0?nC(e,t):e}function a2(e,t){if(t&&Wg(t)){if(e instanceof zh)return u2(e,t);throw Gs("To use ref(service, url), the first argument must be a Storage instance.")}else return rC(e,t)}function JI(e,t){var n=t==null?void 0:t[Uk];return n==null?null:tr.makeFromBucketSpec(n,e)}function c2(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:jA(o,e.app.options.projectId))}var zh=function(){function e(t,n,r,o,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=Vk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YU,this._maxUploadRetryTime=JU,this._requests=new Set,s!=null?this._bucket=tr.makeFromBucketSpec(s,this._host):this._bucket=JI(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=tr.makeFromBucketSpec(this._url,t):this._bucket=JI(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){zg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){zg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return K(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return K(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Gh(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new _j(qk());var s=Rj(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return K(this,void 0,void 0,function(){var n,r,o;return $(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(e,t,n){return e=tt(e),t2(e,t,n)}function f2(e){return e=tt(e),r2(e)}function h2(e,t){return e=tt(e),i2(e,t)}function d2(e,t){return e=tt(e),tC(e,t)}function p2(e){return e=tt(e),n2(e)}function m2(e){return e=tt(e),o2(e)}function g2(e){return e=tt(e),s2(e)}function ZI(e,t){return e=tt(e),a2(e,t)}function v2(e,t){return nC(e,t)}function y2(e,t,n,r){r===void 0&&(r={}),c2(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jl=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eT=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Jl(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new Jl(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Jl(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new Jl(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,o||void 0)},e}(),tT=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new sc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new sc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=v2(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new eT(l2(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=er.RAW),this._throwIfRoot("putString");var o=Hk(n,t),s=Qs({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new eT(new Zk(this._delegate,new Gy(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return p2(this._delegate).then(function(n){return new tT(n,t.storage)})},e.prototype.list=function(t){var n=this;return d2(this._delegate,t||void 0).then(function(r){return new tT(r,n.storage)})},e.prototype.getMetadata=function(){return f2(this._delegate)},e.prototype.updateMetadata=function(t){return h2(this._delegate,t)},e.prototype.getDownloadURL=function(){return m2(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),g2(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw $k(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _2=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Wg(t))throw Gs("ref() expected a child path but got a URL, use refFromURL instead.");return new sc(ZI(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Wg(t))throw Gs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{tr.makeFromUrl(t,this._delegate.host)}catch{throw Gs("refFromUrl() expected a valid full URL but got an invalid one.")}return new sc(ZI(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),y2(this._delegate,t,n,r)},e}(),w2="@firebase/storage",b2="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E2="storage";function I2(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new _2(r,new zh(r,o,s,new yj,n,Ie.SDK_VERSION));return a}function T2(e){var t={TaskState:vn,TaskEvent:mj,StringFormat:er,Storage:zh,Reference:sc};e.INTERNAL.registerComponent(new lc(E2,I2,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(w2,b2)}T2(Ie);const A2={apiKey:"AIzaSyAZKPGu1O0QCjT-9O4MdqsEjxr-LLcOd5A",authDomain:"music-app-2402.firebaseapp.com",projectId:"music-app-2402",storageBucket:"music-app-2402.appspot.com",messagingSenderId:"207008642730",appId:"1:207008642730:web:561bf82e6d7fba622902d3"};Ie.initializeApp(A2);const Ra=Ie.auth(),Wh=Ie.firestore(),s4=Ie.storage();Wh.enablePersistence().catch(e=>{console.log(`Firebase persistance error ${e}`)});const S2=Wh.collection("users"),u4=Wh.collection("songs"),a4=Wh.collection("comments"),Rc=Nv("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await Ra.createUserWithEmailAndPassword(e.email,e.password);await S2.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country,type:e.type}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await Ra.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Ra.signOut(),this.userLoggedIn=!1}}}),Xg=Nv("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"},modalClose(e){return e.isOpen?"hidden":""}}}),Nu=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},k2={name:"AppHeader",computed:{...uL(Xg,Rc)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},C2={id:"header",class:"bg-gray-700"},N2={class:"container flex items-center justify-start px-4 py-5 mx-auto"},R2={class:"flex items-center flex-grow"},O2={class:"flex flex-row mt-1"},x2={key:0};function P2(e,t,n,r,o,s){const a=Bn("router-link");return Rt(),sn("header",C2,[he("nav",N2,[Pe(a,{class:"mr-4 text-2xl font-bold text-white uppercase",to:{name:"home"},"exact-active-class":"no-active"},{default:Zn(()=>[Ea("HA\u016AZ")]),_:1}),he("div",R2,[he("ul",O2,[he("li",null,[Pe(a,{class:"px-2 text-white",to:{name:"about"}},{default:Zn(()=>[Ea("We are...")]),_:1})]),e.userStore.userLoggedIn?(Rt(),sn(yn,{key:1},[he("li",null,[Pe(a,{class:"px-2 text-white",to:{name:"manage"}},{default:Zn(()=>[Ea("Manage")]),_:1})]),he("li",null,[he("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=Xs(l=>s.signOut(),["prevent"]))},"Sign Out")])],64)):(Rt(),sn("li",x2,[he("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=Xs((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},"Login / Register")]))])])])])}const D2=Nu(k2,[["render",P2]]),L2={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:50"},log_in_submission:!1,log_show_alert:!1,log_alert_variant:"bg-blue-500",log_alert_msg:"Please wait! We are logging you in."}},methods:{...Rv(Rc,["authenticate"]),async login(e){this.log_in_submission=!0,this.log_show_alert=!0,this.log_alert_variant="bg-blue-500",this.log_alert_msg="Please wait! We are logging you in.";try{await this.authenticate(e)}catch{this.log_in_submission=!1,this.log_alert_variant="bg-red-500",this.log_alert_msg="Invalid login details. Please try again!";return}this.log_alert_variant="bg-green-500",this.log_alert_msg="Success! You are logged in.",window.location.reload()}}},M2={class:"mb-3"},F2=he("label",{class:"inline-block mb-2"},"Email",-1),V2={class:"mb-3"},U2=he("label",{class:"inline-block mb-2"},"Password",-1),j2=["disabled"];function B2(e,t,n,r,o,s){const a=Bn("vee-field"),l=Bn("ErrorMessage"),f=Bn("vee-form");return Rt(),sn(yn,null,[o.log_show_alert?(Rt(),sn("div",{key:0,class:Yr(["p-4 mb-4 font-bold text-center text-white rounded",o.log_alert_variant])},Pi(o.log_alert_msg),3)):Av("",!0),Pe(f,{"validation-schema":o.loginSchema,onSubmit:s.login},{default:Zn(()=>[he("div",M2,[F2,Pe(a,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Pe(l,{class:"text-red-600",name:"email"})]),he("div",V2,[U2,Pe(a,{name:"password",bails:!1},{default:Zn(({field:p,errors:g})=>[he("input",kv({type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"},p),null,16),(Rt(!0),sn(yn,null,gA(g,h=>(Rt(),sn("div",{class:"text-red-600",key:h},Pi(h),1))),128))]),_:1})]),he("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.log_in_submission}," Submit ",8,j2)]),_:1},8,["validation-schema","onSubmit"])],64)}const q2=Nu(L2,[["render",B2]]),$2={name:"RegisterForm",data(){return{schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:50|excluded:password",confirm_password:"password_missmatch:@password",country:"required|country_excluded:Antarctica",tos:"tos",type:"required"},userData:{country:"USA",type:"Listener"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait. Your account is being created."}},methods:{...Rv(Rc,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait. Your account is being created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occured. Please try again later.";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created.",window.location.reload()}},computed:{}},H2={class:"mb-3"},K2=he("label",{class:"inline-block mb-2"},"Name",-1),G2={class:"mb-3"},z2=he("label",{class:"inline-block mb-2"},"Email",-1),W2={class:"mb-3"},X2=he("label",{class:"inline-block mb-2"},"Age",-1),Q2={class:"mb-3"},Y2=he("label",{class:"inline-block mb-2"},"Password",-1),J2={class:"mb-3"},Z2=he("label",{class:"inline-block mb-2"},"Confirm Password",-1),eB={class:"mb-3"},tB=he("label",{class:"inline-block mb-2"},"Country",-1),nB=he("option",{value:"USA"},"USA",-1),rB=he("option",{value:"Mexico"},"Mexico",-1),iB=he("option",{value:"Germany"},"Germany",-1),oB=he("option",{value:"Antarctica"},"Antarctica",-1),sB={class:"mb-3"},uB=he("label",{class:"inline-block mb-2"},"User Type",-1),aB=he("option",{value:"Listener"},"Listener",-1),cB=he("option",{value:"Artist"},"Artist",-1),lB={class:"pl-6 mb-3"},fB=he("label",{class:"inline-block"},"Accept terms of service",-1),hB=["disabled"];function dB(e,t,n,r,o,s){const a=Bn("vee-field"),l=Bn("ErrorMessage"),f=Bn("vee-form");return Rt(),sn("div",null,[o.reg_show_alert?(Rt(),sn("div",{key:0,class:Yr(["p-4 mb-4 font-bold text-center text-white rounded",o.reg_alert_variant])},Pi(o.reg_alert_msg),3)):Av("",!0),Pe(f,{"validation-schema":o.schema,onSubmit:s.register,"initial-values":o.userData},{default:Zn(()=>[he("div",H2,[K2,Pe(a,{type:"text",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Pe(l,{class:"text-red-600",name:"name"})]),he("div",G2,[z2,Pe(a,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Pe(l,{class:"text-red-600",name:"email"})]),he("div",W2,[X2,Pe(a,{type:"number",name:"age",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Pe(l,{class:"text-red-600",name:"age"})]),he("div",Q2,[Y2,Pe(a,{name:"password",bails:!1},{default:Zn(({field:p,errors:g})=>[he("input",kv({type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"},p),null,16),(Rt(!0),sn(yn,null,gA(g,h=>(Rt(),sn("div",{class:"text-red-600",key:h},Pi(h),1))),128))]),_:1})]),he("div",J2,[Z2,Pe(a,{type:"password",name:"confirm_password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Pe(l,{class:"text-red-600",name:"confirm_password"})]),he("div",eB,[tB,Pe(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Zn(()=>[nB,rB,iB,oB]),_:1}),Pe(l,{class:"text-red-600",name:"country"})]),he("div",sB,[uB,Pe(a,{as:"select",name:"type",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Zn(()=>[aB,cB]),_:1}),Pe(l,{class:"text-red-600",name:"type"})]),he("div",lB,[Pe(a,{type:"checkbox",name:"tos",value:"1",class:"float-left w-4 h-4 mt-1 -ml-6 rounded"}),fB]),Pe(l,{class:"text-red-600",name:"tos"}),he("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.reg_in_submission}," Submit ",8,hB)]),_:1},8,["validation-schema","onSubmit","initial-values"])])}const pB=Nu($2,[["render",dB]]),mB={name:"AppAuth",components:{AppLoginForm:q2,AppRegisterForm:pB},data(){return{tab:"login"}},computed:{...FA(Xg,["hiddenClass"]),...VA(Xg,["isOpen"])}},gB={class:"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},vB=he("div",{class:"fixed inset-0 transition-opacity"},[he("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),yB=he("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"\u200B",-1),_B={class:"inline-block overflow-hidden text-left align-bottom transition-all transform bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},wB={class:"px-6 py-4 text-left"},bB={class:"flex items-center justify-between pb-4"},EB=he("p",{class:"text-2xl font-bold"},"Your Account",-1),IB=he("i",{class:"fas fa-times"},null,-1),TB=[IB],AB={class:"flex flex-wrap mb-4"},SB={class:"flex-auto text-center"},kB={class:"flex-auto text-center"};function CB(e,t,n,r,o,s){const a=Bn("app-login-form"),l=Bn("app-register-form");return Rt(),sn("div",{class:Yr(["fixed inset-0 z-10 overflow-y-auto",e.hiddenClass]),id:"modal"},[he("div",gB,[vB,yB,he("div",_B,[he("div",wB,[he("div",bB,[EB,he("div",{class:"z-50 cursor-pointer modal-close",onClick:t[0]||(t[0]=f=>e.isOpen=!1)},TB)]),he("ul",AB,[he("li",SB,[he("a",{class:Yr(["block px-4 py-3 transition rounded",{"hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=Xs(f=>o.tab="login",["prevent"]))},"Login",2)]),he("li",kB,[he("a",{class:Yr(["block px-4 py-3 transition rounded",{"hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=Xs(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(Rt(),_f(a,{key:0})):(Rt(),_f(l,{key:1}))])])])],2)}const NB=Nu(mB,[["render",CB]]);var Fs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qg={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var m=this||n;if(h=parseFloat(h),m.ctx||g(),typeof h<"u"&&h>=0&&h<=1){if(m._volume=h,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),b=0;b<_.length;b++){var T=m._howls[y]._soundById(_[b]);T&&T._node&&(T._node.volume=T._volume*h)}return m}return m._volume},mute:function(h){var m=this||n;m.ctx||g(),m._muted=h,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h?0:m._volume,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),b=0;b<_.length;b++){var T=m._howls[y]._soundById(_[b]);T&&T._node&&(T._node.muted=h?!0:T._muted)}return m},stop:function(){for(var h=this||n,m=0;m<h._howls.length;m++)h._howls[m].stop();return h},unload:function(){for(var h=this||n,m=h._howls.length-1;m>=0;m--)h._howls[m].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,g()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var m=new Audio;typeof m.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var m=new Audio;m.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return h}if(!m||typeof m.canPlayType!="function")return h;var y=m.canPlayType("audio/mpeg;").replace(/^no$/,""),_=h._navigator?h._navigator.userAgent:"",b=_.match(/OPR\/([0-6].)/g),T=b&&parseInt(b[0].split("/")[1],10)<33,I=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,N=_.match(/Version\/(.*?) /),C=I&&N&&parseInt(N[1],10)<15;return h._codecs={mp3:!!(!T&&(y||m.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!C&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!C&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var m=function(y){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,h._releaseHtml5Audio(_)}catch{h.noAudio=!0;break}for(var b=0;b<h._howls.length;b++)if(!h._howls[b]._webAudio)for(var T=h._howls[b]._getSoundIds(),I=0;I<T.length;I++){var N=h._howls[b]._soundById(T[I]);N&&N._node&&!N._node._unlocked&&(N._node._unlocked=!0,N._node.load())}h._autoResume();var C=h.ctx.createBufferSource();C.buffer=h._scratchBuffer,C.connect(h.ctx.destination),typeof C.start>"u"?C.noteOn(0):C.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),C.onended=function(){C.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var x=0;x<h._howls.length;x++)h._howls[x]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<"u"&&(m instanceof Promise||typeof m.then=="function")&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var m=this||n;return h._unlocked&&m._html5AudioPool.push(h),m},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var m=0;m<h._howls.length;m++)if(h._howls[m]._webAudio){for(var y=0;y<h._howls[m]._sounds.length;y++)if(!h._howls[m]._sounds[y]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(!!h.autoSuspend){h._suspendTimer=null,h.state="suspending";var _=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(_,_)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var m=0;m<h._howls.length;m++)h._howls[m]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,r=function(h){var m=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}m.init(h)};r.prototype={init:function(h){var m=this;return n.ctx||g(),m._autoplay=h.autoplay||!1,m._format=typeof h.format!="string"?h.format:[h.format],m._html5=h.html5||!1,m._muted=h.mute||!1,m._loop=h.loop||!1,m._pool=h.pool||5,m._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,m._rate=h.rate||1,m._sprite=h.sprite||{},m._src=typeof h.src!="string"?h.src:[h.src],m._volume=h.volume!==void 0?h.volume:1,m._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=h.onend?[{fn:h.onend}]:[],m._onfade=h.onfade?[{fn:h.onfade}]:[],m._onload=h.onload?[{fn:h.onload}]:[],m._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],m._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],m._onpause=h.onpause?[{fn:h.onpause}]:[],m._onplay=h.onplay?[{fn:h.onplay}]:[],m._onstop=h.onstop?[{fn:h.onstop}]:[],m._onmute=h.onmute?[{fn:h.onmute}]:[],m._onvolume=h.onvolume?[{fn:h.onvolume}]:[],m._onrate=h.onrate?[{fn:h.onrate}]:[],m._onseek=h.onseek?[{fn:h.onseek}]:[],m._onunlock=h.onunlock?[{fn:h.onunlock}]:[],m._onresume=[],m._webAudio=n.usingWebAudio&&!m._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&m._preload!=="none"&&m.load(),m},load:function(){var h=this,m=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var y=0;y<h._src.length;y++){var _,b;if(h._format&&h._format[y])_=h._format[y];else{if(b=h._src[y],typeof b!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(b),_||(_=/\.([^.]+)$/.exec(b.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){m=h._src[y];break}}if(!m){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=m,h._state="loading",window.location.protocol==="https:"&&m.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&a(h),h},play:function(h,m){var y=this,_=null;if(typeof h=="number")_=h,h=null;else{if(typeof h=="string"&&y._state==="loaded"&&!y._sprite[h])return null;if(typeof h>"u"&&(h="__default",!y._playLock)){for(var b=0,T=0;T<y._sounds.length;T++)y._sounds[T]._paused&&!y._sounds[T]._ended&&(b++,_=y._sounds[T]._id);b===1?h=null:_=null}}var I=_?y._soundById(_):y._inactiveSound();if(!I)return null;if(_&&!h&&(h=I._sprite||"__default"),y._state!=="loaded"){I._sprite=h,I._ended=!1;var N=I._id;return y._queue.push({event:"play",action:function(){y.play(N)}}),N}if(_&&!I._paused)return m||y._loadQueue("play"),I._id;y._webAudio&&n._autoResume();var C=Math.max(0,I._seek>0?I._seek:y._sprite[h][0]/1e3),x=Math.max(0,(y._sprite[h][0]+y._sprite[h][1])/1e3-C),V=x*1e3/Math.abs(I._rate),D=y._sprite[h][0]/1e3,q=(y._sprite[h][0]+y._sprite[h][1])/1e3;I._sprite=h,I._ended=!1;var L=function(){I._paused=!1,I._seek=C,I._start=D,I._stop=q,I._loop=!!(I._loop||y._sprite[h][2])};if(C>=q){y._ended(I);return}var W=I._node;if(y._webAudio){var k=function(){y._playLock=!1,L(),y._refreshBuffer(I);var ke=I._muted||y._muted?0:I._volume;W.gain.setValueAtTime(ke,n.ctx.currentTime),I._playStart=n.ctx.currentTime,typeof W.bufferSource.start>"u"?I._loop?W.bufferSource.noteGrainOn(0,C,86400):W.bufferSource.noteGrainOn(0,C,x):I._loop?W.bufferSource.start(0,C,86400):W.bufferSource.start(0,C,x),V!==1/0&&(y._endTimers[I._id]=setTimeout(y._ended.bind(y,I),V)),m||setTimeout(function(){y._emit("play",I._id),y._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?k():(y._playLock=!0,y.once("resume",k),y._clearTimer(I._id))}else{var Ee=function(){W.currentTime=C,W.muted=I._muted||y._muted||n._muted||W.muted,W.volume=I._volume*n.volume(),W.playbackRate=I._rate;try{var ke=W.play();if(ke&&typeof Promise<"u"&&(ke instanceof Promise||typeof ke.then=="function")?(y._playLock=!0,L(),ke.then(function(){y._playLock=!1,W._unlocked=!0,m?y._loadQueue():y._emit("play",I._id)}).catch(function(){y._playLock=!1,y._emit("playerror",I._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),I._ended=!0,I._paused=!0})):m||(y._playLock=!1,L(),y._emit("play",I._id)),W.playbackRate=I._rate,W.paused){y._emit("playerror",I._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||I._loop?y._endTimers[I._id]=setTimeout(y._ended.bind(y,I),V):(y._endTimers[I._id]=function(){y._ended(I),W.removeEventListener("ended",y._endTimers[I._id],!1)},W.addEventListener("ended",y._endTimers[I._id],!1))}catch(Me){y._emit("playerror",I._id,Me)}};W.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(W.src=y._src,W.load());var re=window&&window.ejecta||!W.readyState&&n._navigator.isCocoonJS;if(W.readyState>=3||re)Ee();else{y._playLock=!0,y._state="loading";var Ae=function(){y._state="loaded",Ee(),W.removeEventListener(n._canPlayEvent,Ae,!1)};W.addEventListener(n._canPlayEvent,Ae,!1),y._clearTimer(I._id)}}return I._id},pause:function(h){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(h)}}),m;for(var y=m._getSoundIds(h),_=0;_<y.length;_++){m._clearTimer(y[_]);var b=m._soundById(y[_]);if(b&&!b._paused&&(b._seek=m.seek(y[_]),b._rateSeek=0,b._paused=!0,m._stopFade(y[_]),b._node))if(m._webAudio){if(!b._node.bufferSource)continue;typeof b._node.bufferSource.stop>"u"?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),m._cleanBuffer(b._node)}else(!isNaN(b._node.duration)||b._node.duration===1/0)&&b._node.pause();arguments[1]||m._emit("pause",b?b._id:null)}return m},stop:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(h)}}),y;for(var _=y._getSoundIds(h),b=0;b<_.length;b++){y._clearTimer(_[b]);var T=y._soundById(_[b]);T&&(T._seek=T._start||0,T._rateSeek=0,T._paused=!0,T._ended=!0,y._stopFade(_[b]),T._node&&(y._webAudio?T._node.bufferSource&&(typeof T._node.bufferSource.stop>"u"?T._node.bufferSource.noteOff(0):T._node.bufferSource.stop(0),y._cleanBuffer(T._node)):(!isNaN(T._node.duration)||T._node.duration===1/0)&&(T._node.currentTime=T._start||0,T._node.pause(),T._node.duration===1/0&&y._clearSound(T._node))),m||y._emit("stop",T._id))}return y},mute:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(h,m)}}),y;if(typeof m>"u")if(typeof h=="boolean")y._muted=h;else return y._muted;for(var _=y._getSoundIds(m),b=0;b<_.length;b++){var T=y._soundById(_[b]);T&&(T._muted=h,T._interval&&y._stopFade(T._id),y._webAudio&&T._node?T._node.gain.setValueAtTime(h?0:T._volume,n.ctx.currentTime):T._node&&(T._node.muted=n._muted?!0:h),y._emit("mute",T._id))}return y},volume:function(){var h=this,m=arguments,y,_;if(m.length===0)return h._volume;if(m.length===1||m.length===2&&typeof m[1]>"u"){var b=h._getSoundIds(),T=b.indexOf(m[0]);T>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length>=2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var I;if(typeof y<"u"&&y>=0&&y<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,m)}}),h;typeof _>"u"&&(h._volume=y),_=h._getSoundIds(_);for(var N=0;N<_.length;N++)I=h._soundById(_[N]),I&&(I._volume=y,m[2]||h._stopFade(_[N]),h._webAudio&&I._node&&!I._muted?I._node.gain.setValueAtTime(y,n.ctx.currentTime):I._node&&!I._muted&&(I._node.volume=y*n.volume()),h._emit("volume",I._id))}else return I=_?h._soundById(_):h._sounds[0],I?I._volume:0;return h},fade:function(h,m,y,_){var b=this;if(b._state!=="loaded"||b._playLock)return b._queue.push({event:"fade",action:function(){b.fade(h,m,y,_)}}),b;h=Math.min(Math.max(0,parseFloat(h)),1),m=Math.min(Math.max(0,parseFloat(m)),1),y=parseFloat(y),b.volume(h,_);for(var T=b._getSoundIds(_),I=0;I<T.length;I++){var N=b._soundById(T[I]);if(N){if(_||b._stopFade(T[I]),b._webAudio&&!N._muted){var C=n.ctx.currentTime,x=C+y/1e3;N._volume=h,N._node.gain.setValueAtTime(h,C),N._node.gain.linearRampToValueAtTime(m,x)}b._startFadeInterval(N,h,m,y,T[I],typeof _>"u")}}return b},_startFadeInterval:function(h,m,y,_,b,T){var I=this,N=m,C=y-m,x=Math.abs(C/.01),V=Math.max(4,x>0?_/x:_),D=Date.now();h._fadeTo=y,h._interval=setInterval(function(){var q=(Date.now()-D)/_;D=Date.now(),N+=C*q,N=Math.round(N*100)/100,C<0?N=Math.max(y,N):N=Math.min(y,N),I._webAudio?h._volume=N:I.volume(N,h._id,!0),T&&(I._volume=N),(y<m&&N<=y||y>m&&N>=y)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,I.volume(y,h._id),I._emit("fade",h._id))},V)},_stopFade:function(h){var m=this,y=m._soundById(h);return y&&y._interval&&(m._webAudio&&y._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(y._interval),y._interval=null,m.volume(y._fadeTo,h),y._fadeTo=null,m._emit("fade",h)),m},loop:function(){var h=this,m=arguments,y,_,b;if(m.length===0)return h._loop;if(m.length===1)if(typeof m[0]=="boolean")y=m[0],h._loop=y;else return b=h._soundById(parseInt(m[0],10)),b?b._loop:!1;else m.length===2&&(y=m[0],_=parseInt(m[1],10));for(var T=h._getSoundIds(_),I=0;I<T.length;I++)b=h._soundById(T[I]),b&&(b._loop=y,h._webAudio&&b._node&&b._node.bufferSource&&(b._node.bufferSource.loop=y,y&&(b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop,h.playing(T[I])&&(h.pause(T[I],!0),h.play(T[I],!0)))));return h},rate:function(){var h=this,m=arguments,y,_;if(m.length===0)_=h._sounds[0]._id;else if(m.length===1){var b=h._getSoundIds(),T=b.indexOf(m[0]);T>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var I;if(typeof y=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,m)}}),h;typeof _>"u"&&(h._rate=y),_=h._getSoundIds(_);for(var N=0;N<_.length;N++)if(I=h._soundById(_[N]),I){h.playing(_[N])&&(I._rateSeek=h.seek(_[N]),I._playStart=h._webAudio?n.ctx.currentTime:I._playStart),I._rate=y,h._webAudio&&I._node&&I._node.bufferSource?I._node.bufferSource.playbackRate.setValueAtTime(y,n.ctx.currentTime):I._node&&(I._node.playbackRate=y);var C=h.seek(_[N]),x=(h._sprite[I._sprite][0]+h._sprite[I._sprite][1])/1e3-C,V=x*1e3/Math.abs(I._rate);(h._endTimers[_[N]]||!I._paused)&&(h._clearTimer(_[N]),h._endTimers[_[N]]=setTimeout(h._ended.bind(h,I),V)),h._emit("rate",I._id)}}else return I=h._soundById(_),I?I._rate:h._rate;return h},seek:function(){var h=this,m=arguments,y,_;if(m.length===0)h._sounds.length&&(_=h._sounds[0]._id);else if(m.length===1){var b=h._getSoundIds(),T=b.indexOf(m[0]);T>=0?_=parseInt(m[0],10):h._sounds.length&&(_=h._sounds[0]._id,y=parseFloat(m[0]))}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));if(typeof _>"u")return 0;if(typeof y=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,m)}}),h;var I=h._soundById(_);if(I)if(typeof y=="number"&&y>=0){var N=h.playing(_);N&&h.pause(_,!0),I._seek=y,I._ended=!1,h._clearTimer(_),!h._webAudio&&I._node&&!isNaN(I._node.duration)&&(I._node.currentTime=y);var C=function(){N&&h.play(_,!0),h._emit("seek",_)};if(N&&!h._webAudio){var x=function(){h._playLock?setTimeout(x,0):C()};setTimeout(x,0)}else C()}else if(h._webAudio){var V=h.playing(_)?n.ctx.currentTime-I._playStart:0,D=I._rateSeek?I._rateSeek-I._seek:0;return I._seek+(D+V*Math.abs(I._rate))}else return I._node.currentTime;return h},playing:function(h){var m=this;if(typeof h=="number"){var y=m._soundById(h);return y?!y._paused:!1}for(var _=0;_<m._sounds.length;_++)if(!m._sounds[_]._paused)return!0;return!1},duration:function(h){var m=this,y=m._duration,_=m._soundById(h);return _&&(y=m._sprite[_._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var h=this,m=h._sounds,y=0;y<m.length;y++)m[y]._paused||h.stop(m[y]._id),h._webAudio||(h._clearSound(m[y]._node),m[y]._node.removeEventListener("error",m[y]._errorFn,!1),m[y]._node.removeEventListener(n._canPlayEvent,m[y]._loadFn,!1),m[y]._node.removeEventListener("ended",m[y]._endFn,!1),n._releaseHtml5Audio(m[y]._node)),delete m[y]._node,h._clearTimer(m[y]._id);var _=n._howls.indexOf(h);_>=0&&n._howls.splice(_,1);var b=!0;for(y=0;y<n._howls.length;y++)if(n._howls[y]._src===h._src||h._src.indexOf(n._howls[y]._src)>=0){b=!1;break}return s&&b&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,m,y,_){var b=this,T=b["_on"+h];return typeof m=="function"&&T.push(_?{id:y,fn:m,once:_}:{id:y,fn:m}),b},off:function(h,m,y){var _=this,b=_["_on"+h],T=0;if(typeof m=="number"&&(y=m,m=null),m||y)for(T=0;T<b.length;T++){var I=y===b[T].id;if(m===b[T].fn&&I||!m&&I){b.splice(T,1);break}}else if(h)_["_on"+h]=[];else{var N=Object.keys(_);for(T=0;T<N.length;T++)N[T].indexOf("_on")===0&&Array.isArray(_[N[T]])&&(_[N[T]]=[])}return _},once:function(h,m,y){var _=this;return _.on(h,m,y,1),_},_emit:function(h,m,y){for(var _=this,b=_["_on"+h],T=b.length-1;T>=0;T--)(!b[T].id||b[T].id===m||h==="load")&&(setTimeout(function(I){I.call(this,m,y)}.bind(_,b[T].fn),0),b[T].once&&_.off(h,b[T].fn,b[T].id));return _._loadQueue(h),_},_loadQueue:function(h){var m=this;if(m._queue.length>0){var y=m._queue[0];y.event===h&&(m._queue.shift(),m._loadQueue()),h||y.action()}return m},_ended:function(h){var m=this,y=h._sprite;if(!m._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(m._ended.bind(m,h),100),m;var _=!!(h._loop||m._sprite[y][2]);if(m._emit("end",h._id),!m._webAudio&&_&&m.stop(h._id,!0).play(h._id),m._webAudio&&_){m._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var b=(h._stop-h._start)*1e3/Math.abs(h._rate);m._endTimers[h._id]=setTimeout(m._ended.bind(m,h),b)}return m._webAudio&&!_&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,m._clearTimer(h._id),m._cleanBuffer(h._node),n._autoSuspend()),!m._webAudio&&!_&&m.stop(h._id,!0),m},_clearTimer:function(h){var m=this;if(m._endTimers[h]){if(typeof m._endTimers[h]!="function")clearTimeout(m._endTimers[h]);else{var y=m._soundById(h);y&&y._node&&y._node.removeEventListener("ended",m._endTimers[h],!1)}delete m._endTimers[h]}return m},_soundById:function(h){for(var m=this,y=0;y<m._sounds.length;y++)if(h===m._sounds[y]._id)return m._sounds[y];return null},_inactiveSound:function(){var h=this;h._drain();for(var m=0;m<h._sounds.length;m++)if(h._sounds[m]._ended)return h._sounds[m].reset();return new o(h)},_drain:function(){var h=this,m=h._pool,y=0,_=0;if(!(h._sounds.length<m)){for(_=0;_<h._sounds.length;_++)h._sounds[_]._ended&&y++;for(_=h._sounds.length-1;_>=0;_--){if(y<=m)return;h._sounds[_]._ended&&(h._webAudio&&h._sounds[_]._node&&h._sounds[_]._node.disconnect(0),h._sounds.splice(_,1),y--)}}},_getSoundIds:function(h){var m=this;if(typeof h>"u"){for(var y=[],_=0;_<m._sounds.length;_++)y.push(m._sounds[_]._id);return y}else return[h]},_refreshBuffer:function(h){var m=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[m._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),m},_cleanBuffer:function(h){var m=this,y=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),y))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,m},_clearSound:function(h){var m=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);m||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,m._sounds.push(h),h.create(),h},create:function(){var h=this,m=h._parent,y=n._muted||h._muted||h._parent._muted?0:h._volume;return m._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(y,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=m._src,h._node.preload=m._preload===!0?"auto":m._preload,h._node.volume=y*n.volume(),h._node.load()),h},reset:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,m=h._parent;m._duration=Math.ceil(h._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,m=h._parent;m._duration===1/0&&(m._duration=Math.ceil(h._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},a=function(h){var m=h._src;if(s[m]){h._duration=s[m].duration,p(h);return}if(/^data:[^;]+;base64,/.test(m)){for(var y=atob(m.split(",")[1]),_=new Uint8Array(y.length),b=0;b<y.length;++b)_[b]=y.charCodeAt(b);f(_.buffer,h)}else{var T=new XMLHttpRequest;T.open(h._xhr.method,m,!0),T.withCredentials=h._xhr.withCredentials,T.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(I){T.setRequestHeader(I,h._xhr.headers[I])}),T.onload=function(){var I=(T.status+"")[0];if(I!=="0"&&I!=="2"&&I!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+T.status+".");return}f(T.response,h)},T.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[m],h.load())},l(T)}},l=function(h){try{h.send()}catch{h.onerror()}},f=function(h,m){var y=function(){m._emit("loaderror",null,"Decoding audio data failed.")},_=function(b){b&&m._sounds.length>0?(s[m._src]=b,p(m,b)):y()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(_).catch(y):n.ctx.decodeAudioData(h,_,y)},p=function(h,m){m&&!h._duration&&(h._duration=m.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},g=function(){if(!!n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),m=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=m?parseInt(m[1],10):null;if(h&&y&&y<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof Fs<"u"?(Fs.HowlerGlobal=t,Fs.Howler=n,Fs.Howl=r,Fs.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,a,l){var f=this;if(!f.ctx||!f.ctx.listener)return f;var p=f._orientation;if(r=typeof r!="number"?p[1]:r,o=typeof o!="number"?p[2]:o,s=typeof s!="number"?p[3]:s,a=typeof a!="number"?p[4]:a,l=typeof l!="number"?p[5]:l,typeof n=="number")f._orientation=[n,r,o,s,a,l],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,o,s,a,l);else return p;return f},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var a=o._getSoundIds(r),l=0;l<a.length;l++){var f=o._soundById(a[l]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(n,r,o,s)}}),a;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")a._pos=[n,r,o];else return a._pos;for(var l=a._getSoundIds(s),f=0;f<l.length;f++){var p=a._soundById(l[f]);if(p)if(typeof n=="number")p._pos=[n,r,o],p._node&&((!p._panner||p._panner.pan)&&t(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setPosition(n,r,o)),a._emit("pos",p._id);else return p._pos}return a},Howl.prototype.orientation=function(n,r,o,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(n,r,o,s)}}),a;if(r=typeof r!="number"?a._orientation[1]:r,o=typeof o!="number"?a._orientation[2]:o,typeof s>"u")if(typeof n=="number")a._orientation=[n,r,o];else return a._orientation;for(var l=a._getSoundIds(s),f=0;f<l.length;f++){var p=a._soundById(l[f]);if(p)if(typeof n=="number")p._orientation=[n,r,o],p._node&&(p._panner||(p._pos||(p._pos=a._pos||[0,0,-.5]),t(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setOrientation(n,r,o)),a._emit("orientation",p._id);else return p._orientation}return a},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,a;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return a=n._soundById(parseInt(r[0],10)),a?a._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var l=n._getSoundIds(s),f=0;f<l.length;f++)if(a=n._soundById(l[f]),a){var p=a._pannerAttr;p={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:p.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:p.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:p.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:p.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:p.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:p.panningModel};var g=a._panner;g?(g.coneInnerAngle=p.coneInnerAngle,g.coneOuterAngle=p.coneOuterAngle,g.coneOuterGain=p.coneOuterGain,g.distanceModel=p.distanceModel,g.maxDistance=p.maxDistance,g.refDistance=p.refDistance,g.rolloffFactor=p.rolloffFactor,g.panningModel=p.panningModel):(a._pos||(a._pos=n._pos||[0,0,-.5]),t(a,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Qg);const nT={formatTime(e){const t=Math.floor(e/60)||0,n=Math.round(e-t*60||0);return`${t}:${n<10?"0":""}${n}`}},rT=Nv("player",{state:()=>({current_song:{},sound:{},seek:"00:00",duration:"00:00",playerProgress:"0%"}),actions:{async newSong(e){this.sound instanceof Qg.Howl&&this.sound.unload(),this.current_song=e,this.sound=new Qg.Howl({src:[e.url],html5:!0}),this.sound.play(),this.sound.on("play",()=>{requestAnimationFrame(this.progress)})},async toggleAudio(){!this.sound.playing||(this.sound.playing()?this.sound.pause():this.sound.play())},progress(){this.seek=nT.formatTime(this.sound.seek()),this.duration=nT.formatTime(this.sound.duration()),this.playerProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress)},updateSeek(e){if(!this.sound.playing)return;const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),o=(e.clientX-t)/n,s=this.sound.duration()*o;this.sound.seek(s),this.sound.once("seek",this.progress)}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1}}),RB={name:"AppPlayer",methods:{...Rv(rT,["toggleAudio","updateSeek"])},computed:{...FA(rT,["playing","duration","seek","playerProgress","current_song"])}},OB={class:"fixed bottom-0 left-0 w-full px-4 py-2 bg-white"},xB={key:0,class:"text-center"},PB={class:"font-bold song-title"},DB={class:"song-artist"},LB={class:"flex items-center gap-4 flex-nowrap"},MB={class:"player-currenttime"},FB=he("i",{class:"fas fa-circle"},null,-1),VB=[FB],UB={class:"player-duration"};function jB(e,t,n,r,o,s){return Rt(),sn("div",OB,[e.current_song.modified_name?(Rt(),sn("div",xB,[he("span",PB,Pi(this.current_song.modified_name),1),Ea(" by "),he("span",DB,Pi(this.current_song.display_name),1)])):Av("",!0),he("div",LB,[he("button",{onClick:t[0]||(t[0]=Xs((...a)=>e.toggleAudio&&e.toggleAudio(...a),["prevent"])),type:"button"},[he("i",{class:Yr(["text-xl text-gray-500 fa",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),he("div",MB,Pi(e.seek),1),he("div",{class:"relative w-full h-2 bg-gray-200 rounded cursor-pointer",onClick:t[1]||(t[1]=Xs((...a)=>e.updateSeek&&e.updateSeek(...a),["prevent"]))},[he("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-800 text-lg",style:La({left:e.playerProgress})},VB,4),he("span",{class:"block h-2 rounded bg-gradient-to-r from-green-500 to-green-400",style:La({width:e.playerProgress})},null,4)]),he("div",UB,Pi(e.duration),1)])])}const BB=Nu(RB,[["render",jB]]);const qB={name:"App",components:{AppHeader:D2,AppAuth:NB,AppPlayer:BB},computed:{...VA(Rc,["userLoggedIn"])},created(){Ra.currentUser&&(this.userLoggedIn=!0)}};function $B(e,t,n,r,o,s){const a=Bn("app-header"),l=Bn("router-view"),f=Bn("app-player"),p=Bn("app-auth");return Rt(),sn(yn,null,[Pe(a),Pe(l,null,{default:Zn(({Component:g,route:h})=>[Pe(Cv,{name:"fade",mode:"out-in"},{default:Zn(()=>[(Rt(),sn("div",{key:h.name},[(Rt(),_f(ch(g)))]))]),_:2},1024)]),_:1}),Pe(f),Pe(p)],64)}const HB=Nu(qB,[["render",$B]]),KB="modulepreload",GB=function(e){return"/"+e},iT={},Oc=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=GB(s),s in iT)return;iT[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let g=o.length-1;g>=0;g--){const h=o[g];if(h.href===s&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const p=document.createElement("link");if(p.rel=a?"stylesheet":KB,a||(p.as="script",p.crossOrigin=""),p.href=s,document.head.appendChild(p),a)return new Promise((g,h)=>{p.addEventListener("load",g),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Vs=typeof window<"u";function zB(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ze=Object.assign;function Qm(e,t){const n={};for(const r in t){const o=t[r];n[r]=wr(o)?o.map(e):e(o)}return n}const Oa=()=>{},wr=Array.isArray,WB=/\/$/,XB=e=>e.replace(WB,"");function Ym(e,t,n="/"){let r,o={},s="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(r=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=ZB(r!=null?r:t,n),{fullPath:r+(s&&"?")+s+a,path:r,query:o,hash:a}}function QB(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function oT(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function YB(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&mu(t.matched[r],n.matched[o])&&iC(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function mu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function iC(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!JB(e[n],t[n]))return!1;return!0}function JB(e,t){return wr(e)?sT(e,t):wr(t)?sT(t,e):e===t}function sT(e,t){return wr(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function ZB(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var uc;(function(e){e.pop="pop",e.push="push"})(uc||(uc={}));var xa;(function(e){e.back="back",e.forward="forward",e.unknown=""})(xa||(xa={}));function eq(e){if(!e)if(Vs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),XB(e)}const tq=/^[^#]+#/;function nq(e,t){return e.replace(tq,"#")+t}function rq(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Xh=()=>({left:window.pageXOffset,top:window.pageYOffset});function iq(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=rq(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function uT(e,t){return(history.state?history.state.position-t:-1)+e}const Yg=new Map;function oq(e,t){Yg.set(e,t)}function sq(e){const t=Yg.get(e);return Yg.delete(e),t}let uq=()=>location.protocol+"//"+location.host;function oC(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),oT(f,"")}return oT(n,e)+r+o}function aq(e,t,n,r){let o=[],s=[],a=null;const l=({state:m})=>{const y=oC(e,location),_=n.value,b=t.value;let T=0;if(m){if(n.value=y,t.value=m,a&&a===_){a=null;return}T=b?m.position-b.position:0}else r(y);o.forEach(I=>{I(n.value,_,{delta:T,type:uc.pop,direction:T?T>0?xa.forward:xa.back:xa.unknown})})};function f(){a=n.value}function p(m){o.push(m);const y=()=>{const _=o.indexOf(m);_>-1&&o.splice(_,1)};return s.push(y),y}function g(){const{history:m}=window;!m.state||m.replaceState(Ze({},m.state,{scroll:Xh()}),"")}function h(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",g),{pauseListeners:f,listen:p,destroy:h}}function aT(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?Xh():null}}function cq(e){const{history:t,location:n}=window,r={value:oC(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,p,g){const h=e.indexOf("#"),m=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:uq()+e+f;try{t[g?"replaceState":"pushState"](p,"",m),o.value=p}catch(y){console.error(y),n[g?"replace":"assign"](m)}}function a(f,p){const g=Ze({},t.state,aT(o.value.back,f,o.value.forward,!0),p,{position:o.value.position});s(f,g,!0),r.value=f}function l(f,p){const g=Ze({},o.value,t.state,{forward:f,scroll:Xh()});s(g.current,g,!0);const h=Ze({},aT(r.value,f,null),{position:g.position+1},p);s(f,h,!1),r.value=f}return{location:r,state:o,push:l,replace:a}}function lq(e){e=eq(e);const t=cq(e),n=aq(e,t.state,t.location,t.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=Ze({location:"",base:e,go:r,createHref:nq.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function fq(e){return typeof e=="string"||e&&typeof e=="object"}function sC(e){return typeof e=="string"||typeof e=="symbol"}const Ii={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},uC=Symbol("");var cT;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(cT||(cT={}));function gu(e,t){return Ze(new Error,{type:e,[uC]:!0},t)}function zr(e,t){return e instanceof Error&&uC in e&&(t==null||!!(e.type&t))}const lT="[^/]+?",hq={sensitive:!1,strict:!1,start:!0,end:!0},dq=/[.+*?^${}()[\]/\\]/g;function pq(e,t){const n=Ze({},hq,t),r=[];let o=n.start?"^":"";const s=[];for(const p of e){const g=p.length?[]:[90];n.strict&&!p.length&&(o+="/");for(let h=0;h<p.length;h++){const m=p[h];let y=40+(n.sensitive?.25:0);if(m.type===0)h||(o+="/"),o+=m.value.replace(dq,"\\$&"),y+=40;else if(m.type===1){const{value:_,repeatable:b,optional:T,regexp:I}=m;s.push({name:_,repeatable:b,optional:T});const N=I||lT;if(N!==lT){y+=10;try{new RegExp(`(${N})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${_}" (${N}): `+x.message)}}let C=b?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;h||(C=T&&p.length<2?`(?:/${C})`:"/"+C),T&&(C+="?"),o+=C,y+=20,T&&(y+=-8),b&&(y+=-20),N===".*"&&(y+=-50)}g.push(y)}r.push(g)}if(n.strict&&n.end){const p=r.length-1;r[p][r[p].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(p){const g=p.match(a),h={};if(!g)return null;for(let m=1;m<g.length;m++){const y=g[m]||"",_=s[m-1];h[_.name]=y&&_.repeatable?y.split("/"):y}return h}function f(p){let g="",h=!1;for(const m of e){(!h||!g.endsWith("/"))&&(g+="/"),h=!1;for(const y of m)if(y.type===0)g+=y.value;else if(y.type===1){const{value:_,repeatable:b,optional:T}=y,I=_ in p?p[_]:"";if(wr(I)&&!b)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const N=wr(I)?I.join("/"):I;if(!N)if(T)m.length<2&&(g.endsWith("/")?g=g.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);g+=N}}return g||"/"}return{re:a,score:r,keys:s,parse:l,stringify:f}}function mq(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function gq(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=mq(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(fT(r))return 1;if(fT(o))return-1}return o.length-r.length}function fT(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const vq={type:0,value:""},yq=/[a-zA-Z0-9_]/;function _q(e){if(!e)return[[]];if(e==="/")return[[vq]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${p}": ${y}`)}let n=0,r=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let l=0,f,p="",g="";function h(){!p||(n===0?s.push({type:0,value:p}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:p,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),p="")}function m(){p+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(p&&h(),a()):f===":"?(h(),n=1):m();break;case 4:m(),n=r;break;case 1:f==="("?n=2:yq.test(f)?m():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,g="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${p}"`),h(),a(),o}function wq(e,t,n){const r=pq(_q(e.path),n),o=Ze(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function bq(e,t){const n=[],r=new Map;t=pT({strict:!1,end:!0,sensitive:!1},t);function o(g){return r.get(g)}function s(g,h,m){const y=!m,_=Eq(g);_.aliasOf=m&&m.record;const b=pT(t,g),T=[_];if("alias"in g){const C=typeof g.alias=="string"?[g.alias]:g.alias;for(const x of C)T.push(Ze({},_,{components:m?m.record.components:_.components,path:x,aliasOf:m?m.record:_}))}let I,N;for(const C of T){const{path:x}=C;if(h&&x[0]!=="/"){const V=h.record.path,D=V[V.length-1]==="/"?"":"/";C.path=h.record.path+(x&&D+x)}if(I=wq(C,h,b),m?m.alias.push(I):(N=N||I,N!==I&&N.alias.push(I),y&&g.name&&!dT(I)&&a(g.name)),_.children){const V=_.children;for(let D=0;D<V.length;D++)s(V[D],I,m&&m.children[D])}m=m||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&f(I)}return N?()=>{a(N)}:Oa}function a(g){if(sC(g)){const h=r.get(g);h&&(r.delete(g),n.splice(n.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=n.indexOf(g);h>-1&&(n.splice(h,1),g.record.name&&r.delete(g.record.name),g.children.forEach(a),g.alias.forEach(a))}}function l(){return n}function f(g){let h=0;for(;h<n.length&&gq(g,n[h])>=0&&(g.record.path!==n[h].record.path||!aC(g,n[h]));)h++;n.splice(h,0,g),g.record.name&&!dT(g)&&r.set(g.record.name,g)}function p(g,h){let m,y={},_,b;if("name"in g&&g.name){if(m=r.get(g.name),!m)throw gu(1,{location:g});b=m.record.name,y=Ze(hT(h.params,m.keys.filter(N=>!N.optional).map(N=>N.name)),g.params&&hT(g.params,m.keys.map(N=>N.name))),_=m.stringify(y)}else if("path"in g)_=g.path,m=n.find(N=>N.re.test(_)),m&&(y=m.parse(_),b=m.record.name);else{if(m=h.name?r.get(h.name):n.find(N=>N.re.test(h.path)),!m)throw gu(1,{location:g,currentLocation:h});b=m.record.name,y=Ze({},h.params,g.params),_=m.stringify(y)}const T=[];let I=m;for(;I;)T.unshift(I.record),I=I.parent;return{name:b,path:_,params:y,matched:T,meta:Tq(T)}}return e.forEach(g=>s(g)),{addRoute:s,resolve:p,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function hT(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Eq(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Iq(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Iq(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function dT(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Tq(e){return e.reduce((t,n)=>Ze(t,n.meta),{})}function pT(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function aC(e,t){return t.children.some(n=>n===e||aC(e,n))}const cC=/#/g,Aq=/&/g,Sq=/\//g,kq=/=/g,Cq=/\?/g,lC=/\+/g,Nq=/%5B/g,Rq=/%5D/g,fC=/%5E/g,Oq=/%60/g,hC=/%7B/g,xq=/%7C/g,dC=/%7D/g,Pq=/%20/g;function Qy(e){return encodeURI(""+e).replace(xq,"|").replace(Nq,"[").replace(Rq,"]")}function Dq(e){return Qy(e).replace(hC,"{").replace(dC,"}").replace(fC,"^")}function Jg(e){return Qy(e).replace(lC,"%2B").replace(Pq,"+").replace(cC,"%23").replace(Aq,"%26").replace(Oq,"`").replace(hC,"{").replace(dC,"}").replace(fC,"^")}function Lq(e){return Jg(e).replace(kq,"%3D")}function Mq(e){return Qy(e).replace(cC,"%23").replace(Cq,"%3F")}function Fq(e){return e==null?"":Mq(e).replace(Sq,"%2F")}function Xf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Vq(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(lC," "),a=s.indexOf("="),l=Xf(a<0?s:s.slice(0,a)),f=a<0?null:Xf(s.slice(a+1));if(l in t){let p=t[l];wr(p)||(p=t[l]=[p]),p.push(f)}else t[l]=f}return t}function mT(e){let t="";for(let n in e){const r=e[n];if(n=Lq(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(wr(r)?r.map(s=>s&&Jg(s)):[r&&Jg(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Uq(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=wr(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const jq=Symbol(""),gT=Symbol(""),Yy=Symbol(""),pC=Symbol(""),Zg=Symbol("");function ga(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Ci(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=h=>{h===!1?l(gu(4,{from:n,to:t})):h instanceof Error?l(h):fq(h)?l(gu(2,{from:t,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),a())},p=e.call(r&&r.instances[o],t,n,f);let g=Promise.resolve(p);e.length<3&&(g=g.then(f)),g.catch(h=>l(h))})}function Jm(e,t,n,r){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(Bq(l)){const p=(l.__vccOpts||l)[t];p&&o.push(Ci(p,n,r,s,a))}else{let f=l();o.push(()=>f.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const g=zB(p)?p.default:p;s.components[a]=g;const m=(g.__vccOpts||g)[t];return m&&Ci(m,n,r,s,a)()}))}}return o}function Bq(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function vT(e){const t=pr(Yy),n=pr(pC),r=Xe(()=>t.resolve(fe(e.to))),o=Xe(()=>{const{matched:f}=r.value,{length:p}=f,g=f[p-1],h=n.matched;if(!g||!h.length)return-1;const m=h.findIndex(mu.bind(null,g));if(m>-1)return m;const y=yT(f[p-2]);return p>1&&yT(g)===y&&h[h.length-1].path!==y?h.findIndex(mu.bind(null,f[p-2])):m}),s=Xe(()=>o.value>-1&&Kq(n.params,r.value.params)),a=Xe(()=>o.value>-1&&o.value===n.matched.length-1&&iC(n.params,r.value.params));function l(f={}){return Hq(f)?t[fe(e.replace)?"replace":"push"](fe(e.to)).catch(Oa):Promise.resolve()}return{route:r,href:Xe(()=>r.value.href),isActive:s,isExactActive:a,navigate:l}}const qq=_u({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vT,setup(e,{slots:t}){const n=ii(vT(e)),{options:r}=pr(Yy),o=Xe(()=>({[_T(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[_T(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:jo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),$q=qq;function Hq(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Kq(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!wr(o)||o.length!==r.length||r.some((s,a)=>s!==o[a]))return!1}return!0}function yT(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const _T=(e,t,n)=>e!=null?e:t!=null?t:n,Gq=_u({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=pr(Zg),o=Xe(()=>e.route||r.value),s=pr(gT,0),a=Xe(()=>{let p=fe(s);const{matched:g}=o.value;let h;for(;(h=g[p])&&!h.components;)p++;return p}),l=Xe(()=>o.value.matched[a.value]);Hs(gT,Xe(()=>a.value+1)),Hs(jq,l),Hs(Zg,o);const f=Nn();return zt(()=>[f.value,l.value,e.name],([p,g,h],[m,y,_])=>{g&&(g.instances[h]=p,y&&y!==g&&p&&p===m&&(g.leaveGuards.size||(g.leaveGuards=y.leaveGuards),g.updateGuards.size||(g.updateGuards=y.updateGuards))),p&&g&&(!y||!mu(g,y)||!m)&&(g.enterCallbacks[h]||[]).forEach(b=>b(p))},{flush:"post"}),()=>{const p=o.value,g=e.name,h=l.value,m=h&&h.components[g];if(!m)return wT(n.default,{Component:m,route:p});const y=h.props[g],_=y?y===!0?p.params:typeof y=="function"?y(p):y:null,T=jo(m,Ze({},_,t,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(h.instances[g]=null)},ref:f}));return wT(n.default,{Component:T,route:p})||T}}});function wT(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const zq=Gq;function Wq(e){const t=bq(e.routes,e),n=e.parseQuery||Vq,r=e.stringifyQuery||mT,o=e.history,s=ga(),a=ga(),l=ga(),f=hP(Ii);let p=Ii;Vs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=Qm.bind(null,G=>""+G),h=Qm.bind(null,Fq),m=Qm.bind(null,Xf);function y(G,U){let X,Z;return sC(G)?(X=t.getRecordMatcher(G),Z=U):Z=G,t.addRoute(Z,X)}function _(G){const U=t.getRecordMatcher(G);U&&t.removeRoute(U)}function b(){return t.getRoutes().map(G=>G.record)}function T(G){return!!t.getRecordMatcher(G)}function I(G,U){if(U=Ze({},U||f.value),typeof G=="string"){const A=Ym(n,G,U.path),R=t.resolve({path:A.path},U),M=o.createHref(A.fullPath);return Ze(A,R,{params:m(R.params),hash:Xf(A.hash),redirectedFrom:void 0,href:M})}let X;if("path"in G)X=Ze({},G,{path:Ym(n,G.path,U.path).path});else{const A=Ze({},G.params);for(const R in A)A[R]==null&&delete A[R];X=Ze({},G,{params:h(G.params)}),U.params=h(U.params)}const Z=t.resolve(X,U),Fe=G.hash||"";Z.params=g(m(Z.params));const Ge=QB(r,Ze({},G,{hash:Dq(Fe),path:Z.path})),Te=o.createHref(Ge);return Ze({fullPath:Ge,hash:Fe,query:r===mT?Uq(G.query):G.query||{}},Z,{redirectedFrom:void 0,href:Te})}function N(G){return typeof G=="string"?Ym(n,G,f.value.path):Ze({},G)}function C(G,U){if(p!==G)return gu(8,{from:U,to:G})}function x(G){return q(G)}function V(G){return x(Ze(N(G),{replace:!0}))}function D(G){const U=G.matched[G.matched.length-1];if(U&&U.redirect){const{redirect:X}=U;let Z=typeof X=="function"?X(G):X;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=N(Z):{path:Z},Z.params={}),Ze({query:G.query,hash:G.hash,params:"path"in Z?{}:G.params},Z)}}function q(G,U){const X=p=I(G),Z=f.value,Fe=G.state,Ge=G.force,Te=G.replace===!0,A=D(X);if(A)return q(Ze(N(A),{state:typeof A=="object"?Ze({},Fe,A.state):Fe,force:Ge,replace:Te}),U||X);const R=X;R.redirectedFrom=U;let M;return!Ge&&YB(r,Z,X)&&(M=gu(16,{to:R,from:Z}),dt(Z,Z,!0,!1)),(M?Promise.resolve(M):W(R,Z)).catch(B=>zr(B)?zr(B,2)?B:bt(B):Oe(B,R,Z)).then(B=>{if(B){if(zr(B,2))return q(Ze({replace:Te},N(B.to),{state:typeof B.to=="object"?Ze({},Fe,B.to.state):Fe,force:Ge}),U||R)}else B=Ee(R,Z,!0,Te,Fe);return k(R,Z,B),B})}function L(G,U){const X=C(G,U);return X?Promise.reject(X):Promise.resolve()}function W(G,U){let X;const[Z,Fe,Ge]=Xq(G,U);X=Jm(Z.reverse(),"beforeRouteLeave",G,U);for(const A of Z)A.leaveGuards.forEach(R=>{X.push(Ci(R,G,U))});const Te=L.bind(null,G,U);return X.push(Te),Ps(X).then(()=>{X=[];for(const A of s.list())X.push(Ci(A,G,U));return X.push(Te),Ps(X)}).then(()=>{X=Jm(Fe,"beforeRouteUpdate",G,U);for(const A of Fe)A.updateGuards.forEach(R=>{X.push(Ci(R,G,U))});return X.push(Te),Ps(X)}).then(()=>{X=[];for(const A of G.matched)if(A.beforeEnter&&!U.matched.includes(A))if(wr(A.beforeEnter))for(const R of A.beforeEnter)X.push(Ci(R,G,U));else X.push(Ci(A.beforeEnter,G,U));return X.push(Te),Ps(X)}).then(()=>(G.matched.forEach(A=>A.enterCallbacks={}),X=Jm(Ge,"beforeRouteEnter",G,U),X.push(Te),Ps(X))).then(()=>{X=[];for(const A of a.list())X.push(Ci(A,G,U));return X.push(Te),Ps(X)}).catch(A=>zr(A,8)?A:Promise.reject(A))}function k(G,U,X){for(const Z of l.list())Z(G,U,X)}function Ee(G,U,X,Z,Fe){const Ge=C(G,U);if(Ge)return Ge;const Te=U===Ii,A=Vs?history.state:{};X&&(Z||Te?o.replace(G.fullPath,Ze({scroll:Te&&A&&A.scroll},Fe)):o.push(G.fullPath,Fe)),f.value=G,dt(G,U,X,Te),bt()}let re;function Ae(){re||(re=o.listen((G,U,X)=>{if(!Zt.listening)return;const Z=I(G),Fe=D(Z);if(Fe){q(Ze(Fe,{replace:!0}),Z).catch(Oa);return}p=Z;const Ge=f.value;Vs&&oq(uT(Ge.fullPath,X.delta),Xh()),W(Z,Ge).catch(Te=>zr(Te,12)?Te:zr(Te,2)?(q(Te.to,Z).then(A=>{zr(A,20)&&!X.delta&&X.type===uc.pop&&o.go(-1,!1)}).catch(Oa),Promise.reject()):(X.delta&&o.go(-X.delta,!1),Oe(Te,Z,Ge))).then(Te=>{Te=Te||Ee(Z,Ge,!1),Te&&(X.delta&&!zr(Te,8)?o.go(-X.delta,!1):X.type===uc.pop&&zr(Te,20)&&o.go(-1,!1)),k(Z,Ge,Te)}).catch(Oa)}))}let ke=ga(),Me=ga(),Ce;function Oe(G,U,X){bt(G);const Z=Me.list();return Z.length?Z.forEach(Fe=>Fe(G,U,X)):console.error(G),Promise.reject(G)}function we(){return Ce&&f.value!==Ii?Promise.resolve():new Promise((G,U)=>{ke.add([G,U])})}function bt(G){return Ce||(Ce=!G,Ae(),ke.list().forEach(([U,X])=>G?X(G):U()),ke.reset()),G}function dt(G,U,X,Z){const{scrollBehavior:Fe}=e;if(!Vs||!Fe)return Promise.resolve();const Ge=!X&&sq(uT(G.fullPath,0))||(Z||!X)&&history.state&&history.state.scroll||null;return Di().then(()=>Fe(G,U,Ge)).then(Te=>Te&&iq(Te)).catch(Te=>Oe(Te,G,U))}const pt=G=>o.go(G);let at;const Jt=new Set,Zt={currentRoute:f,listening:!0,addRoute:y,removeRoute:_,hasRoute:T,getRoutes:b,resolve:I,options:e,push:x,replace:V,go:pt,back:()=>pt(-1),forward:()=>pt(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:Me.add,isReady:we,install(G){const U=this;G.component("RouterLink",$q),G.component("RouterView",zq),G.config.globalProperties.$router=U,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>fe(f)}),Vs&&!at&&f.value===Ii&&(at=!0,x(o.location).catch(Fe=>{}));const X={};for(const Fe in Ii)X[Fe]=Xe(()=>f.value[Fe]);G.provide(Yy,U),G.provide(pC,ii(X)),G.provide(Zg,f);const Z=G.unmount;Jt.add(G),G.unmount=function(){Jt.delete(G),Jt.size<1&&(p=Ii,re&&re(),re=null,f.value=Ii,at=!1,Ce=!1),Z()}}};return Zt}function Ps(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function Xq(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const l=t.matched[a];l&&(e.matched.find(p=>mu(p,l))?r.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(p=>mu(p,f))||o.push(f))}return[n,r,o]}const Qq=()=>Oc(()=>import("./HomeView.95841e45.js"),[]),Yq=()=>Oc(()=>import("./AboutView.87d6fd92.js"),[]),Jq=()=>Oc(()=>import("./Manage.ac57bd86.js"),[]),Zq=()=>Oc(()=>import("./Song.a0baa257.js"),[]),Jy=Wq({history:lq("/"),linkExactActiveClass:"text-yellow-500",routes:[{path:"/",name:"home",component:Qq},{path:"/about",name:"about",component:Yq},{path:"/manage",name:"manage",component:Jq,beforeEnter:(e,t,n)=>{n()},meta:{requiresAuth:!0}},{path:"/:catchAll(.*)*",redirect:{name:"home"}},{name:"song",path:"/song/:id",component:Zq}]});Jy.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}Rc().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.7.2
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */function Wo(e){return typeof e=="function"}function Pa(e){return e==null}const Xo=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function mC(e){return Number(e)>=0}function e3(e){const t=parseFloat(e);return isNaN(t)?e:t}const gC={};function cr(e,t){n3(e,t),gC[e]=t}function t3(e){return gC[e]}function n3(e,t){if(!Wo(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const xc=Symbol("vee-validate-form"),r3=Symbol("vee-validate-field-instance"),Qf=Symbol("Default empty value"),i3=typeof window<"u";function ev(e){return Wo(e)&&!!e.__locatorRef}function Da(e){return!!e&&Wo(e.validate)}function vu(e){return e==="checkbox"||e==="radio"}function o3(e){return Xo(e)||Array.isArray(e)}function vC(e){return Array.isArray(e)?e.length===0:Xo(e)&&Object.keys(e).length===0}function Qh(e){return/^\[.+\]$/i.test(e)}function s3(e){return yC(e)&&e.multiple}function yC(e){return e.tagName==="SELECT"}function u3(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function a3(e,t){return!u3(e,t)&&t.type!=="file"&&!vu(t.type)}function _C(e){return Zy(e)&&e.target&&"submit"in e.target}function Zy(e){return e?!!(typeof Event<"u"&&Wo(Event)&&e instanceof Event||e&&e.srcElement):!1}function bT(e,t){return t in e&&e[t]!==Qf}function jt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!jt(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!jt(r[1],t.get(r[0])))return!1;return!0}if(ET(e)&&ET(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){var s=o[r];if(!jt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function ET(e){return i3?e instanceof File:!1}function IT(e,t,n){typeof n.value=="object"&&(n.value=ut(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function ut(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(ut(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(ut(l),ut(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(ut(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)IT(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||IT(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function e_(e){return Qh(e)?e.replace(/\[|\]/gi,""):e}function At(e,t,n){return e?Qh(t)?e[e_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>o3(o)&&s in o?o[s]:n,e):n}function Ti(e,t,n){if(Qh(t)){e[e_(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||Pa(o[r[s]]))&&(o[r[s]]=mC(r[s+1])?[]:{}),o=o[r[s]]}}function Zm(e,t){if(Array.isArray(e)&&mC(t)){e.splice(Number(t),1);return}Xo(e)&&delete e[t]}function Zl(e,t){if(Qh(t)){delete e[e_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Zm(r,n[s]);break}if(!(n[s]in r)||Pa(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,a)=>At(e,n.slice(0,a).join(".")));for(let s=o.length-1;s>=0;s--)if(!!vC(o[s])){if(s===0){Zm(e,n[0]);continue}Zm(o[s-1],n[s-1])}}function Ht(e){return Object.keys(e)}function t_(e,t=void 0){const n=cc();return(n==null?void 0:n.provides[e])||pr(e,t)}function eg(e){nA(`[vee-validate]: ${e}`)}function tv(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>jt(s,t));return o>=0?r.splice(o,1):r.push(t),r}return jt(e,t)?n:t}function TT(e,t=0){let n=null,r=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);r.forEach(a=>a(s)),r=[]},t),new Promise(s=>r.push(s))}}function c3(e,t){return Xo(t)&&t.number?e3(e):e}function nv(e,t){let n;return async function(...o){const s=e(...o);n=s;const a=await s;return s!==n||(n=void 0,t(a,o)),a}}function l3({get:e,set:t}){const n=Nn(ut(e()));return zt(e,r=>{jt(r,n.value)||(n.value=ut(r))},{deep:!0}),zt(n,r=>{jt(r,e())||t(ut(r))},{deep:!0}),n}const Yh=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default;function tg(e){if(wC(e))return e._value}function wC(e){return"_value"in e}function n_(e){if(!Zy(e))return e;const t=e.target;if(vu(t.type)&&wC(t))return tg(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(s3(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(tg);if(yC(t)){const n=Array.from(t.options).find(r=>r.selected);return n?tg(n):t.value}return t.value}function bC(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Xo(e)&&e._$$isNormalized?e:Xo(e)?Object.keys(e).reduce((n,r)=>{const o=f3(e[r]);return e[r]!==!1&&(n[r]=AT(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=h3(r);return o.name&&(n[o.name]=AT(o.params)),n},t):t}function f3(e){return e===!0?[]:Array.isArray(e)||Xo(e)?e:[e]}function AT(e){const t=n=>typeof n=="string"&&n[0]==="@"?d3(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const h3=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function d3(e){const t=n=>At(n,e)||n[e];return t.__locatorRef=e,t}function p3(e){return Array.isArray(e)?e.filter(ev):Ht(e).filter(t=>ev(e[t])).map(t=>e[t])}const m3={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let rv=Object.assign({},m3);const r_=()=>rv,g3=e=>{rv=Object.assign(Object.assign({},rv),e)},v3=g3;async function EC(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,bails:r!=null?r:!0,formData:(n==null?void 0:n.values)||{}},a=(await y3(o,e)).errors;return{errors:a,valid:!a.length}}async function y3(e,t){if(Da(e.rules))return _3(t,e.rules,{bails:e.bails});if(Wo(e.rules)||Array.isArray(e.rules)){const a={field:e.name,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,p=[];for(let g=0;g<f;g++){const h=l[g],m=await h(t,a);if(typeof m!="string"&&m)continue;const _=typeof m=="string"?m:IC(a);if(p.push(_),e.bails)return{errors:p}}return{errors:p}}const n=Object.assign(Object.assign({},e),{rules:bC(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const l=o[a],f=await w3(n,t,{name:l,params:n.rules[l]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}async function _3(e,t,n){var r;return{errors:await t.validate(e,{abortEarly:(r=n.bails)!==null&&r!==void 0?r:!0}).then(()=>[]).catch(s=>{if(s.name==="ValidationError")return s.errors;throw s})}}async function w3(e,t,n){const r=t3(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=b3(n.params,e.formData),s={field:e.name,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await r(t,o,s);return typeof a=="string"?{error:a}:{error:a?void 0:IC(s)}}function IC(e){const t=r_().generateMessage;return t?t(e):"Field is invalid"}function b3(e,t){const n=r=>ev(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function E3(e,t){const n=await e.validate(t,{abortEarly:!1}).then(()=>[]).catch(s=>{if(s.name!=="ValidationError")throw s;return s.inner||[]}),r={},o={};for(const s of n){const a=s.errors;r[s.path]={valid:!a.length,errors:a},a.length&&(o[s.path]=a[0])}return{valid:!n.length,results:r,errors:o}}async function I3(e,t,n){const o=Ht(e).map(async p=>{var g,h,m;const y=await EC(At(t,p),e[p],{name:((g=n==null?void 0:n.names)===null||g===void 0?void 0:g[p])||p,values:t,bails:(m=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[p])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},y),{path:p})});let s=!0;const a=await Promise.all(o),l={},f={};for(const p of a)l[p.path]={valid:p.valid,errors:p.errors},p.valid||(s=!1,f[p.path]=p.errors[0]);return{valid:s,results:l,errors:f}}let ST=0;function T3(e,t){const{value:n,initialValue:r,setInitialValue:o}=TC(e,t.modelValue,t.form),{errorMessage:s,errors:a,setErrors:l}=S3(e,t.form),f=A3(n,r,a),p=ST>=Number.MAX_SAFE_INTEGER?0:++ST;function g(h){var m;"value"in h&&(n.value=h.value),"errors"in h&&l(h.errors),"touched"in h&&(f.touched=(m=h.touched)!==null&&m!==void 0?m:f.touched),"initialValue"in h&&o(h.initialValue)}return{id:p,path:e,value:n,initialValue:r,meta:f,errors:a,errorMessage:s,setState:g}}function TC(e,t,n){const r=Nn(fe(t));function o(){return n?At(n.meta.value.initialValues,fe(e),fe(r)):fe(r)}function s(p){if(!n){r.value=p;return}n.stageInitialValue(fe(e),p,!0)}const a=Xe(o);if(!n)return{value:Nn(o()),initialValue:a,setInitialValue:s};const l=t?fe(t):At(n.values,fe(e),fe(a));return n.stageInitialValue(fe(e),l,!0),{value:Xe({get(){return At(n.values,fe(e))},set(p){n.setFieldValue(fe(e),p)}}),initialValue:a,setInitialValue:s}}function A3(e,t,n){const r=ii({touched:!1,pending:!1,valid:!0,validated:!!fe(n).length,initialValue:Xe(()=>fe(t)),dirty:Xe(()=>!jt(fe(e),fe(t)))});return zt(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function S3(e,t){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!t){const o=Nn([]);return{errors:o,errorMessage:Xe(()=>o.value[0]),setErrors:s=>{o.value=n(s)}}}const r=Xe(()=>t.errorBag.value[fe(e)]||[]);return{errors:r,errorMessage:Xe(()=>r.value[0]),setErrors:o=>{t.setFieldErrorBag(fe(e),n(o))}}}function k3(e,t,n){return vu(n==null?void 0:n.type)?R3(e,t,n):AC(e,t,n)}function AC(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:a,checkedValue:l,label:f,validateOnValueUpdate:p,uncheckedValue:g,controlled:h,keepValueOnUnmount:m,modelPropName:y,syncVModel:_,form:b}=C3(fe(e),n),T=h?t_(xc):void 0,I=b||T;let N=!1;const{id:C,value:x,initialValue:V,meta:D,setState:q,errors:L,errorMessage:W}=T3(e,{modelValue:r,form:I});_&&O3({value:x,prop:y,handleChange:Ce});const k=()=>{D.touched=!0},Ee=Xe(()=>{let U=fe(t);const X=fe(I==null?void 0:I.schema);return X&&!Da(X)&&(U=N3(X,fe(e))||U),Da(U)||Wo(U)||Array.isArray(U)?U:bC(U)});async function re(U){var X,Z;return I!=null&&I.validateSchema?(X=(await I.validateSchema(U)).results[fe(e)])!==null&&X!==void 0?X:{valid:!0,errors:[]}:EC(x.value,Ee.value,{name:fe(f)||fe(e),values:(Z=I==null?void 0:I.values)!==null&&Z!==void 0?Z:{},bails:s})}const Ae=nv(async()=>(D.pending=!0,D.validated=!0,re("validated-only")),U=>(N&&(U.valid=!0,U.errors=[]),q({errors:U.errors}),D.pending=!1,U)),ke=nv(async()=>re("silent"),U=>(N&&(U.valid=!0),D.valid=U.valid,U));function Me(U){return(U==null?void 0:U.mode)==="silent"?ke():Ae()}function Ce(U,X=!0){const Z=n_(U);x.value=Z,!p&&X&&Ae()}uh(()=>{if(o)return Ae();(!I||!I.validateSchema)&&ke()});function Oe(U){D.touched=U}let we,bt=ut(x.value);function dt(){we=zt(x,(U,X)=>{if(jt(U,X)&&jt(U,bt))return;(p?Ae:ke)(),bt=ut(U)},{deep:!0})}dt();function pt(U){var X;we==null||we();const Z=U&&"value"in U?U.value:V.value;q({value:ut(Z),initialValue:ut(Z),touched:(X=U==null?void 0:U.touched)!==null&&X!==void 0?X:!1,errors:(U==null?void 0:U.errors)||[]}),D.pending=!1,D.validated=!1,ke(),Di(()=>{dt()})}function at(U){x.value=U}function Jt(U){q({errors:Array.isArray(U)?U:[U]})}const Zt={id:C,name:e,label:f,value:x,meta:D,errors:L,errorMessage:W,type:a,checkedValue:l,uncheckedValue:g,bails:s,keepValueOnUnmount:m,resetField:pt,handleReset:()=>pt(),validate:Me,handleChange:Ce,handleBlur:k,setState:q,setTouched:Oe,setErrors:Jt,setValue:at};if(Hs(r3,Zt),it(t)&&typeof fe(t)!="function"&&zt(t,(U,X)=>{jt(U,X)||(D.validated?Ae():ke())},{deep:!0}),!I)return Zt;I.register(Zt),ah(()=>{N=!0,I.unregister(Zt)});const G=Xe(()=>{const U=Ee.value;return!U||Wo(U)||Da(U)||Array.isArray(U)?{}:Object.keys(U).reduce((X,Z)=>{const Fe=p3(U[Z]).map(Ge=>Ge.__locatorRef).reduce((Ge,Te)=>{const A=At(I.values,Te)||I.values[Te];return A!==void 0&&(Ge[Te]=A),Ge},{});return Object.assign(X,Fe),X},{})});return zt(G,(U,X)=>{if(!Object.keys(U).length)return;!jt(U,X)&&(D.validated?Ae():ke())}),Zt}function C3(e,t){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:e,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0});if(!t)return n();const r="valueProp"in t?t.valueProp:t.checkedValue,o="standalone"in t?!t.standalone:t.controlled;return Object.assign(Object.assign(Object.assign({},n()),t||{}),{controlled:o!=null?o:!0,checkedValue:r})}function N3(e,t){if(!!e)return e[t]}function R3(e,t,n){const r=n!=null&&n.standalone?void 0:t_(xc),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,p=Xe(()=>{const h=fe(l.value),m=fe(o);return Array.isArray(h)?h.findIndex(y=>jt(y,m))>=0:jt(m,h)});function g(h,m=!0){var y;if(p.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked)){m&&l.validate();return}let _=n_(h);r||(_=tv(fe(l.value),fe(o),fe(s))),f(_,m)}return Object.assign(Object.assign({},l),{checked:p,checkedValue:o,uncheckedValue:s,handleChange:g})}return a(AC(e,t,n))}function O3({prop:e,value:t,handleChange:n}){const r=cc();if(!r)return;const o=e||"modelValue",s=`update:${o}`;o in r.props&&(zt(t,a=>{jt(a,kT(r,o))||r.emit(s,a)}),zt(()=>kT(r,o),a=>{if(a===Qf&&t.value===void 0)return;const l=a===Qf?void 0:a;jt(l,c3(t.value,r.props.modelModifiers))||n(l)}))}function kT(e,t){return e.props[t]}const x3=_u({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>r_().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Qf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Dr(e,"rules"),r=Dr(e,"name"),o=Dr(e,"label"),s=Dr(e,"uncheckedValue"),a=Dr(e,"keepValue"),{errors:l,value:f,errorMessage:p,validate:g,handleChange:h,handleBlur:m,setTouched:y,resetField:_,handleReset:b,meta:T,checked:I,setErrors:N}=k3(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:D3(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),C=function(W,k=!0){h(W,k),t.emit("update:modelValue",f.value)},x=L=>{vu(t.attrs.type)||(f.value=n_(L))},V=function(W){x(W),t.emit("update:modelValue",f.value)},D=Xe(()=>{const{validateOnInput:L,validateOnChange:W,validateOnBlur:k,validateOnModelUpdate:Ee}=P3(e),re=[m,t.attrs.onBlur,k?g:void 0].filter(Boolean),Ae=[Oe=>C(Oe,L),t.attrs.onInput].filter(Boolean),ke=[Oe=>C(Oe,W),t.attrs.onChange].filter(Boolean),Me={name:e.name,onBlur:re,onInput:Ae,onChange:ke};Me["onUpdate:modelValue"]=Oe=>C(Oe,Ee),vu(t.attrs.type)&&I&&(Me.checked=I.value);const Ce=CT(e,t);return a3(Ce,t.attrs)&&(Me.value=f.value),Me});function q(){return{field:D.value,value:f.value,meta:T,errors:l.value,errorMessage:p.value,validate:g,resetField:_,handleChange:C,handleInput:V,handleReset:b,handleBlur:m,setTouched:y,setErrors:N}}return t.expose({setErrors:N,setTouched:y,reset:_,validate:g,handleChange:h}),()=>{const L=ch(CT(e,t)),W=Yh(L,t,q);return L?jo(L,Object.assign(Object.assign({},t.attrs),D.value),W):W}}});function CT(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function P3(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=r_();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function D3(e,t){return vu(t.attrs.type)?bT(e,"modelValue")?e.modelValue:void 0:bT(e,"modelValue")?e.modelValue:t.attrs.value}const L3=x3;let M3=0;function F3(e){var t;const n=M3++,r=new Set;let o=!1;const s=Nn({}),a=Nn(!1),l=Nn(0),f=[],p=ii(ut(fe(e==null?void 0:e.initialValues)||{})),{errorBag:g,setErrorBag:h,setFieldErrorBag:m}=j3(e==null?void 0:e.initialErrors),y=Xe(()=>Ht(g.value).reduce((O,P)=>{const Q=g.value[P];return Q&&Q.length&&(O[P]=Q[0]),O},{}));function _(O){const P=s.value[O];return Array.isArray(P)?P[0]:P}function b(O){return!!s.value[O]}const T=Xe(()=>Ht(s.value).reduce((O,P)=>{const Q=_(P);return Q&&(O[P]=fe(Q.label||Q.name)||""),O},{})),I=Xe(()=>Ht(s.value).reduce((O,P)=>{var Q;const Y=_(P);return Y&&(O[P]=(Q=Y.bails)!==null&&Q!==void 0?Q:!0),O},{})),N=Object.assign({},(e==null?void 0:e.initialErrors)||{}),C=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:x,originalInitialValues:V,setInitialValues:D}=U3(s,p,e==null?void 0:e.initialValues),q=V3(s,p,V,y),L=Xe(()=>[...r,...Ht(s.value)].reduce((O,P)=>{const Q=At(p,P);return Ti(O,P,Q),O},{})),W=e==null?void 0:e.validationSchema,k=TT(se,5),Ee=TT(se,5),re=nv(async O=>await O==="silent"?k():Ee(),(O,[P])=>{const Q=Ce.fieldsByPath.value||{},Y=Ht(Ce.errorBag.value);return[...new Set([...Ht(O.results),...Ht(Q),...Y])].reduce((ue,le)=>{const ae=Q[le],xe=(O.results[le]||{errors:[]}).errors,Ve={errors:xe,valid:!xe.length};if(ue.results[le]=Ve,Ve.valid||(ue.errors[le]=Ve.errors[0]),!ae)return dt(le,xe),ue;if(we(ae,fn=>fn.meta.valid=Ve.valid),P==="silent")return ue;const en=Array.isArray(ae)?ae.some(fn=>fn.meta.validated):ae.meta.validated;return P==="validated-only"&&!en||we(ae,fn=>fn.setState({errors:Ve.errors})),ue},{valid:O.valid,results:{},errors:{}})});function Ae(O){return function(Q,Y){return function(ue){return ue instanceof Event&&(ue.preventDefault(),ue.stopPropagation()),X(Ht(s.value).reduce((le,ae)=>(le[ae]=!0,le),{})),a.value=!0,l.value++,R().then(le=>{const ae=ut(p);if(le.valid&&typeof Q=="function"){const xe=ut(L.value);return Q(O?xe:ae,{evt:ue,controlledValues:xe,setErrors:pt,setFieldError:dt,setTouched:X,setFieldTouched:U,setValues:Jt,setFieldValue:at,resetForm:Z})}!le.valid&&typeof Y=="function"&&Y({values:ae,evt:ue,errors:le.errors,results:le.results})}).then(le=>(a.value=!1,le),le=>{throw a.value=!1,le})}}}const Me=Ae(!1);Me.withControlled=Ae(!0);const Ce={formId:n,fieldsByPath:s,values:p,controlledValues:L,errorBag:g,errors:y,schema:W,submitCount:l,meta:q,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:C,validateSchema:fe(W)?re:void 0,validate:R,register:Te,unregister:A,setFieldErrorBag:m,validateField:M,setFieldValue:at,setValues:Jt,setErrors:pt,setFieldError:dt,setFieldTouched:U,setTouched:X,resetForm:Z,handleSubmit:Me,stageInitialValue:H,unsetInitialValue:B,setFieldInitialValue:te,useFieldModel:G};function Oe(O){return Array.isArray(O)}function we(O,P){return Array.isArray(O)?O.forEach(P):P(O)}function bt(O){Object.values(s.value).forEach(P=>{!P||we(P,O)})}function dt(O,P){m(O,P)}function pt(O){h(O)}function at(O,P,{force:Q}={force:!1}){var Y;const oe=s.value[O],ue=ut(P);if(!oe){Ti(p,O,ue);return}if(Oe(oe)&&((Y=oe[0])===null||Y===void 0?void 0:Y.type)==="checkbox"&&!Array.isArray(P)){const ae=ut(tv(At(p,O)||[],P,void 0));Ti(p,O,ae);return}let le=P;!Oe(oe)&&oe.type==="checkbox"&&!Q&&!o&&(le=ut(tv(At(p,O),P,fe(oe.uncheckedValue)))),Ti(p,O,le)}function Jt(O){Ht(p).forEach(P=>{delete p[P]}),Ht(O).forEach(P=>{at(P,O[P])}),f.forEach(P=>P&&P.reset())}function Zt(O){const{value:P}=TC(O,void 0,Ce);return zt(P,()=>{b(fe(O))||R({mode:"validated-only"})},{deep:!0}),r.add(fe(O)),P}function G(O){return Array.isArray(O)?O.map(Zt):Zt(O)}function U(O,P){const Q=s.value[O];Q&&we(Q,Y=>Y.setTouched(P))}function X(O){Ht(O).forEach(P=>{U(P,!!O[P])})}function Z(O){o=!0,bt(P=>P.resetField()),O!=null&&O.values?(D(O.values),Jt(O==null?void 0:O.values)):(D(V.value),Jt(V.value)),O!=null&&O.touched&&X(O.touched),pt((O==null?void 0:O.errors)||{}),l.value=(O==null?void 0:O.submitCount)||0,Di(()=>{o=!1})}function Fe(O,P){const Q=Uo(O),Y=P;if(!s.value[Y]){s.value[Y]=Q;return}const oe=s.value[Y];oe&&!Array.isArray(oe)&&(s.value[Y]=[oe]),s.value[Y]=[...s.value[Y],Q]}function Ge(O,P){const Q=P,Y=s.value[Q];if(!!Y){if(!Oe(Y)&&O.id===Y.id){delete s.value[Q];return}if(Oe(Y)){const oe=Y.findIndex(ue=>ue.id===O.id);if(oe===-1)return;Y.splice(oe,1),Y.length||delete s.value[Q]}}}function Te(O){const P=fe(O.name);Fe(O,P),it(O.name)&&zt(O.name,async(Y,oe)=>{await Di(),Ge(O,oe),Fe(O,Y),(y.value[oe]||y.value[Y])&&(dt(oe,void 0),M(Y)),await Di(),b(oe)||Zl(p,oe)});const Q=fe(O.errorMessage);Q&&(N==null?void 0:N[P])!==Q&&M(P),delete N[P]}function A(O){const P=fe(O.name),Q=s.value[P],Y=!!Q&&Oe(Q);Ge(O,P),Di(()=>{var oe;const ue=(oe=fe(O.keepValueOnUnmount))!==null&&oe!==void 0?oe:fe(C),le=At(p,P);if(Y&&(Q===s.value[P]||!s.value[P])&&!ue)if(Array.isArray(le)){const xe=le.findIndex(Ve=>jt(Ve,fe(O.checkedValue)));if(xe>-1){const Ve=[...le];Ve.splice(xe,1),at(P,Ve,{force:!0})}}else le===fe(O.checkedValue)&&Zl(p,P);if(!b(P)){if(dt(P,void 0),ue||Y&&Array.isArray(le)&&!vC(le))return;Zl(p,P)}})}async function R(O){const P=(O==null?void 0:O.mode)||"force";if(P==="force"&&bt(ue=>ue.meta.validated=!0),Ce.validateSchema)return Ce.validateSchema(P);const Q=await Promise.all(Object.values(s.value).map(ue=>{const le=Array.isArray(ue)?ue[0]:ue;return le?le.validate(O).then(ae=>({key:fe(le.name),valid:ae.valid,errors:ae.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),Y={},oe={};for(const ue of Q)Y[ue.key]={valid:ue.valid,errors:ue.errors},ue.errors.length&&(oe[ue.key]=ue.errors[0]);return{valid:Q.every(ue=>ue.valid),results:Y,errors:oe}}async function M(O){const P=s.value[O];return P?Array.isArray(P)?P.map(Q=>Q.validate())[0]:P.validate():(nA(`field with name ${O} was not found`),Promise.resolve({errors:[],valid:!0}))}function B(O){Zl(x.value,O)}function H(O,P,Q=!1){Ti(p,O,P),te(O,P),Q&&!(e!=null&&e.initialValues)&&Ti(V.value,O,ut(P))}function te(O,P){Ti(x.value,O,ut(P))}async function se(){const O=fe(W);return O?Da(O)?await E3(O,p):await I3(O,p,{names:T.value,bailsMap:I.value}):{valid:!0,results:{},errors:{}}}const ne=Me((O,{evt:P})=>{_C(P)&&P.target.submit()});return uh(()=>{if(e!=null&&e.initialErrors&&pt(e.initialErrors),e!=null&&e.initialTouched&&X(e.initialTouched),e!=null&&e.validateOnMount){R();return}Ce.validateSchema&&Ce.validateSchema("silent")}),it(W)&&zt(W,()=>{var O;(O=Ce.validateSchema)===null||O===void 0||O.call(Ce,"validated-only")}),Hs(xc,Ce),Object.assign(Object.assign({},Ce),{handleReset:()=>Z(),submitForm:ne})}function V3(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=Xe(()=>!jt(t,fe(n)));function a(){const f=Object.values(e.value).flat(1).filter(Boolean);return Ht(o).reduce((p,g)=>{const h=o[g];return p[g]=f[h](m=>m.meta[g]),p},{})}const l=ii(a());return LP(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Xe(()=>Object.assign(Object.assign({initialValues:fe(n)},l),{valid:l.valid&&!Ht(r.value).length,dirty:s.value}))}function U3(e,t,n){const r=Nn(ut(fe(n))||{}),o=Nn(ut(fe(n))||{});function s(a,l=!1){r.value=ut(a),o.value=ut(a),l&&Ht(e.value).forEach(f=>{const p=e.value[f],g=Array.isArray(p)?p.some(m=>m.meta.touched):p==null?void 0:p.meta.touched;if(!p||g)return;const h=At(r.value,f);Ti(t,f,ut(h))})}return it(n)&&zt(n,a=>{s(a,!0)},{deep:!0}),{initialValues:r,originalInitialValues:o,setInitialValues:s}}function j3(e){const t=Nn({});function n(s){return Array.isArray(s)?s:s?[s]:[]}function r(s,a){if(!a){delete t.value[s];return}t.value[s]=n(a)}function o(s){t.value=Ht(s).reduce((a,l)=>{const f=s[l];return f&&(a[l]=n(f)),a},{})}return e&&o(e),{errorBag:t,setErrorBag:o,setFieldErrorBag:r}}const B3=_u({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Dr(e,"initialValues"),r=Dr(e,"validationSchema"),o=Dr(e,"keepValues"),{errors:s,values:a,meta:l,isSubmitting:f,submitCount:p,controlledValues:g,validate:h,validateField:m,handleReset:y,resetForm:_,handleSubmit:b,setErrors:T,setFieldError:I,setFieldValue:N,setValues:C,setFieldTouched:x,setTouched:V}=F3({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),D=b((Ee,{evt:re})=>{_C(re)&&re.target.submit()},e.onInvalidSubmit),q=e.onSubmit?b(e.onSubmit,e.onInvalidSubmit):D;function L(Ee){Zy(Ee)&&Ee.preventDefault(),y(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function W(Ee,re){return b(typeof Ee=="function"&&!re?Ee:re,e.onInvalidSubmit)(Ee)}function k(){return{meta:l.value,errors:s.value,values:a,isSubmitting:f.value,submitCount:p.value,controlledValues:g.value,validate:h,validateField:m,handleSubmit:W,handleReset:y,submitForm:D,setErrors:T,setFieldError:I,setFieldValue:N,setValues:C,setFieldTouched:x,setTouched:V,resetForm:_}}return t.expose({setFieldError:I,setErrors:T,setFieldValue:N,setValues:C,setFieldTouched:x,setTouched:V,resetForm:_,validate:h,validateField:m}),function(){const re=e.as==="form"?e.as:ch(e.as),Ae=Yh(re,t,k);if(!e.as)return Ae;const ke=e.as==="form"?{novalidate:!0}:{};return jo(re,Object.assign(Object.assign(Object.assign({},ke),t.attrs),{onSubmit:q,onReset:L}),Ae)}}}),q3=B3;function $3(e){const t=t_(xc,void 0),n=Nn([]),r=()=>{},o={fields:n,remove:r,push:r,swap:r,insert:r,update:r,replace:r,prepend:r,move:r};if(!t)return eg("FieldArray requires being a child of `<Form/>` or `useForm` being called before it. Array fields may not work correctly"),o;if(!fe(e))return eg("FieldArray requires a field path to be provided, did you forget to pass the `name` prop?"),o;const s=t.fieldArrays.find(C=>fe(C.path)===fe(e));if(s)return s;let a=0;function l(){const C=At(t==null?void 0:t.values,fe(e),[])||[];n.value=C.map(p),f()}l();function f(){const C=n.value.length;for(let x=0;x<C;x++){const V=n.value[x];V.isFirst=x===0,V.isLast=x===C-1}}function p(C){const x=a++;return{key:x,value:l3({get(){const D=At(t==null?void 0:t.values,fe(e),[])||[],q=n.value.findIndex(L=>L.key===x);return q===-1?C:D[q]},set(D){const q=n.value.findIndex(L=>L.key===x);if(q===-1){eg("Attempting to update a non-existent array item");return}b(q,D)}}),isFirst:!1,isLast:!1}}function g(C){const x=fe(e),V=At(t==null?void 0:t.values,x);if(!V||!Array.isArray(V))return;const D=[...V];D.splice(C,1),t==null||t.unsetInitialValue(x+`[${C}]`),t==null||t.setFieldValue(x,D),n.value.splice(C,1),f()}function h(C){const x=fe(e),V=At(t==null?void 0:t.values,x),D=Pa(V)?[]:V;if(!Array.isArray(D))return;const q=[...D];q.push(C),t==null||t.stageInitialValue(x+`[${q.length-1}]`,C),t==null||t.setFieldValue(x,q),n.value.push(p(C)),f()}function m(C,x){const V=fe(e),D=At(t==null?void 0:t.values,V);if(!Array.isArray(D)||!(C in D)||!(x in D))return;const q=[...D],L=[...n.value],W=q[C];q[C]=q[x],q[x]=W;const k=L[C];L[C]=L[x],L[x]=k,t==null||t.setFieldValue(V,q),n.value=L,f()}function y(C,x){const V=fe(e),D=At(t==null?void 0:t.values,V);if(!Array.isArray(D)||D.length<C)return;const q=[...D],L=[...n.value];q.splice(C,0,x),L.splice(C,0,p(x)),t==null||t.setFieldValue(V,q),n.value=L,f()}function _(C){const x=fe(e);t==null||t.setFieldValue(x,C),l()}function b(C,x){const V=fe(e),D=At(t==null?void 0:t.values,V);!Array.isArray(D)||D.length-1<C||(t==null||t.setFieldValue(`${V}[${C}]`,x),t==null||t.validate({mode:"validated-only"}))}function T(C){const x=fe(e),V=At(t==null?void 0:t.values,x),D=Pa(V)?[]:V;if(!Array.isArray(D))return;const q=[C,...D];t==null||t.stageInitialValue(x+`[${q.length-1}]`,C),t==null||t.setFieldValue(x,q),n.value.unshift(p(C)),f()}function I(C,x){const V=fe(e),D=At(t==null?void 0:t.values,V),q=Pa(D)?[]:[...D];if(!Array.isArray(D)||!(C in D)||!(x in D))return;const L=[...n.value],W=L[C];L.splice(C,1),L.splice(x,0,W);const k=q[C];q.splice(C,1),q.splice(x,0,k),t==null||t.setFieldValue(V,q),n.value=L,f()}const N={fields:n,remove:g,push:h,swap:m,insert:y,update:b,replace:_,prepend:T,move:I};return t.fieldArrays.push(Object.assign({path:e,reset:l},N)),ah(()=>{const C=t.fieldArrays.findIndex(x=>fe(x.path)===fe(e));C>=0&&t.fieldArrays.splice(C,1)}),N}_u({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:r,swap:o,insert:s,replace:a,update:l,prepend:f,move:p,fields:g}=$3(Dr(e,"name"));function h(){return{fields:g.value,push:n,remove:r,swap:o,insert:s,update:l,replace:a,prepend:f,move:p}}return t.expose({push:n,remove:r,swap:o,insert:s,update:l,replace:a,prepend:f,move:p}),()=>Yh(void 0,t,h)}});const H3=_u({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=pr(xc,void 0),r=Xe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?ch(e.as):e.as,a=Yh(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a==null?void 0:a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?jo(s||"span",l,r.value):jo(s,l,a)}}}),K3=H3;/**
  * vee-validate v4.7.2
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */const ef={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},G3=e=>{if(!!e)return Array.isArray(e)?e[0]:e.locale};function Pc(e,t){return Array.isArray(e)?e[0]:e[t]}function Xi(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const SC=(e,t)=>{if(Xi(e))return!0;const n=G3(t);if(Array.isArray(e))return e.every(o=>SC(o,{locale:n}));const r=String(e);return n?(ef[n]||ef.en).test(r):Object.keys(ef).some(o=>ef[o].test(r))},z3=(e,t)=>{const n=Pc(t,"target");return String(e)===String(n)},W3=e=>{if(Xi(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function X3(e){return e==null}function Q3(e){return Array.isArray(e)&&e.length===0}const kC=(e,t)=>{if(Xi(e))return!0;const n=Pc(t,"length");return Array.isArray(e)?e.every(r=>kC(r,{length:n})):String(e).length<=Number(n)},CC=(e,t)=>{if(Xi(e))return!0;const n=Pc(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>CC(r,{max:n})):Number(e)<=Number(n)},NC=(e,t)=>{if(Xi(e))return!0;const n=Pc(t,"length");return Array.isArray(e)?e.every(r=>NC(r,{length:n})):String(e).length>=Number(n)},RC=(e,t)=>{if(Xi(e))return!0;const n=Pc(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>RC(r,{min:n})):Number(e)>=Number(n)},OC=(e,t)=>Xi(e)?!0:Array.isArray(e)?e.every(n=>OC(n,t)):Array.from(t).some(n=>n==e),NT=(e,t)=>Xi(e)?!0:!OC(e,t),RT=e=>X3(e)||Q3(e)||e===!1?!1:!!String(e).trim().length,Y3={install(e){e.component("VeeForm",q3),e.component("VeeField",L3),e.component("ErrorMessage",K3),cr("required",RT),cr("tos",RT),cr("min",NC),cr("max",kC),cr("alpha_spaces",SC),cr("email",W3),cr("min_value",RC),cr("max_value",CC),cr("password_missmatch",z3),cr("excluded",NT),cr("country_excluded",NT),v3({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too long.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,excluded:`You are not allowed to use this value for the field ${t.field}`,country_excluded:"Due to restrictions, we do not accept users from this location.",password_missmatch:"The password do not match.",tos:"You must accept Terms of Service."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnModelUpdate:!0,validateOnInput:!1})}},J3={beforeMount(e,t){let n=`fa fa-${t.value} text-xl `;t.modifiers.black?n+=" text-black-400":n+=" text-green-400",t.modifiers.right&&(n+=" float-right"),e.innerHTML+=`<i class="${n}"></i>`}};function Z3(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:s,onRegisterError:a}=e;let l,f,p,g;const h=async(y=!0)=>{await p,await(g==null?void 0:g())};async function m(){if("serviceWorker"in navigator){const{Workbox:y}=await Oc(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);l=new y("/sw.js",{scope:"/",type:"classic"}),g=async()=>{f&&f.waiting&&await(l==null?void 0:l.messageSkipWaiting())},l.addEventListener("activated",_=>{!_.isUpdate&&_.isExternal?window.location.reload():_.isUpdate||r==null||r()});{const _=()=>{l==null||l.addEventListener("controlling",b=>{b.isUpdate&&window.location.reload()}),n==null||n()};l.addEventListener("waiting",_),l.addEventListener("externalwaiting",_)}l.register({immediate:t}).then(_=>{f=_,s?s("/sw.js",_):o==null||o(_)}).catch(_=>{a==null||a(_)})}}return p=m(),h}var xC={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,t){(function(n,r){e.exports=r()})(Fs,function(){var n={};n.version="0.2.0";var r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};n.configure=function(_){var b,T;for(b in _)T=_[b],T!==void 0&&_.hasOwnProperty(b)&&(r[b]=T);return this},n.status=null,n.set=function(_){var b=n.isStarted();_=o(_,r.minimum,1),n.status=_===1?null:_;var T=n.render(!b),I=T.querySelector(r.barSelector),N=r.speed,C=r.easing;return T.offsetWidth,l(function(x){r.positionUsing===""&&(r.positionUsing=n.getPositioningCSS()),f(I,a(_,N,C)),_===1?(f(T,{transition:"none",opacity:1}),T.offsetWidth,setTimeout(function(){f(T,{transition:"all "+N+"ms linear",opacity:0}),setTimeout(function(){n.remove(),x()},N)},N)):setTimeout(x,N)}),this},n.isStarted=function(){return typeof n.status=="number"},n.start=function(){n.status||n.set(0);var _=function(){setTimeout(function(){!n.status||(n.trickle(),_())},r.trickleSpeed)};return r.trickle&&_(),this},n.done=function(_){return!_&&!n.status?this:n.inc(.3+.5*Math.random()).set(1)},n.inc=function(_){var b=n.status;return b?(typeof _!="number"&&(_=(1-b)*o(Math.random()*b,.1,.95)),b=o(b+_,0,.994),n.set(b)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},function(){var _=0,b=0;n.promise=function(T){return!T||T.state()==="resolved"?this:(b===0&&n.start(),_++,b++,T.always(function(){b--,b===0?(_=0,n.done()):n.set((_-b)/_)}),this)}}(),n.render=function(_){if(n.isRendered())return document.getElementById("nprogress");g(document.documentElement,"nprogress-busy");var b=document.createElement("div");b.id="nprogress",b.innerHTML=r.template;var T=b.querySelector(r.barSelector),I=_?"-100":s(n.status||0),N=document.querySelector(r.parent),C;return f(T,{transition:"all 0 linear",transform:"translate3d("+I+"%,0,0)"}),r.showSpinner||(C=b.querySelector(r.spinnerSelector),C&&y(C)),N!=document.body&&g(N,"nprogress-custom-parent"),N.appendChild(b),b},n.remove=function(){h(document.documentElement,"nprogress-busy"),h(document.querySelector(r.parent),"nprogress-custom-parent");var _=document.getElementById("nprogress");_&&y(_)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var _=document.body.style,b="WebkitTransform"in _?"Webkit":"MozTransform"in _?"Moz":"msTransform"in _?"ms":"OTransform"in _?"O":"";return b+"Perspective"in _?"translate3d":b+"Transform"in _?"translate":"margin"};function o(_,b,T){return _<b?b:_>T?T:_}function s(_){return(-1+_)*100}function a(_,b,T){var I;return r.positionUsing==="translate3d"?I={transform:"translate3d("+s(_)+"%,0,0)"}:r.positionUsing==="translate"?I={transform:"translate("+s(_)+"%,0)"}:I={"margin-left":s(_)+"%"},I.transition="all "+b+"ms "+T,I}var l=function(){var _=[];function b(){var T=_.shift();T&&T(b)}return function(T){_.push(T),_.length==1&&b()}}(),f=function(){var _=["Webkit","O","Moz","ms"],b={};function T(x){return x.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(V,D){return D.toUpperCase()})}function I(x){var V=document.body.style;if(x in V)return x;for(var D=_.length,q=x.charAt(0).toUpperCase()+x.slice(1),L;D--;)if(L=_[D]+q,L in V)return L;return x}function N(x){return x=T(x),b[x]||(b[x]=I(x))}function C(x,V,D){V=N(V),x.style[V]=D}return function(x,V){var D=arguments,q,L;if(D.length==2)for(q in V)L=V[q],L!==void 0&&V.hasOwnProperty(q)&&C(x,q,L);else C(x,D[1],D[2])}}();function p(_,b){var T=typeof _=="string"?_:m(_);return T.indexOf(" "+b+" ")>=0}function g(_,b){var T=m(_),I=T+b;p(T,b)||(_.className=I.substring(1))}function h(_,b){var T=m(_),I;!p(_,b)||(I=T.replace(" "+b+" "," "),_.className=I.substring(1,I.length-1))}function m(_){return(" "+(_.className||"")+" ").replace(/\s+/gi," ")}function y(_){_&&_.parentNode&&_.parentNode.removeChild(_)}return n})})(xC);const OT=xC.exports,e4=e=>{e.beforeEach((t,n,r)=>{OT.start(),r()}),e.afterEach(OT.done)};Z3({immediate:!0});e4(Jy);let bo;Ra.onAuthStateChanged(()=>{bo||(bo=JD(HB),bo.use(tL()),bo.use(Jy),bo.use(Y3),bo.directive("icon",J3),bo.mount("#app"))});export{i4 as A,yn as F,Nu as _,he as a,Pe as b,sn as c,Ea as d,n4 as e,t4 as f,gA as g,_f as h,r4 as i,s4 as j,Ra as k,Xs as l,La as m,Yr as n,Rt as o,Av as p,Rv as q,Bn as r,u4 as s,Pi as t,rT as u,o4 as v,Zn as w,a4 as x,FA as y,Rc as z};
